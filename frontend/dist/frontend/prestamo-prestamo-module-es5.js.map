{"version":3,"sources":["webpack:///src/app/views/admin/prestamo/components/tabs/tab-prestamo/tab-prestamo.component.html","webpack:///src/app/views/admin/prestamo/components/modals/modal-pago/modal-pago.component.html","webpack:///src/app/views/admin/prestamo/components/pdfs/pdf-pago/pdf-pago.component.ts","webpack:///src/app/core/services/pago.service.ts","webpack:///src/app/views/admin/prestamo/prestamo.component.ts","webpack:///src/app/views/admin/prestamo/components/cards/card-prestamo-detalle/card-prestamo-detalle.component.ts","webpack:///src/app/views/admin/prestamo/components/modals/modal-amortiguar/modal-amortiguar.component.html","webpack:///src/app/views/admin/prestamo/prestamo.component.html","webpack:///src/app/views/admin/prestamo/components/modals/modal-pago/modal-pago.component.ts","webpack:///src/app/core/services/impresion.service.ts","webpack:///src/app/views/admin/prestamo/components/cards/card-prestamos/card-prestamos.component.ts","webpack:///src/app/views/admin/prestamo/components/pdfs/pdf-documento/pdf-documento.component.html","webpack:///src/app/views/admin/prestamo/components/modals/modal-impresion-contrato/modal-impresion-contrato.component.ts","webpack:///src/app/views/admin/prestamo/components/pdfs/pdf-documento/pdf-documento.component.ts","webpack:///src/app/views/admin/prestamo/components/modals/modal-edit-prestamo/modal-edit-prestamo.component.ts","webpack:///src/app/views/admin/prestamo/components/cards/card-prestamo-detalle/card-prestamo-detalle.component.html","webpack:///src/app/core/services/amortizacion.service.ts","webpack:///src/app/views/admin/prestamo/components/modals/modal-amortiguar/modal-amortiguar.component.ts","webpack:///src/app/views/admin/prestamo/prestamo-routing.module.ts","webpack:///src/app/views/admin/prestamo/components/cards/card-prestamos/card-prestamos.component.html","webpack:///src/app/views/admin/prestamo/components/modals/modal-impresion-recibo/modal-impresion-recibo.component.html","webpack:///src/app/views/admin/prestamo/prestamo.module.ts","webpack:///src/app/views/admin/prestamo/components/tabs/tab-prestamo/tab-prestamo.component.ts","webpack:///src/app/helpers/numberToLetter.ts","webpack:///src/app/views/admin/prestamo/components/modals/modal-edit-prestamo/modal-edit-prestamo.component.html","webpack:///src/app/views/admin/prestamo/components/pdfs/pdf-pago/pdf-pago.component.html","webpack:///src/app/views/admin/prestamo/components/modals/modal-impresion-contrato/modal-impresion-contrato.component.html","webpack:///src/app/views/admin/prestamo/components/modals/modal-impresion-recibo/modal-impresion-recibo.component.ts"],"names":["vfs","pdfMake","PdfPagoComponent","businessService","datePipe","business","businessInformation","subscribe","numeroALiteral","literal","decimal","pago","costoTotal","Math","trunc","toFixed","litera","plural","singular","centPlural","centSingular","pageSize","pageOrientation","pageMargins","content","columns","width","height","fontSize","margin","image","text","color","bold","alignment","transform","createdAt","id","prestamo","client","name","ci","canvas","type","x1","y1","x2","y2","lineWidth","style","table","widths","headerRows","body","colSpan","tipoPago","costoPago","costoInteres","costoAdministracion","costoPiso","costoPorCobrar2","inventario","map","i","descripcion","layout","styles","notesTitle","notesText","tableHeader","defaultStyle","columnGap","createPdf","open","selector","template","PagoService","http","pagos","baseUrl","prestamoId","headers","set","sessionStorage","getItem","get","post","providedIn","PrestamoComponent","CardPrestamoDetalleComponent","amortizacionService","impresionService","pagoService","prestamoService","modalService","route","location","historialArray","historialPagosArray","historialImpresionesArray","impresiones","amorizaciones","modal","sub","snapshot","paramMap","getPrestamoById","getPagosByPrestamoId","getImpresionByPrestamoId","subscribePagos","subscribeImpresiones","subscribePrestamo","unsubscribe","diaInicio","fechaInicio","diaFinal","fechaFinal","diasRestantes","diff","asDays","add","calculateDiasRestantes","setHistorialPrestamo","historialItem","fecha","operacion","cargo","costoPrestamo","comision","cargoExtra","amortiguado","historialItem2","push","getByPrestamoId","setHistorialPago","costoPorCobrar","console","log","setHistorialImpresiones","impresion","tipoDocumento","costoImpresion","back","modalName","visible","emit","ModalPagoComponent","alertService","fb","loading","pagosInteres","submitted","errorMessages","required","minLength","maxLenght","email","administracionOptions","value","tipoPagoOptions","pagoForm","group","message","calculateInteresPago","resetForm","alert","fire","title","icon","postPago","response","successMessage","refreshPagos","refreshPrestamo","closeModal","error","errorMessage","diasInteres","costoPagoInteres","length","ultimoPagoInteres","startOf","Date","now","endOf","dias","ImpresionService","patch","CardPrestamosComponent","router","estado","ciForm","getPrestamos","subscribePrestamos","force","estadoPrestamo","items","event","clientCi","page","navigate","ModalImpresionContratoComponent","compressed","impresionForm","subscribePago","getById","postImpresion","triggerMessage","refreshImpresiones","PdfDocumentoComponent","subscribeBusiness","abs","contrato","background","currentPage","absolutePosition","x","y","opacity","nit","direction","phone","interest","header","subheader","quote","italics","small","tableExample","ModalEditPrestamoComponent","authService","prestamoForm","controls","setValue","toISOString","substring","calculateCostoTotal","patchPrestamo","diasPrestamo","fechaIncio","AmortizacionService","amortizacion","amortizacions","ModalAmortiguarComponent","tipoAmortizacionOptions","amortizacionForm","tipoAmortizacion","costoAmortizacion","postAmortizacion","routes","path","component","children","PrestamoRoutingModule","imports","forChild","exports","PrestamoModule","declarations","TabPrestamoComponent","openTab","$tabNumber","numeroALetras","Unidades","num","Decenas","decena","floor","unidad","DecenasY","strSin","numUnidades","Centenas","centenas","decenas","Seccion","divisor","strSingular","strPlural","cientos","resto","letras","Miles","strMiles","strCentenas","Millones","strMillones","NumeroALetras","currency","data","numero","enteros","centavos","round","letrasCentavos","letrasMonedaPlural","letrasMonedaSingular","letrasMonedaCentavoPlural","letrasMonedaCentavoSingular","ModalImpresionReciboComponent"],"mappings":"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","file":"prestamo-prestamo-module-es5.js","sourcesContent":["export default \"<div class=\\\"relative flex flex-col min-w-0 break-words  w-full mb-6  rounded\\\">\\n  <div class=\\\"w-full\\\">\\n    <ul class=\\\"flex mb-0 list-none flex-wrap pt-3 pb-4 flex-row\\\">\\n      <li class=\\\"-mb-px mr-2 last:mr-0 flex-auto text-center\\\">\\n        <a\\n          class=\\\"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal\\\"\\n          (click)=\\\"toggleTabs(1)\\\"\\n          [ngClass]=\\\"{'text-sky-700 bg-white': openTab !== 1, 'text-white bg-sky-700': openTab === 1}\\\">\\n          Activos\\n        </a>\\n      </li>\\n\\n      <li class=\\\"-mb-px mr-2 last:mr-0 flex-auto text-center\\\">\\n        <a\\n          class=\\\"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal\\\"\\n          (click)=\\\"toggleTabs(2)\\\"\\n          [ngClass]=\\\"{'text-sky-700 bg-white': openTab !== 2, 'text-white bg-sky-700': openTab === 2}\\\">\\n          Cancelados\\n        </a>\\n      </li>\\n\\n      <li class=\\\"-mb-px mr-2 last:mr-0 flex-auto text-center\\\">\\n        <a\\n          class=\\\"text-xs font-bold uppercase px-5 py-3 shadow-lg rounded block leading-normal\\\"\\n          (click)=\\\"toggleTabs(3)\\\"\\n          [ngClass]=\\\"{'text-sky-700 bg-white': openTab !== 3, 'text-white bg-sky-700': openTab === 3}\\\">\\n          Vencidos\\n        </a>\\n      </li>\\n\\n    </ul>\\n    <div class=\\\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\\\">\\n      <div class=\\\"px-4 py-5 flex-auto\\\">\\n        <div class=\\\"tab-content tab-space\\\">\\n          <div *ngIf=\\\"openTab === 1\\\">\\n\\n            <app-card-prestamos [estado]=\\\"'ACTIVO'\\\" ></app-card-prestamos>\\n          </div>\\n          <div *ngIf=\\\"openTab === 2\\\">\\n            <app-card-prestamos [estado]=\\\"'CANCELADO'\\\" ></app-card-prestamos>\\n          </div>\\n          <div *ngIf=\\\"openTab === 3\\\">\\n            <app-card-prestamos [estado]=\\\"'VENCIDO'\\\" ></app-card-prestamos>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\";","export default \"<div *ngIf=\\\"modal.visible&&modal.modalName==='pagoModal'\\\" class=\\\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\\\">\\n  <div class=\\\"relative w-auto my-6 mx-auto max-w-580-px\\\">\\n\\n    <div class=\\\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\\\">\\n\\n      <div class=\\\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\\\">\\n        <h4 class=\\\"text-2xl font-semibold\\\">\\n           Pago del prestamo {{ prestamo?.id }}\\n        </h4>\\n        <button\\n          class=\\\"p-1 ml-auto border-0 opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          <span class=\\\"opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\\\">\\n            x\\n          </span>\\n        </button>\\n      </div>\\n\\n      <form\\n        autocomplete=\\\"off\\\"\\n        [formGroup]=\\\"pagoForm\\\"\\n        (ngSubmit)=\\\"save()\\\"\\n      >\\n        <div class=\\\"my-4 relative p-6 flex flex-wrap\\\">\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-select\\n              [inputForm]=\\\"pagoForm\\\"\\n              [options]=\\\"tipoPagoOptions\\\"\\n              inputLabel=\\\"TIPO DE PAGO\\\"\\n              inputFormName=\\\"tipoPago\\\"\\n              formControlName=\\\"tipoPago\\\"\\n              (selectEvent)=\\\"calculateInteresPago()\\\"\\n              [value]=\\\"pagoForm.value.tipoPago\\\">\\n            </app-select>\\n          </div>\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-select\\n              [inputForm]=\\\"pagoForm\\\"\\n              [options]=\\\"administracionOptions\\\"\\n              inputLabel=\\\"COMISION ADMINISTRATIVA (cargos extra)\\\"\\n              inputFormName=\\\"costoAdministracion\\\"\\n              formControlName=\\\"costoAdministracion\\\"\\n              [value]=\\\"pagoForm.value.costoAdministracion\\\">\\n            </app-select>\\n          </div>\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-input\\n              [inputForm]=\\\"pagoForm\\\"\\n              inputLabel=\\\"COMISION PISO (cargos extra)\\\"\\n              inputType=\\\"number\\\"\\n              inputPlaceholder=\\\"Ingrese su nombre...\\\"\\n              inputFormName=\\\"costoPiso\\\"\\n              formControlName=\\\"costoPiso\\\"\\n              [value]=\\\"pagoForm.value.costoPiso\\\">\\n            </app-input>\\n          </div>\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-input\\n                [inputForm]=\\\"pagoForm\\\"\\n                inputLabel=\\\"CANTIDAD A PAGAR\\\"\\n                inputType=\\\"number\\\"\\n                inputFormName=\\\"costoPago\\\"\\n                formControlName=\\\"costoPago\\\"\\n                [isDisabled]=\\\"pagoForm.value.tipoPago==='INTERES'\\\"\\n                [value]=\\\"pagoForm.value.costoPago\\\">\\n            </app-input>\\n          </div>\\n\\n        </div>\\n\\n        <div class=\\\"flex flex-col items-start justify-between px-4 border-b border-solid border-blueGray-200 rounded-t\\\">\\n          <h4 *ngIf=\\\"pagoForm.value.tipoPago==='INTERES'\\\" class=\\\"text-xl text-gray-400 font-semibold\\\">\\n            Interes generado de {{ diasInteres }} dias: Bol. {{ costoInteres.toFixed(1) }}\\n          </h4>\\n          <h4 class=\\\"text-xl text-gray-400 font-semibold\\\">\\n            Interes al final al plazo: Bol. {{ prestamo.costoInteres }}\\n          </h4>\\n          <h4 class=\\\"text-xl text-gray-400 font-semibold\\\">\\n            Costo Prestamo: Bol. {{ prestamo.costoPrestamo }}\\n          </h4>\\n          <h4 class=\\\"text-xl text-gray-400 font-semibold\\\">\\n            Costo Total: Bol. {{ prestamo.costoTotal }}\\n          </h4>\\n          <h4 class=\\\"text-xl text-gray-400 font-semibold\\\">\\n            Por Cobrar: Bol. {{ (+prestamo.costoTotal - +prestamo.costoCancelado).toFixed(1) }}\\n          </h4>\\n          <h4 class=\\\"text-2xl font-semibold\\\">\\n            TOTAL Pago: Bol. {{ (+pagoForm.value.costoAdministracion + +pagoForm.value.costoPiso + +pagoForm.value.costoPago).toFixed(1) }}\\n          </h4>\\n        </div>\\n\\n      <div class=\\\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\\\">\\n        <button\\n          class=\\\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          Cancelar\\n        </button>\\n        <button\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"button\\\"\\n          (click)=\\\"refreshForm()\\\"\\n        >\\n          Limpiar\\n        </button>\\n        <button\\n          [disabled]=\\\"!pagoForm.valid || loading\\\"\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"submit\\\"\\n        >\\n        <i class=\\\"fas fa-spinner\\\" [ngClass]=\\\"loading? 'animate-spin': 'hidden'\\\"></i> Guardar cambios\\n        </button>\\n      </div>\\n\\n    </form>\\n\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"modal.visible&&modal.modalName==='pagoModal'\\\" class=\\\"opacity-25 fixed inset-0 z-40 bg-black\\\"></div>\\n\";","import { DatePipe } from \"@angular/common\";\nimport { Component, Input, OnInit } from \"@angular/core\";\nimport { BusinessService } from \"src/app/core/services/business.service\";\nimport { Business } from \"src/app/interfaces/business\";\nimport { numeroALetras } from \"src/app/helpers/numberToLetter\";\nimport { logoCaysool } from \"src/app/helpers/base64Images\";\nimport pdfMake from \"pdfmake/build/pdfmake\";\nimport pdfFonts from \"pdfmake/build/vfs_fonts\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n@Component({\n  selector: \"app-pdf-pago\",\n  templateUrl: \"./pdf-pago.component.html\",\n  styles: [],\n})\nexport class PdfPagoComponent implements OnInit {\n  @Input() pago;\n  @Input() prestamo;\n\n  literal: string;\n  business: Business = this.businessService.businessInformation;\n  constructor(\n    private businessService: BusinessService,\n    private datePipe: DatePipe\n  ) {}\n\n  ngOnInit(): void {\n    this.businessService.business.subscribe((business) => {\n      this.business = business;\n    });\n    this.numeroALiteral();\n  }\n\n  numeroALiteral() {\n    this.literal = \"\";\n    const decimal = (\n      (+this.pago.costoTotal - Math.trunc(+this.pago.costoTotal)) *\n      10\n    ).toFixed(0);\n    const litera = numeroALetras(this.pago.costoTotal, {\n      plural: \"BOLIVIANOS\",\n      singular: \"BOLIVIANO\",\n      centPlural: \"CENTAVOS\",\n      centSingular: \"CENTAVO\",\n    });\n    this.literal = `SON: ${litera} ${decimal}0/100`;\n  }\n\n  exportToPdf() {\n    const pago = {\n      // a string or { width: number, height: number }\n      pageSize: \"LETTER\",\n\n      // by default we use portrait, you can change it to landscape if you wish\n      pageOrientation: \"portrait\",\n\n      // [left, top, right, bottom] or [horizontal, vertical] or just a number for equal margins\n      pageMargins: [40, 30, 40, 30],\n      content: [\n        {\n          columns: [\n            {\n              width: 90,\n              height: 40,\n              fontSize: 9,\n              margin: [22, 0, 0, 0],\n              image: logoCaysool,\n            },\n\n            [\n              {\n                text: \"COMPROBANTE DE PAGO\",\n\n                color: \"#333333\",\n                width: 800,\n                fontSize: 20,\n                bold: true,\n                alignment: \"center\",\n                margin: [0, 0, 0, 0],\n              },\n            ],\n          ],\n        },\n        {\n          columns: [\n            {\n              width: 150,\n              text: [\n                \"CEL:78857480 - 78857480\\n\",\n                'Urb. 21 de octubre \"A\" Dist. 7 Ex Tranca San Roque Av. Panamericana Nro 3174 Entre calle Gral. juan Jose Torrez\\n',\n                \"El Alto-La Paz-Bolivia\\n\",\n              ],\n              fontSize: 8,\n              alignment: \"center\",\n              margin: [0, 0, 0, 0],\n            },\n            [\n              \"\\n\",\n              {\n                text: `Fecha: ${this.datePipe.transform(\n                  this.pago.createdAt,\n                  \"medium\"\n                )}`,\n\n                color: \"#333333\",\n                width: \"*\",\n                fontSize: 11,\n                bold: true,\n                alignment: \"rigth\",\n                margin: [19, 0, 0, 0],\n              },\n            ],\n            [\n              \"\\n\",\n              {\n                text: `Nro de Recibo: ${this.pago.id}`,\n\n                color: \"#333333\",\n                width: \"*\",\n                fontSize: 11,\n                bold: true,\n                alignment: \"rigth\",\n                margin: [19, 0, 0, 0],\n              },\n            ],\n          ],\n        },\n        {\n          alignment: \"justify\",\n          columns: [\n            {\n              width: 400,\n\n              //nombre del cliente\n              text: [`Nombre: ${this.prestamo.client.name}\\n`],\n              fontSize: 11,\n              alignment: \"center\",\n              margin: [0, 18, 0, 0],\n            },\n            [\n              {\n                text: `CI: ${this.prestamo.client.ci}`,\n\n                color: \"#333333\",\n                width: \"*\",\n                fontSize: 11,\n                bold: true,\n                alignment: \"rigth\",\n                margin: [0, 18, 0, 5],\n              },\n            ],\n          ],\n        },\n        {\n          canvas: [\n            { type: \"line\", x1: 0, y1: 0, x2: 530, y2: 0, lineWidth: 3 },\n          ],\n        },\n        {\n          style: \"tableExample\",\n          table: {\n            widths: [48, \"*\", \"*\", 80],\n            headerRows: 7,\n            body: [\n              [\n                { text: \"\" },\n                {\n                  text: \"DETALLE\",\n                  alignment: \"center\",\n                  style: \"tableHeader\",\n                  bold: true,\n                  colSpan: 2,\n                },\n                {},\n                { text: \"TOTAL\", alignment: \"center\", bold: true },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"AMORTIZACION\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                {\n                  text: `Bol. ${\n                    this.pago.tipoPago === 'INTERES'\n                      ? \"0.00\"\n                      : this.pago.costoPago\n                  }`,\n                  alignment: \"right\",\n                },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"INTERES\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                {\n                  text: `Bol. ${\n                    this.pago.tipoPago === \"INTERES\"\n                      ? this.pago.costoPago\n                      : this.prestamo.costoInteres\n                  }`,\n                  alignment: \"right\",\n                },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"COMISION ADMINISTRATIVA\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                {\n                  text: `Bol. ${this.pago.costoAdministracion}`,\n                  alignment: \"right\",\n                },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"CARGOS GENERADOS\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                { text: `Bol. ${this.pago.costoPiso}`, alignment: \"right\" },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"SALDO POR COBRAR (Capital actual e interes)\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                { text: `Bol. ${this.pago.costoPorCobrar2}`, alignment: \"right\" },\n              ],\n              [\n                { text: \"Prenda\", fontSize: 10, alignment: \"center\" },\n                {\n                  text: `${this.prestamo.inventario.map(\n                    (i) => i.descripcion + \", \"\n                  )}`,\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                { text: \"\", alignment: \"right\" },\n              ],\n              [\n                {\n                  text: `TOTAL A PAGAR ${this.literal}`,\n                  alignment: \"left\",\n                  fontSize: 9,\n                  bold: true,\n                  colSpan: 3,\n                },\n                {},\n                {},\n                {\n                  text: `Bol. ${this.pago.costoTotal}`,\n                  alignment: \"right\",\n                  bold: true,\n                },\n              ],\n            ],\n          },\n          layout: \"lightHorizontalLines\",\n        },\n        \" \\n\\n\\n\",\n        {\n          text: [\n            \"FIRMA CLIENTE\t                                                                         FIRMA ASESOR DE CREDITO\",\n          ],\n          fontSize: 12,\n          alignment: \"center\",\n        },\n        \"\\n\\n\\n\\n\\n\",\n        //aca segunda\n        {\n          columns: [\n            {\n              width: 90,\n              height: 40,\n              fontSize: 9,\n              margin: [22, 0, 0, 0],\n              image: logoCaysool,\n            },\n\n            [\n              {\n                text: \"COMPROBANTE DE PAGO\",\n\n                color: \"#333333\",\n                width: 800,\n                fontSize: 20,\n                bold: true,\n                alignment: \"center\",\n                margin: [0, 0, 0, 0],\n              },\n            ],\n          ],\n        },\n        {\n          columns: [\n            {\n              width: 150,\n              text: [\n                \"CEL:78857480 - 78857480\\n\",\n                'Urb. 21 de octubre \"A\" Dist. 7 Ex Tranca San Roque Av. Panamericana Nro 3174 Entre calle Gral. juan Jose Torrez\\n',\n                \"El Alto-La Paz-Bolivia\\n\",\n              ],\n              fontSize: 8,\n              alignment: \"center\",\n              margin: [0, 0, 0, 0],\n            },\n            [\n              \"\\n\",\n              {\n                text: `Fecha: ${this.datePipe.transform(\n                  this.pago.createdAt,\n                  \"medium\"\n                )}`,\n\n                color: \"#333333\",\n                width: \"*\",\n                fontSize: 11,\n                bold: true,\n                alignment: \"rigth\",\n                margin: [19, 0, 0, 0],\n              },\n            ],\n            [\n              \"\\n\",\n              {\n                text: `Nro de Recibo: ${this.pago.id}`,\n\n                color: \"#333333\",\n                width: \"*\",\n                fontSize: 11,\n                bold: true,\n                alignment: \"rigth\",\n                margin: [19, 0, 0, 0],\n              },\n            ],\n          ],\n        },\n        {\n          alignment: \"justify\",\n          columns: [\n            {\n              width: 400,\n\n              //nombre del cliente\n              text: [`Nombre: ${this.prestamo.client.name}\\n`],\n              fontSize: 11,\n              alignment: \"center\",\n              margin: [0, 18, 0, 0],\n            },\n            [\n              {\n                text: `CI: ${this.prestamo.client.ci}`,\n\n                color: \"#333333\",\n                width: \"*\",\n                fontSize: 11,\n                bold: true,\n                alignment: \"rigth\",\n                margin: [0, 18, 0, 5],\n              },\n            ],\n          ],\n        },\n        {\n          canvas: [\n            { type: \"line\", x1: 0, y1: 0, x2: 530, y2: 0, lineWidth: 3 },\n          ],\n        },\n        {\n          style: \"tableExample\",\n          table: {\n            widths: [48, \"*\", \"*\", 80],\n            headerRows: 7,\n            body: [\n              [\n                { text: \"\" },\n                {\n                  text: \"DETALLE\",\n                  alignment: \"center\",\n                  style: \"tableHeader\",\n                  bold: true,\n                  colSpan: 2,\n                },\n                {},\n                { text: \"TOTAL\", alignment: \"center\", bold: true },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"AMORTIZACION\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                {\n                  text: `Bol. ${\n                    this.pago.tipoPago === 'INTERES'\n                      ? \"0.00\"\n                      : this.pago.costoPago\n                  }`,\n                  alignment: \"right\",\n                },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"INTERES\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                {\n                  text: `Bol. ${\n                    this.pago.tipoPago === \"INTERES\"\n                      ? this.pago.costoPago\n                      : this.prestamo.costoInteres\n                  }`,\n                  alignment: \"right\",\n                },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"COMISION ADMINISTRATIVA\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                {\n                  text: `Bol. ${this.pago.costoAdministracion}`,\n                  alignment: \"right\",\n                },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"CARGOS GENERADOS\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                { text: `Bol. ${this.pago.costoPiso}`, alignment: \"right\" },\n              ],\n              [\n                { text: \"\", alignment: \"center\" },\n                {\n                  text: \"SALDO POR COBRAR (Capital actual e interes)\",\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                { text: `Bol. ${this.pago.costoPorCobrar2}`, alignment: \"right\" },\n              ],\n              [\n                { text: \"Prenda\", fontSize: 10, alignment: \"center\" },\n                {\n                  text: `${this.prestamo.inventario.map(\n                    (i) => i.descripcion + \", \"\n                  )}`,\n                  fontSize: 10,\n                  alignment: \"left\",\n                  colSpan: 2,\n                },\n                {},\n                { text: \"\", alignment: \"right\" },\n              ],\n              [\n                {\n                  text: `TOTAL A PAGAR ${this.literal}`,\n                  alignment: \"left\",\n                  fontSize: 9,\n                  bold: true,\n                  colSpan: 3,\n                },\n                {},\n                {},\n                {\n                  text: `Bol. ${this.pago.costoTotal}`,\n                  alignment: \"right\",\n                  bold: true,\n                },\n              ],\n            ],\n          },\n          layout: \"lightHorizontalLines\",\n        },\n        \" \\n\\n\\n\",\n        {\n          text: [\n            \"FIRMA CLIENTE\t                                                                         FIRMA ASESOR DE CREDITO\",\n          ],\n          fontSize: 12,\n          alignment: \"center\",\n        },\n      ],\n\n      styles: {\n        notesTitle: {\n          fontSize: 8,\n          bold: true,\n          margin: [0, 50, 0, 3],\n        },\n        notesText: {\n          fontSize: 8,\n        },\n      },\n      tableHeader: {\n        bold: true,\n        fontSize: 12,\n        color: \"black\",\n      },\n      defaultStyle: {\n        columnGap: 20,\n        //font: 'Quicksand',\n      },\n    };\n\n    pdfMake.createPdf(pago).open();\n  }\n}\n","import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Pago } from 'src/app/interfaces/pago';\r\nimport { shareReplay } from 'rxjs/operators';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PagoService {\r\n\r\n  @Output() pago:EventEmitter<Pago> = new EventEmitter();\r\n  @Output() pagos:EventEmitter<Pago[]> = new EventEmitter();\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getByPrestamoId(prestamoId: number):Observable<any>{\r\n    const headers = new HttpHeaders().set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/pago/prestamo/${prestamoId}`,{ headers })\r\n  }\r\n\r\n  getById(id: number):Observable<any>{\r\n    const headers = new HttpHeaders().set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/pago/${id}`,{ headers })\r\n  }\r\n\r\n  postPago(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/pago`,body, { headers });\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-prestamo',\n  templateUrl: './prestamo.component.html',\n  styles: [\n  ]\n})\nexport class PrestamoComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { DatePipe, Location } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport { forkJoin, Subscription } from 'rxjs';\nimport { AmortizacionService } from 'src/app/core/services/amortizacion.service';\nimport { ImpresionService } from 'src/app/core/services/impresion.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { PagoService } from 'src/app/core/services/pago.service';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Amortizacion } from 'src/app/interfaces/amortizacion';\nimport { Impresion } from 'src/app/interfaces/impresion';\nimport { Pago } from 'src/app/interfaces/pago';\nimport { Prestamo } from 'src/app/interfaces/prestamo';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-card-prestamo-detalle',\n  templateUrl: './card-prestamo-detalle.component.html',\n  styles: [\n  ]\n})\nexport class CardPrestamoDetalleComponent implements OnInit, OnDestroy {\n  sub: Subscription;\n  diasRestantes: number;\n  prestamoId: string;\n  prestamo: Prestamo;\n  historialArray: any[] = [];\n  historialPagosArray: any[] = [];\n  historialImpresionesArray: any[] = [];\n  impresiones: Impresion[] = [];\n  pagos: Pago[] = [];\n  amorizaciones: Amortizacion[] = [];\n  modal = this.modalService.modal;\n  constructor(\n    private amortizacionService: AmortizacionService,\n    private impresionService: ImpresionService,\n    private pagoService: PagoService,\n    private prestamoService: PrestamoService,\n    private modalService: ModalService,\n    private route: ActivatedRoute,\n    private location: Location,\n    private datePipe: DatePipe,\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.prestamoId = this.route.snapshot.paramMap.get('prestamoId');\n    this.historialArray = [];\n    this.getPrestamoById();\n    this.getPagosByPrestamoId();\n    this.getImpresionByPrestamoId();\n    this.subscribePagos();\n    this.subscribeImpresiones();\n    this.subscribePrestamo();\n  }\n\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  calculateDiasRestantes() {\n    const diaInicio = moment(this.prestamo.fechaInicio);\n    const diaFinal = moment(this.prestamo.fechaFinal);\n    this.diasRestantes = moment.duration(diaFinal.diff(diaInicio)).asDays();\n    this.diasRestantes = +this.diasRestantes.toFixed(1);\n  }\n\n  getPrestamoById() {\n    this.sub.add(\n      this.prestamoService.getPrestamoById(+this.prestamoId).subscribe(\n        prestamo => {\n          this.prestamo = prestamo;\n          this.calculateDiasRestantes();\n          this.setHistorialPrestamo();\n        }\n      )\n    );\n  }\n\n  setHistorialPrestamo() {\n    this.historialArray = [];\n    const historialItem = {\n      fecha: this.datePipe.transform(this.prestamo.createdAt, 'medium'),\n      operacion: 'Prestamo',\n      cargo: this.prestamo.costoPrestamo,\n      comision: 0.00,\n      cargoExtra: 0.00,\n      amortiguado: 0.00,\n    }\n    const historialItem2 = {\n      fecha: this.datePipe.transform(this.prestamo.createdAt, 'medium'),\n      operacion: 'Inters al finalizar el plazo',\n      cargo: this.prestamo.costoInteres,\n      comision: 0.00,\n      cargoExtra:  0.00,\n      amortiguado: 0.00,\n    }\n    this.historialArray.push(historialItem);\n    this.historialArray.push(historialItem2);\n  }\n\n  getPagosByPrestamoId() {\n    this.sub.add(\n      this.pagoService.getByPrestamoId(+this.prestamoId).subscribe(\n        pagos => {\n          this.pagos = pagos;\n          this.setHistorialPago();\n        }\n      )\n    );\n  }\n\n  subscribePagos() {\n    this.sub.add(\n      this.pagoService.pagos.subscribe(\n        pagos => {\n          if (pagos) {\n            this.pagos = pagos;\n            this.setHistorialPago();\n          }\n        }\n      )\n    );\n  }\n\n  setHistorialPago() {\n    this.historialPagosArray = [];\n    let costoPago = 0;\n    this.pagos.map(pago => {\n      costoPago += +pago.costoPago;\n      const costoPorCobrar = this.prestamo.costoTotal - costoPago;\n      console.log(costoPorCobrar);\n      const historialItem = {\n        fecha: this.datePipe.transform(pago.createdAt, 'medium'),\n        operacion: pago.tipoPago === 'PAGO'? 'PAGO' : pago.tipoPago === 'INTERES'? 'PAGO INTERES': 'PAGO AMORTIZACION',\n        cargo: pago.tipoPago === 'AMORTIZACION'? 0.00 : pago.costoPago,\n        comision: pago.costoAdministracion,\n        cargoExtra: pago.costoAdministracion,\n        amortiguado: pago.tipoPago === 'AMORTIZACION'? pago.costoPago: 0.00,\n        costoPorCobrar2 : costoPorCobrar.toFixed(1),\n        ...pago\n      };\n      this.historialPagosArray.push(historialItem);\n    });\n  }\n\n  getImpresionByPrestamoId() {\n    this.sub.add(\n      this.impresionService.getByPrestamoId(+this.prestamoId).subscribe(\n        impresiones => {\n          this.impresiones = impresiones;\n        }\n      )\n    )\n  }\n\n  subscribeImpresiones() {\n    this.sub.add(\n      this.impresionService.impresiones.subscribe(\n        impresiones => {\n          if (impresiones){\n            this.impresiones = impresiones;\n            this.setHistorialImpresiones();\n          }\n        }\n      )\n    );\n  }\n\n  setHistorialImpresiones() {\n    this.historialImpresionesArray = [];\n    this.impresiones.map(impresion => {\n      const historialItem = {\n        fecha: this.datePipe.transform(impresion.createdAt, 'medium'),\n        operacion: `IMPRESIN ${impresion.tipoDocumento === 'CONTRATO'?'CONTRATO':'PAGO'}`,\n        cargo: impresion.costoImpresion,\n        comision: 0.00,\n        cargoExtra: 0.00,\n        amortiguado: 0.00\n      };\n      this.historialImpresionesArray.push(historialItem);\n    });\n  }\n\n  subscribePrestamo() {\n    this.sub.add(\n      this.prestamoService.prestamo.subscribe(\n        (prestamo) => {\n          if (prestamo) {\n            this.prestamo = prestamo;\n            this.calculateDiasRestantes();\n            this.setHistorialPrestamo();\n          }\n        }\n      )\n    );\n  }\n\n  goToBackPage() {\n    this.location.back();\n  }\n\n  showCambioFechaModal() {\n    this.modal.modalName = 'prestamoEditModal';\n    this.modal.visible = true;\n    this.prestamoService.prestamo.emit(this.prestamo);\n  }\n\n  showPagoModal() {\n    this.modal.modalName = 'pagoModal';\n    this.modal.visible = true;\n    this.prestamoService.prestamo.emit(this.prestamo);\n    this.pagoService.pagos.emit(this.pagos);\n  }\n\n  showAmortiguarModal() {\n    this.modal.modalName = 'amortizacionModal';\n    this.modal.visible = true;\n    this.prestamoService.prestamo.emit(this.prestamo);\n  }\n\n  showImpresionPagoModal(pago) {\n    if (pago.operacion === 'PAGO' || pago.operacion === 'PAGO INTERES' || pago.operacion === 'PAGO AMORTIZACION'){\n      this.modal.modalName = 'impresionContratoModal';\n      this.modal.visible = true;\n      this.pagoService.pago.emit(pago);\n      this.prestamoService.prestamo.emit(this.prestamo);\n    }\n  }\n\n  showImpresionContratoModal() {\n    this.modal.modalName = 'impresionPagoModal';\n    this.modal.visible = true;\n    this.prestamoService.prestamo.emit(this.prestamo);\n  }\n\n}\n","export default \"<div *ngIf=\\\"modal.visible&&modal.modalName==='amortizacionModal'\\\" class=\\\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\\\">\\n  <div class=\\\"relative w-auto my-6 mx-auto max-w-580-px\\\">\\n\\n    <div class=\\\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\\\">\\n\\n      <div class=\\\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\\\">\\n        <h4 class=\\\"text-2xl font-semibold\\\">\\n           Pago del prestamo {{ prestamo?.id }}\\n        </h4>\\n        <button\\n          class=\\\"p-1 ml-auto border-0 opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          <span class=\\\"opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\\\">\\n            x\\n          </span>\\n        </button>\\n      </div>\\n\\n      <form\\n        autocomplete=\\\"off\\\"\\n        [formGroup]=\\\"amortizacionForm\\\"\\n        (ngSubmit)=\\\"save()\\\"\\n      >\\n        <div class=\\\"my-4 relative p-6 flex flex-wrap\\\">\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-select\\n              [inputForm]=\\\"amortizacionForm\\\"\\n              [options]=\\\"tipoAmortizacionOptions\\\"\\n              inputLabel=\\\"TIPO DE PAGO\\\"\\n              inputFormName=\\\"tipoPago\\\"\\n              formControlName=\\\"tipoPago\\\"\\n              [value]=\\\"amortizacionForm.value.tipoPago\\\">\\n            </app-select>\\n          </div>\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-select\\n              [inputForm]=\\\"amortizacionForm\\\"\\n              [options]=\\\"administracionOptions\\\"\\n              inputLabel=\\\"COMISION ADMINISTRATIVA (cargos extra)\\\"\\n              inputFormName=\\\"costoAdministracion\\\"\\n              formControlName=\\\"costoAdministracion\\\"\\n              [value]=\\\"amortizacionForm.value.costoAdministracion\\\">\\n            </app-select>\\n          </div>\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-input\\n              [inputForm]=\\\"amortizacionForm\\\"\\n              inputLabel=\\\"COMISION PISO (cargos extra)\\\"\\n              inputType=\\\"number\\\"\\n              inputPlaceholder=\\\"Ingrese su nombre...\\\"\\n              inputFormName=\\\"costoPiso\\\"\\n              formControlName=\\\"costoPiso\\\"\\n              [value]=\\\"amortizacionForm.value.costoPiso\\\">\\n            </app-input>\\n          </div>\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n            <app-input\\n                [inputForm]=\\\"amortizacionForm\\\"\\n                inputLabel=\\\"CANTIDAD A PAGAR\\\"\\n                inputType=\\\"number\\\"\\n                inputFormName=\\\"costoPago\\\"\\n                formControlName=\\\"costoPago\\\"\\n                [value]=\\\"amortizacionForm.value.costoPago\\\">\\n            </app-input>\\n          </div>\\n\\n        </div>\\n\\n        <div class=\\\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\\\">\\n          <h4 class=\\\"text-2xl font-semibold\\\">\\n             TOTAL: Bol {{ +amortizacionForm.value.costoAdministracion + +amortizacionForm.value.costoPiso + +amortizacionForm.value.costoPago }}\\n          </h4>\\n        </div>\\n\\n      <div class=\\\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\\\">\\n        <button\\n          class=\\\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          Cancelar\\n        </button>\\n        <button\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"button\\\"\\n          (click)=\\\"refreshForm()\\\"\\n        >\\n          Limpiar\\n        </button>\\n        <button\\n          [disabled]=\\\"!amortizacionForm.valid || loading\\\"\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"submit\\\"\\n        >\\n        <i class=\\\"fas fa-spinner\\\" [ngClass]=\\\"loading? 'animate-spin': 'hidden'\\\"></i> Guardar cambios\\n        </button>\\n      </div>\\n\\n    </form>\\n\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"modal.visible&&modal.modalName==='amortizacionModal'\\\" class=\\\"opacity-25 fixed inset-0 z-40 bg-black\\\"></div>\\n\";","export default \"<router-outlet></router-outlet>\\n\";","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FormGroupExtension, RxFormBuilder, RxwebValidators } from '@rxweb/reactive-form-validators';\nimport { Subscription } from 'rxjs';\nimport { AlertService } from 'src/app/core/services/alert.service';\nimport { PagoService } from 'src/app/core/services/pago.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { Pago } from 'src/app/interfaces/pago';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Prestamo } from 'src/app/interfaces/prestamo';\nimport * as moment from 'moment';\n@Component({\n  selector: 'app-modal-pago',\n  templateUrl: './modal-pago.component.html',\n  styles: [\n  ]\n})\nexport class ModalPagoComponent implements OnInit, OnDestroy {\n\n  sub: Subscription;\n  loading: boolean = false;\n  prestamo: Prestamo;\n  pago: Pago;\n  pagos: Pago[] = [];\n  pagosInteres: Pago[] = [];\n  modal = this.modalService.modal;\n  submitted = false;\n  diasInteres: number;\n  costoInteres: number;\n  errorMessages = {\n    required: 'El campo es obligatorio',\n    minLength: 'El campo es muy corto',\n    maxLenght: 'El campo es muy largo',\n    email: 'El email introducido no es valido',\n  };\n\n  administracionOptions = [\n    {\n      value: 5,\n      name: '5'\n    },\n    {\n      value: 3,\n      name: '3'\n    },\n    {\n      value: 0,\n      name: '0'\n    }\n  ]\n\n  tipoPagoOptions = [\n    {\n      value: 'PAGO',\n      name: 'PAGO'\n    },\n    {\n      value: 'INTERES',\n      name: 'INTERS'\n    },\n    {\n      value: 'AMORTIZACION',\n      name: 'AMORTIZACIN'\n    }\n  ]\n  pagoForm: FormGroup = this.fb.group({\n    tipoPago: ['PAGO',\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    costoAdministracion: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    costoPiso: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    costoPago: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n  });\n\n  constructor(\n    private prestamoService: PrestamoService,\n    private pagoService: PagoService,\n    private alertService: AlertService,\n    private modalService: ModalService,\n    private fb: RxFormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.subscribePrestamo();\n    this.subscribePagos();\n    this.calculateInteresPago();\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  subscribePagos() {\n    this.sub.add(\n      this.pagoService.pagos.subscribe(\n        (pagos) => {\n          this.pagos = pagos;\n        }\n      )\n    );\n  }\n\n\n  subscribePrestamo() {\n    this.sub.add(\n      this.prestamoService.prestamo.subscribe(\n        (prestamo) => {\n          this.prestamo = prestamo;\n        }\n      )\n    );\n  }\n\n\n  closeModal() {\n    this.modal.visible = false;\n    this.modal.modalName = '';\n    this.pagoService.pago.emit(null);\n  }\n\n  refreshForm() {\n    (<FormGroupExtension>this.pagoForm).resetForm();\n  }\n\n  successMessage(message = 'creado') {\n    this.alertService.alert.fire({\n      title: `Pago ${message} Exitosamente`,\n      icon: 'success',\n    })\n  }\n\n  errorMessage(message) {\n    this.alertService.alert.fire({\n      title: message,\n      icon: 'error',\n    })\n  }\n\n  save() {\n    this.loading = true;\n    const body: Pago = {\n      prestamo: this.prestamo.id,\n      tipoPago: this.pagoForm.value.tipoPago,\n      costoAdministracion: +this.pagoForm.value.costoAdministracion,\n      costoPiso: +this.pagoForm.value.costoPiso,\n      costoPago: +this.pagoForm.value.costoPago\n    };\n    console.log(body);\n    this.pagoService.postPago(body).subscribe(\n      response => {\n        this.loading = false;\n        this.successMessage();\n        this.refreshPagos();\n        this.refreshPrestamo();\n        this.closeModal();\n      },\n      error => {\n        this.loading = false;\n        this.errorMessage(error.error.message);\n      }\n    )\n  }\n\n  refreshPagos() {\n    this.sub.add(\n      this.pagoService.getByPrestamoId(this.prestamo.id).subscribe(\n        (pagos) => {\n          if (pagos) {\n            this.pagoService.pagos.emit(pagos);\n          }\n        }\n      )\n    );\n  }\n\n  refreshPrestamo() {\n    this.sub.add(\n      this.prestamoService.getPrestamoById(this.prestamo.id).subscribe(\n        (prestamo) => {\n          if (prestamo) {\n            this.prestamoService.prestamo.emit(prestamo);\n          }\n        }\n      )\n    );\n  }\n\n  calculateInteresPago() {\n    this.diasInteres = 0;\n    this.costoInteres = 0;\n    let costoPagoInteres = 0;\n    this.pagosInteres = [];\n    if (this.pagoForm.value.tipoPago === 'INTERES') {\n      for (const pago  of this.pagos) {\n        if (pago.tipoPago === 'INTERES') {\n          costoPagoInteres += pago.costoPago;\n          this.pagosInteres.push(pago);\n\n        }\n      };\n      console.log(this.pagosInteres);\n      if ( this.pagosInteres.length > 0){\n        const ultimoPagoInteres = this.pagosInteres[this.pagosInteres.length -1];\n        const diaInicio = moment(ultimoPagoInteres.createdAt).startOf('day');\n        const diaFinal = moment(Date.now()).endOf('day');\n        const dias = moment.duration(diaFinal.diff(diaInicio)).asDays();\n        this.diasInteres = +dias.toFixed(1) - 1;\n        this.costoInteres = +(this.prestamo.costoPrestamo * (1 + 0.15 / 30) ** (this.diasInteres)).toFixed(1) - +this.prestamo.costoPrestamo;\n        this.pagoForm.value.costoPago = +this.costoInteres.toFixed(1);\n      } else {\n        const diaInicio = moment(this.prestamo.fechaInicio).startOf('day');\n        const diaFinal = moment(Date.now()).endOf('day');\n        const dias = moment.duration(diaFinal.diff(diaInicio)).asDays();\n        this.diasInteres = +(dias).toFixed(0);\n        this.costoInteres = +(this.prestamo.costoPrestamo * (1 + 0.15 / 30) ** (dias)).toFixed(1) - +this.prestamo.costoPrestamo;\n        this.pagoForm.value.costoPago = +this.costoInteres.toFixed(1);\n      }\n    }\n  }\n\n}\n","import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Impresion, ImpresionResponse } from 'src/app/interfaces/impresion';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ImpresionService {\r\n\r\n  @Output() impresion:EventEmitter<Impresion> = new EventEmitter();\r\n  @Output() impresiones:EventEmitter<Impresion[]> = new EventEmitter();\r\n  @Output() response:EventEmitter<ImpresionResponse> = new EventEmitter();\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getByPrestamoId(prestamoId: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/impresion-doc/prestamo/${prestamoId}`,{headers})\r\n  }\r\n\r\n  postImpresion(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/impresion-doc`,body,{headers});\r\n  }\r\n\r\n  patchImpresion(body,id):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.patch(`${this.baseUrl}/impresion-doc/${id}`,body,{headers});\r\n  }\r\n}\r\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { RxFormBuilder } from '@rxweb/reactive-form-validators';\nimport { Subscription } from 'rxjs';\nimport { AlertService } from 'src/app/core/services/alert.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Prestamo, PrestamoResponse } from 'src/app/interfaces/prestamo';\n\n@Component({\n  selector: 'app-card-prestamos',\n  templateUrl: './card-prestamos.component.html',\n  styles: [\n  ]\n})\nexport class CardPrestamosComponent implements OnInit, OnDestroy {\n\n  @Input()\n  estado: string = '';\n\n  sub: Subscription;\n  loading: boolean = false;\n  response: PrestamoResponse;\n\n  ciForm: FormGroup = this.fb.group({\n    ci: [''],\n  });\n  constructor(\n    private prestamoService: PrestamoService,\n    private modalService: ModalService,\n    private alertService: AlertService,\n    private router: Router,\n    private fb: RxFormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.getPrestamos(true);\n    this.subscribePrestamos();\n  }\n\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  getPrestamos(force = false) {\n    this.prestamoService.getPrestamos({ force, estadoPrestamo: this.estado}).subscribe(\n      (response) => {\n        this.response = response;\n        this.loading = false;\n      }\n    )\n  }\n\n  subscribePrestamos() {\n    this.sub.add(\n      this.prestamoService.response.subscribe(\n        (response) => {\n          if (response.items.length > 0) {\n            this.response = response;\n            this.loading = false;\n          }\n        }\n      )\n    );\n  }\n\n  search(event) {\n    this.loading = true;\n    this.sub.add(\n      this.prestamoService\n        .getPrestamos({\n          clientCi: this.ciForm.value.ci,\n          force: true,\n          estadoPrestamo: this.ciForm.value.ci ? '' : this.estado,\n        })\n        .subscribe(\n          (response) => {\n            this.loading = false;\n            if (response.items.length === 0) {\n              this.alertService.alert.fire({\n                title: 'No hay datos relacionados con la busqueda',\n                icon: 'error',\n              });\n            } else {\n              this.response = response;\n            }\n        })\n    );\n  }\n\n  getOnPageResponse(page: number) {\n    this.response = null;\n    this.prestamoService\n      .getPrestamos({\n        clientCi: this.ciForm.value.ci,\n        force: true,\n        estadoPrestamo: this.ciForm.value.ci ? '' : this.estado,\n        page\n      })\n      .subscribe((response) => {\n        this.prestamoService.response.emit(response);\n      });\n  }\n\n  goToPrestamoInformation(prestamo: Prestamo) {\n    this.prestamoService.prestamo.emit(prestamo);\n    this.router.navigate(['/admin/prestamos', prestamo.id]);\n  }\n}\n","export default \"<button\\n  (click)=\\\"exportToPdf()\\\"\\n  class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n  type=\\\"button\\\"\\n>\\n Imprimir\\n</button>\\n\";","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FormGroupExtension, RxFormBuilder, RxwebValidators } from '@rxweb/reactive-form-validators';\nimport { Subscription } from 'rxjs';\nimport { AlertService } from 'src/app/core/services/alert.service';\nimport { PagoService } from 'src/app/core/services/pago.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { Pago } from 'src/app/interfaces/pago';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Prestamo } from 'src/app/interfaces/prestamo';\nimport { Impresion } from 'src/app/interfaces/impresion';\nimport { ImpresionService } from 'src/app/core/services/impresion.service';\n@Component({\n  selector: 'app-modal-impresion-contrato',\n  templateUrl: './modal-impresion-contrato.component.html',\n  styleUrls: []\n})\nexport class ModalImpresionContratoComponent implements OnInit, OnDestroy {\n\n  @Input()\n  tipoDocumento: 'PAGO' | 'CONTRATO' = 'CONTRATO';\n\n  sub: Subscription;\n  loading: boolean = false;\n  prestamo: Prestamo;\n  pago: Pago;\n  modal = this.modalService.modal;\n  compressed = true;\n  submitted = false;\n  errorMessages = {\n    required: 'El campo es obligatorio',\n    minLength: 'El campo es muy corto',\n    maxLenght: 'El campo es muy largo',\n    email: 'El email introducido no es valido',\n  };\n\n  administracionOptions = [\n    {\n      value: 20,\n      name: '20'\n    },\n    {\n      value: 5,\n      name: '5'\n    },\n    {\n      value: 3,\n      name: '3'\n    },\n    {\n      value: 0,\n      name: '0'\n    }\n  ];\n  impresionForm: FormGroup = this.fb.group({\n    costoImpresion: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n  });\n\n  constructor(\n    private prestamoService: PrestamoService,\n    private pagoService: PagoService,\n    private impresionService: ImpresionService,\n    private alertService: AlertService,\n    private modalService: ModalService,\n    private fb: RxFormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.subscribePrestamo();\n    this.subscribePago();\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  getPago() {\n    this.sub.add(\n      this.pagoService.getById(this.pago.id).subscribe(\n        pago => {\n          this.pago = pago;\n        }\n      )\n    );\n  }\n\n  subscribePago() {\n    this.sub.add(\n      this.pagoService.pago.subscribe(\n        (pago) => {\n          this.pago = pago;\n        }\n      )\n    );\n  }\n\n  subscribePrestamo() {\n    this.sub.add(\n      this.prestamoService.prestamo.subscribe(\n        (prestamo) => {\n          this.prestamo = prestamo;\n        }\n      )\n    );\n  }\n\n  closeModal() {\n    this.modal.visible = false;\n    this.modal.modalName = '';\n    this.pagoService.pago.emit(null);\n  }\n\n  refreshForm() {\n    (<FormGroupExtension>this.impresionForm).resetForm();\n  }\n\n  save() {\n    this.loading = true;\n    const body: Impresion = {\n      prestamo: this.prestamo.id,\n      costoImpresion: +this.impresionForm.value.costoImpresion,\n      tipoDocumento: this.tipoDocumento\n    };\n    console.log(body);\n    this.impresionService.postImpresion(body).subscribe(\n      response => {\n        this.loading = false;\n        this.alertService.triggerMessage('Impresin registrada correctamente', 'success');\n        this.refreshImpresiones();\n        this.closeModal();\n      },\n      error => {\n        this.loading = false;\n        this.alertService.triggerMessage(error.error.message, 'error');\n      }\n    )\n  }\n\n  refreshImpresiones() {\n    this.sub.add(\n      this.impresionService.getByPrestamoId(this.prestamo.id).subscribe(\n        (impresiones) => {\n          if (impresiones) {\n            this.impresionService.impresiones.emit(impresiones);\n          }\n        }\n      )\n    );\n  }\n}\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport { marcaAgua } from  'src/app/helpers/base64Images';\nimport { numeroALetras } from 'src/app/helpers/numberToLetter';\nimport pdfMake from 'pdfmake/build/pdfmake';\nimport pdfFonts from 'pdfmake/build/vfs_fonts';\nimport { BusinessService } from 'src/app/core/services/business.service';\nimport { Subscription } from 'rxjs';\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n@Component({\n  selector: 'app-pdf-documento',\n  templateUrl: './pdf-documento.component.html',\n  styles: [\n  ]\n})\nexport class PdfDocumentoComponent implements OnInit, OnDestroy {\n  sub: Subscription;\n  @Input() prestamo;\n\n  business = this.businessService.businessInformation;\n  literal: string;\n\n  constructor(\n    private datePipe: DatePipe,\n    private businessService: BusinessService,\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.subscribeBusiness();\n    this.numeroALiteral();\n  }\n\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  subscribeBusiness() {\n    this.sub.add(\n      this.businessService.business.subscribe(\n        (business) => {\n          this.business = business;\n        }\n      )\n    );\n  }\n\n  numeroALiteral() {\n    this.literal = '';\n    const decimal = ((Math.abs(+this.prestamo.costoPrestamo) - +this.prestamo.costoPrestamo) * 10).toFixed(0);\n    const litera = numeroALetras(this.prestamo.costoPrestamo, {\n      plural: 'BOLIVIANOS',\n      singular: 'BOLIVIANO',\n      centPlural: 'CENTAVOS',\n      centSingular: 'CENTAVO'\n    })\n    this.literal = `(literal ${litera} ) (${decimal}0/100 bolivianos)`;\n  }\n\n  exportToPdf() {\n    const contrato = {\n      // a string or { width: number, height: number }\n      pageSize: \"LETTER\",\n\n      // by default we use portrait, you can change it to landscape if you wish\n      pageOrientation: \"portrait\",\n\n      // [left, top, right, bottom] or [horizontal, vertical] or just a number for equal margins\n      pageMargins: [50, 35, 50, 35],\n      background: function (currentPage, pageSize) {\n        return {\n          image: marcaAgua,\n          width: 550,\n          absolutePosition: { x: 50, y: 150 },\n          opacity: 0.2,\n        };\n      },\n      content: [\n        {\n          text: \"DOCUMENTO DE COMPRA VENTA CON PACTO DE RESCATE\\n\\n\",\n          fontSize: 12,\n          alignment: \"center\",\n        },\n        {\n          text: \"Conste por el presente documento privado de compra y venta con pacto de rescate el cual puede ser elevado a instrumento pblico a simple reconocimiento de firmas y a solo requerimiento de las partes al tenor de las siguientes clausulas.\\n\\n\",\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: \"PRIMERO. - El presente documento privado de compra y venta con pacto de rescate se suscribe al amparo del Art. 405, 452, 454, 483, 519, 584, 590, 593, 614, 636, 641, 644 y 645 del Cdigo Civil.\\n\\n\",\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        //DATOS DE PANEL DE CONTROL NOMBRE DE LA EMPRESA, NIT,UBICACION\n        {\n          text: \"SEGUNDO. - (DE LAS PARTES). Intervienen en la SUSCRIPCION DE ESTE DOCUMENTO \\n\",\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: `Por una parte, La Empresa Unipersonal ${this.business.name} legal mente constituida con NIT: ${this.business.nit} ubicada en ${this.business.direction} de la ciudad de EL Alto - La Paz. Titular y/o representante por el Sr. Sergio Gonzalo Mamani Rojas con CI: 7041391 LP. mayor de edad, hbil por derecho, quien en lo sucesivo y para fines propios del presente documento se denominar COMPRADOR. \\n\\n`,\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        //Nombre del cliente , CI , celular\n        {\n          text: `Por otra parte, ${this.prestamo.client.name} con C.I ${this.prestamo.client.ci} Cel.${this.prestamo.client.phone}  Mayor de edad hbil por derecho en completo uso de mis facultades, de forma libre y voluntaria, sin que medie vicio alguno en el consentimiento, doy en calidad de venta bajo modalidad de pacto de rescate, quien en lo sucesivo y para fines propios del presente documento se denominara VENDEDOR.\\n\\n`,\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        //nombre del objeto de prenda y valor numerico y literal\n        {\n          text: `TERCERO. - (DE LA COMPRA Y VENTA)  ${this.prestamo.inventario.map(i => (i.descripcion+ ', '))} con un valor de ${this.prestamo.costoPrestamo}0 ${this.literal} que el COMPRADOR ENTREGA A FAVOR VENDEDOR en forma efectiva al momento de realizar la   transaccin al momento de suscribir el presente documento en el modo y condiciones que se estipulan en caso de que el vendedor quisiera hacer uso del derecho de rescate deber conocer las siguientes clausulas.\\n\\n`,\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: \"CUARTO. - (PACTO DE RESCATE). EL VENDEDOR tiene la opcin de rescate de la mercadera vendida siempre y cuando devuelva la suma de dinero a la cual fue vendida la mercadera ms los intereses y comisiones establecidos entre comprador y vendedor en el presente documento a detallarse:\\n\\n\",\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        //monto de prestamo\n        {\n          columns: [\n            { width: \"*\", text: \"\" },\n            {\n              width: \"auto\",\n              table: {\n                body: [\n                  [\n                    { text: \"Monto de compra en:\", style: \"tableHeader\" },\n                    { text: `Bs.- ${this.prestamo.costoPrestamo}0`, style: \"tableHeader\" },\n                  ],\n                  [\"COMISION POR CUSTODIA\", \"Gastos generados\"],\n                ],\n                alignment: \"center\",\n              },\n            },\n            { width: \"*\", text: \"\" },\n          ],\n        },\n        \"  \\n  \",\n        // interes del panel de control\n        {\n          text: `QUINTO. - (DEL INTERES). Si el VENDEDOR opta por el rescate de la mercadera, el inters pactado que debe pagar al VENDEDOR al COMPRADOR por el rescate de la mercadera es el ${this.business.interest}% mensual respecto al monto de dinero entregado por el comprador al vendedor.\\n\\n`,\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: [\n            \"SEXTO. - (DE LA COMISION). Si el VENDEDOR opta por el rescate de la mercadera vendida, entonces se compromete libremente a pagar al COMPRADOR por concepto de comisin (COMISION POR CUSTODIA, CONSERVACIONES, GASTOS ADMINISTRATIVOS Y RIESGOS DE LA GARANTIA COMPRADA). El COMPRADOR garantiza al VENDEDOR la custodia y cuidado de la mercadera vendida, en concordancia con el Art. 645 del Cdigo Civil.\\n\",\n            \"EL/LA VENDEDOR(A), reconoce voluntariamente, que el cobro de los gastos establecidos en el presente contrato, constituyen un legtimo rembolso a favor de EL COMPRADOR. Puesto que este incurra en dichos gastos para viabilizar la transaccin, determinar y conservar el estado actual del bien objeto de la compra y venta.\\n\",\n          ],\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: \"SEPTIMO. - (DEVOLUCION DE LA GARANTIA VENDIDA). El VENDEDOR deber rescatar la cosa vendida en forma personal previa acreditacin de su cedula identidad (original vigente) ms las copias del documento. La entrega se realizar en el plazo no mayor a 5 das hbiles. Una vez haya realizado la cancelacin total de la venta ms los intereses legales aplicables y dems comisiones por custodia, conservacin, gastos administrativos y riesgos de la cosa vendida.\\n\\n\",\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: [\n            \"OCTAVO. - El vendedor da propia voluntad y sin que medie vicio del consentimiento alguno DECLARA de forma pura y simple que el bien entregado en calidad de COMPRA Y VENTA CON PACTO DE RESCATE, es de su exclusiva, legal y legtima propiedad, siendo el nico responsable de la titularidad de derecho propietario, por lo que se hace responsable de forma directa de reclamos por terceros.\\n\",\n            \"EL VENDEDOR excluye de responsabilidad civil y penal al COMPRADOR, quien recibe de buena fe el bien entregado en VENTA tambin el VENDEDOR asume responsabilidad directa en caso de existir denuncias y/o acusaciones particulares de terceros por hechos vinculados a los delitos de robo, hurto, apropiacin indebida o abuso de confianza sobre el bien entregado en VENTA, o que indicado bien este comprometido en la comisin de otros delitos por el VENDEDOR o por terceros.\\n\\n\",\n          ],\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        {\n          text: \"NOVENO. - (DE LA CLAUSULA ARBITRAL). En caso de conflicto o discrepancias sobre el cumplimiento del presente contrato de compra y venta con pacto de rescate. Las partes convenimos resolver el conflicto a travs del arbitraje con aceptacin del rbitro nico constituido por el centro de arbitraje segn lo estipulado en el Art. 39 y siguientes de la Ley 708 de 25 de junio del 2015.\\n\\n\\n\",\n          fontSize: 12,\n          alignment: \"justify\",\n        },\n        //fecha del dia de prestamo\n        `Fecha de la compra y venta: La Paz  El Alto ${this.datePipe.transform(this.prestamo.fechaInicio, 'mediumDate')} \\n\\n\\n\\n\\n\\n\\n\\n\\n\\n`,\n        //numero del CI vendedor y comprador\n\n        {\n          alignment: \"center\",\n          columns: [\n            {\n              text: `\\nCI: ${this.prestamo.client.ci}\\nVENDEDOR`,\n            },\n            //aqui se debe poner el ci del administrador\n            {\n              text: \"\\nCI: 7041391\\nCOMPRADOR\",\n            },\n          ],\n        },\n      ],\n      styles: {\n        header: {\n          fontSize: 18,\n          bold: true,\n          alignment: \"justify\",\n        },\n        subheader: {\n          fontSize: 15,\n          bold: true,\n        },\n        quote: {\n          italics: true,\n        },\n        small: {\n          fontSize: 8,\n        },\n        tableExample: {\n          margin: [0, 5, 0, 15],\n        },\n      },\n    };\n\n    pdfMake.createPdf(contrato).open();\n  }\n\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { RxFormBuilder, RxwebValidators } from '@rxweb/reactive-form-validators';\nimport { Subscription } from 'rxjs';\nimport { AlertService } from 'src/app/core/services/alert.service';\nimport { AuthService } from 'src/app/core/services/auth.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Prestamo } from 'src/app/interfaces/prestamo';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-modal-edit-prestamo',\n  templateUrl: './modal-edit-prestamo.component.html',\n  styles: [\n  ]\n})\nexport class ModalEditPrestamoComponent implements OnInit, OnDestroy {\n  sub: Subscription;\n  prestamo: Prestamo;\n  loading = false;\n  modal = this.modalService.modal;\n  diasPrestamo: number;\n  costoTotal: number;\n  errorMessages = {\n    required: 'El campo es obligatorio',\n    minLength: 'El campo es muy corto',\n    maxLenght: 'El campo es muy largo',\n    email: 'El email introducido no es valido',\n  };\n  prestamoForm: FormGroup = this.fb.group({\n    fechaInicio: [\n      '',\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    fechaFinal: [\n      '',\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n  });\n  constructor(\n    private prestamoService: PrestamoService,\n    private authService: AuthService,\n    private alertService: AlertService,\n    private modalService: ModalService,\n    private fb: RxFormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.subscribePrestamo();\n  }\n\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  subscribePrestamo() {\n    this.sub.add(\n      this.prestamoService.prestamo.subscribe(\n        (prestamo) => {\n          this.prestamo = prestamo;\n          if (this.prestamo) {\n            this.prestamoForm.controls['fechaInicio'].setValue(new Date(this.prestamo.fechaInicio).toISOString().substring(0, 10));\n            this.prestamoForm.controls['fechaFinal'].setValue(new Date(this.prestamo.fechaFinal).toISOString().substring(0, 10));\n            this.calculateCostoTotal();\n          }\n        }\n      )\n    );\n  }\n\n  closeModal() {\n    this.modal.visible = false;\n    this.modal.modalName = '';\n    this.prestamoService.prestamo.emit(null);\n  }\n\n  save() {\n    this.loading = true;\n    this.sub.add(\n      this.prestamoService.patchPrestamo(this.prestamoForm.value, this.prestamo.id).subscribe(\n        (response) => {\n          this.loading = false;\n          this.alertService.triggerMessage('Prestamo editado Exitosamente', 'success');\n          this.refreshPrestamo();\n          this.closeModal();\n        },\n        (error) => {\n          this.loading = false;\n          this.alertService.triggerMessage(error.error.message, 'error');\n        }\n      )\n    );\n  }\n\n  refreshPrestamo() {\n    this.sub.add(\n      this.prestamoService.getPrestamoById(+(this.prestamo.id)).subscribe(\n        (prestamo) => {\n          if (prestamo) {\n            this.prestamoService.prestamo.emit(prestamo);\n          }\n        }\n      )\n    );\n  }\n\n  calculateCostoTotal(event = '') {\n    this.diasPrestamo = 0;\n    this.costoTotal = 0;\n    const diaInicio = moment(this.prestamoForm.value.fechaIncio).startOf('day');\n    const diaFinal = moment(this.prestamoForm.value.fechaFinal).endOf('day');\n    const dias = moment.duration(diaFinal.diff(diaInicio)).asDays();\n    this.diasPrestamo = +(dias < 5 ? 5: dias).toFixed(0);\n    this.costoTotal = +(this.prestamo.costoPrestamo * (1 + 0.15 / 30) ** (dias < 5 ? 5 : dias)).toFixed(1);\n  }\n\n}\n","export default \"\\n<div class=\\\"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded\\\">\\n  <div class=\\\"p-4 w-full \\\">\\n    <div class=\\\"items-center mb-4\\\">\\n      <h3 class=\\\"text-xl font-bold leading-none text-gray-900 dark:text-white\\\">\\n        <button\\n            (click)=\\\"goToBackPage()\\\"\\n            class=\\\"mx-4 bg-white text-gray-600 active:text-gray-800 font-bold text-xl px-4 py-2 outline-none focus:outline-none mr-1 mb-1\\\"\\n            type=\\\"submit\\\"\\n          >\\n          <i class=\\\"fas fa-arrow-left\\\"></i>\\n        </button>\\n        Informacin del Prestamo N {{ prestamo?.id }}\\n      </h3>\\n      <div class=\\\"flex items-center justify-start pt-2\\\">\\n        <app-modal-pago></app-modal-pago>\\n        <app-modal-amortiguar></app-modal-amortiguar>\\n        <app-modal-impresion-recibo></app-modal-impresion-recibo>\\n        <app-modal-impresion-contrato></app-modal-impresion-contrato>\\n        <app-modal-edit-prestamo></app-modal-edit-prestamo>\\n      </div>\\n      <div class=\\\"w-full \\\">\\n        <div class=\\\"flex flex-col pt-4 items-baseline w-full\\\">\\n\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\\\"flow-root w-auto flex flex-col justify-center\\\">\\n      <div *ngIf=\\\"prestamo\\\" class=\\\"cursor-pointer m-2 w-1/2 border-2 border-green-600 hover:border-green-700 transform hover:-translate-y-1 ease-linear transition-all duration-150\\\">\\n        <div class=\\\"flex items-center space-x-4 px-4 py-2 bg-blueGray-600 \\\">\\n            <div class=\\\"flex-1 min-w-0\\\">\\n              <p class=\\\"text-xl font-medium text-white truncate dark:text-white\\\">\\n                  Cliente: {{ prestamo.client.name }}\\n              </p>\\n            </div>\\n\\n            <button\\n              [popper]=\\\"editarFecha\\\"\\n              [popperTrigger]=\\\"'hover'\\\"\\n              [popperPlacement]=\\\"'top'\\\"\\n              [popperPositionFixed]=\\\"true\\\"\\n              class=\\\"text-green-600 text-3xl rounded-full p-1 shadow hover:shadow-md outline-none focus:outline-none ease-linear transition-all duration-150\\\"\\n              type=\\\"button\\\"\\n              (click)=\\\"showCambioFechaModal()\\\">\\n              <i class=\\\"fas fa-calendar\\\"></i>\\n            </button>\\n            <popper-content #editarFecha>\\n              <p class=\\\"bold\\\">Editar fecha del prestamo</p>\\n            </popper-content>\\n\\n            <button\\n              [popper]=\\\"imprimirContrato\\\"\\n              [popperTrigger]=\\\"'hover'\\\"\\n              [popperPlacement]=\\\"'top'\\\"\\n              [popperPositionFixed]=\\\"true\\\"\\n              class=\\\"text-green-600 text-3xl rounded-full p-1 shadow hover:shadow-md outline-none focus:outline-none ease-linear transition-all duration-150\\\"\\n              type=\\\"button\\\"\\n              (click)=\\\"showImpresionContratoModal()\\\">\\n              <i class=\\\"fas fa-file-invoice\\\"></i>\\n            </button>\\n            <popper-content #imprimirContrato>\\n              <p class=\\\"bold\\\">Imprimir contrato</p>\\n            </popper-content>\\n\\n            <button\\n              [popper]=\\\"pagoModal\\\"\\n              [popperTrigger]=\\\"'hover'\\\"\\n              [popperPlacement]=\\\"'top'\\\"\\n              [popperPositionFixed]=\\\"true\\\"\\n              class=\\\"text-green-600 text-3xl rounded-full p-1 shadow hover:shadow-md outline-none focus:outline-none ease-linear transition-all duration-150\\\"\\n              type=\\\"button\\\"\\n              (click)=\\\"showPagoModal()\\\">\\n              <i class=\\\"fas fa-money-bill\\\"></i>\\n            </button>\\n            <popper-content #pagoModal>\\n              <p class=\\\"bold\\\">Aadir pago</p>\\n            </popper-content>\\n        </div>\\n\\n        <div class=\\\"flex items-center space-x-4 px-4 \\\">\\n          <div class=\\\"flex-1 min-w-0 py-8\\\">\\n            <div class=\\\"text-xl font-medium text-gray-900 truncate dark:text-white flex flex-col\\\">\\n              Prenda(s):\\n              <div *ngFor=\\\"let inv of prestamo.inventario\\\" class=\\\"flex flex-col\\\">\\n                <p\\n                  *ngIf=\\\"inv.tipo === 'JOYA'\\\"\\n                  class=\\\"text-blue-600 dark:text-blue-500 hover:underline\\\">\\n                    <a [routerLink]=\\\"['/admin/inventario/'+inv.id]\\\">\\n                      {{ inv.descripcion }} {{ inv.metal }} {{ inv.peso }} {{ inv.pureza }}\\n                    </a>\\n                </p>\\n                <p\\n                  *ngIf=\\\"inv.tipo === 'ARTICULO'\\\"\\n                  class=\\\"text-blue-600 dark:text-blue-500 hover:underline\\\">\\n                  <a [routerLink]=\\\"['/admin/inventario/'+inv.id]\\\">\\n                    {{ inv.descripcion }} {{ inv.marca }} {{ inv.modelo }} {{ inv.linea }}\\n                  </a>\\n                </p>\\n                <p\\n                  *ngIf=\\\"inv.tipo === 'VEHICULO'\\\"\\n                  class=\\\"text-blue-600 dark:text-blue-500 hover:underline\\\">\\n                  <a [routerLink]=\\\"['/admin/inventario/'+inv.id]\\\">\\n                    {{ inv.descripcion }} {{ inv.marca }} {{ inv.modelo }} {{ inv.placa }}\\n                  </a>\\n                </p>\\n              </div>\\n            </div>\\n            <p class=\\\"text-xl font-medium text-gray-900 truncate dark:text-white\\\">\\n              Usuario: {{ prestamo.user.ci }} {{ prestamo.user.name }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-900 truncate dark:text-white\\\">\\n              MontoPrestamo: Bol. {{ prestamo.costoPrestamo }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Inters al finalizar el Plazo: Bol. {{ (prestamo.costoTotal - prestamo.costoPrestamo).toFixed(1) }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Monto Total: Bol. {{ prestamo.costoTotal }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Monto cancelado: Bol. {{ prestamo.costoCancelado }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Por cobrar: Bol. {{ (prestamo.costoTotal - prestamo.costoCancelado).toFixed(1) }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Fecha de prestamo: {{ prestamo.fechaInicio | date:'medium' }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Fecha de vencimiento: {{ prestamo.fechaFinal | date:'medium' }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Estado: {{ prestamo.estado }}\\n            </p>\\n            <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-gray-400\\\">\\n              Dias restantes: {{ diasRestantes }}\\n            </p>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"items-center mb-4 ml-2 mt-4\\\">\\n        <h3 class=\\\"text-xl font-bold leading-none text-gray-500 dark:text-white\\\">\\n          HISTORIAL\\n        </h3>\\n      </div>\\n      <div class=\\\"flex flex-col\\\">\\n        <div class=\\\"overflow-x-auto sm:-mx-6 lg:-mx-8\\\">\\n            <div class=\\\"inline-block py-2 min-w-full sm:px-6 lg:px-8\\\">\\n                <div class=\\\"overflow-hidden shadow-md sm:rounded-lg\\\">\\n                    <table class=\\\"min-w-full\\\">\\n                        <thead class=\\\"bg-gray-50 dark:bg-gray-700\\\">\\n                            <tr>\\n                                <th scope=\\\"col\\\" class=\\\"py-3 px-6 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\\\">\\n                                  Fecha\\n                                </th>\\n                                <th scope=\\\"col\\\" class=\\\"py-3 px-6 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\\\">\\n                                  Operacin\\n                                </th>\\n                                <th scope=\\\"col\\\" class=\\\"py-3 px-6 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\\\">\\n                                  Cargo\\n                                </th>\\n                                <th scope=\\\"col\\\" class=\\\"py-3 px-6 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\\\">\\n                                  Comisin\\n                                </th>\\n                                <th scope=\\\"col\\\" class=\\\"py-3 px-6 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\\\">\\n                                  Cargos Generados\\n                                </th>\\n                                <th scope=\\\"col\\\" class=\\\"py-3 px-6 text-xs font-medium tracking-wider text-left text-gray-700 uppercase dark:text-gray-400\\\">\\n                                  Amortiguado\\n                                </th>\\n                            </tr>\\n                        </thead>\\n                        <tbody *ngIf=\\\"prestamo\\\" >\\n                            <tr\\n                              *ngFor=\\\"let historial of historialArray\\\"\\n                              class=\\\"bg-white border-b cursor-pointer m-2 transform hover:-translate-y-1 ease-linear transition-all duration-150 \\\"\\n                              (click)=\\\"showImpresionPagoModal(historial)\\\">\\n                                <td class=\\\"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white\\\">\\n                                    {{ historial.fecha }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    {{ historial.operacion }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.cargo }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.comision }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.cargoExtra }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.amortiguado }}\\n                                </td>\\n                            </tr>\\n                            <tr\\n                              *ngFor=\\\"let historial of historialPagosArray\\\"\\n                              class=\\\"bg-white border-b cursor-pointer m-2 transform hover:-translate-y-1 ease-linear transition-all duration-150 \\\"\\n                              (click)=\\\"showImpresionPagoModal(historial)\\\">\\n                                <td class=\\\"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white\\\">\\n                                    {{ historial.fecha }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    {{ historial.operacion }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.cargo }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.comision }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.cargoExtra }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.amortiguado }}\\n                                </td>\\n                            </tr>\\n                            <tr\\n                              *ngFor=\\\"let historial of historialImpresionesArray\\\"\\n                              class=\\\"bg-white border-b cursor-pointer m-2 transform hover:-translate-y-1 ease-linear transition-all duration-150 \\\"\\n                              (click)=\\\"showImpresionPagoModal(historial)\\\">\\n                                <td class=\\\"py-4 px-6 text-sm font-medium text-gray-900 whitespace-nowrap dark:text-white\\\">\\n                                    {{ historial.fecha }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    {{ historial.operacion }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.cargo }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.comision }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.cargoExtra }}\\n                                </td>\\n                                <td class=\\\"py-4 px-6 text-sm text-gray-500 whitespace-nowrap dark:text-gray-400\\\">\\n                                    Bol. {{ historial.amortiguado }}\\n                                </td>\\n                            </tr>\\n\\n                        </tbody>\\n                    </table>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n   </div>\\n  </div>\\n</div>\\n\";","import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Amortizacion } from 'src/app/interfaces/amortizacion';\r\nimport { shareReplay } from 'rxjs/operators';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AmortizacionService {\r\n\r\n  @Output() amortizacion:EventEmitter<Amortizacion> = new EventEmitter();\r\n  @Output() amortizacions:EventEmitter<Amortizacion[]> = new EventEmitter();\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getByPrestamoId(prestamoId: number):Observable<any>{\r\n    const headers = new HttpHeaders().set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/amortizacion/prestamo/${prestamoId}`,{ headers })\r\n  }\r\n\r\n  postAmortizacion(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/amortizacion`,body, { headers });\r\n  }\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FormGroupExtension, RxFormBuilder, RxwebValidators } from '@rxweb/reactive-form-validators';\nimport { Subscription } from 'rxjs';\nimport { AlertService } from 'src/app/core/services/alert.service';\nimport { AmortizacionService } from 'src/app/core/services/amortizacion.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { Amortizacion } from 'src/app/interfaces/amortizacion';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Prestamo } from 'src/app/interfaces/prestamo';\n@Component({\n  selector: 'app-modal-amortiguar',\n  templateUrl: './modal-amortiguar.component.html',\n  styles: [\n  ]\n})\nexport class ModalAmortiguarComponent implements OnInit {\n\n  sub: Subscription;\n  loading: boolean = false;\n  prestamo: Prestamo;\n  amortizacion: Amortizacion;\n  modal = this.modalService.modal;\n  compressed = true;\n  submitted = false;\n  errorMessages = {\n    required: 'El campo es obligatorio',\n    minLength: 'El campo es muy corto',\n    maxLenght: 'El campo es muy largo',\n    email: 'El email introducido no es valido',\n  };\n\n  administracionOptions = [\n    {\n      value: 5,\n      name: '5'\n    },\n    {\n      value: 3,\n      name: '3'\n    },\n    {\n      value: 0,\n      name: '0'\n    }\n  ]\n\n  tipoAmortizacionOptions = [\n    {\n      value: 'PAGO',\n      name: 'PAGO'\n    },\n    {\n      value: 'INTERES',\n      name: 'INTERS'\n    }\n  ]\n  amortizacionForm: FormGroup = this.fb.group({\n    tipoAmortizacion: ['PAGO',\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    costoAdministracion: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    costoPiso: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n    costoAmortizacion: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n  });\n\n  constructor(\n    private prestamoService: PrestamoService,\n    private amortizacionService: AmortizacionService,\n    private alertService: AlertService,\n    private modalService: ModalService,\n    private fb: RxFormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.subscribePrestamo();\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n\n  subscribePrestamo() {\n    this.sub.add(\n      this.prestamoService.prestamo.subscribe(\n        (prestamo) => {\n          this.prestamo = prestamo;\n        }\n      )\n    );\n  }\n\n\n  closeModal() {\n    this.modal.visible = false;\n    this.modal.modalName = '';\n    this.amortizacionService.amortizacion.emit(null);\n  }\n\n  refreshForm() {\n    (<FormGroupExtension>this.amortizacionForm).resetForm();\n  }\n\n  successMessage(message = 'creado') {\n    this.alertService.alert.fire({\n      title: `Amortizacion ${message} Exitosamente`,\n      icon: 'success',\n    })\n  }\n\n  errorMessage(message) {\n    this.alertService.alert.fire({\n      title: message,\n      icon: 'error',\n    })\n  }\n\n  save() {\n    this.loading = true;\n    const body: Amortizacion = {\n      prestamo: this.prestamo.id,\n      costoPago: +this.amortizacionForm.value.costoPago\n    };\n    console.log(body);\n    this.amortizacionService.postAmortizacion(body).subscribe(\n      response => {\n        this.loading = false;\n        this.successMessage();\n        this.closeModal();\n      },\n      error => {\n        this.loading = false;\n        this.errorMessage(error.error.message);\n      }\n    )\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CardPrestamoDetalleComponent } from './components/cards/card-prestamo-detalle/card-prestamo-detalle.component';\nimport { TabPrestamoComponent } from './components/tabs/tab-prestamo/tab-prestamo.component';\nimport { PrestamoComponent } from './prestamo.component';\n\nconst routes: Routes = [{\n  path: '',\n  component: PrestamoComponent,\n  children: [\n    {\n      path: ':prestamoId',\n      component: CardPrestamoDetalleComponent\n    },\n    {\n      path: '**',\n      component: TabPrestamoComponent\n    }\n  ]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PrestamoRoutingModule { }\n","export default \"<div class=\\\"p-4 w-full \\\">\\n  <div class=\\\"items-center mb-4\\\">\\n    <h3 class=\\\"text-xl font-bold leading-none text-gray-900 dark:text-white\\\">Lista de Prestamos</h3>\\n    <div class=\\\"flex items-center justify-start pt-2\\\">.\\n\\n    </div>\\n    <div class=\\\"w-full \\\">\\n      <div class=\\\"flex flex-col pt-4 items-baseline w-full \\\">\\n        <form\\n          [formGroup]=\\\"ciForm\\\"\\n        >\\n          <input\\n            type=\\\"text\\\"\\n            placeholder=\\\"Buscar por CI Ej: 836378...\\\"\\n            class=\\\"border-0 px-3 py-3 placeholder-black-300 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring focus:ring-green-600  w-full ease-linear transition-all duration-150\\\"\\n            formControlName=\\\"ci\\\"\\n            (ngModelChange)=\\\"search($event)\\\"\\n          >\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"flow-root w-auto\\\">\\n    <ul *ngIf=\\\"response\\\" role=\\\"list\\\" class=\\\"relative\\\">\\n      <li *ngFor=\\\"let prestamo of response.items; let i=index;\\\"\\n          class=\\\"cursor-pointer m-2 w-1/2 border-2 border-green-600 hover:border-green-700 transform hover:-translate-y-1 ease-linear transition-all duration-150\\\"\\n          (click)=\\\"goToPrestamoInformation(prestamo)\\\">\\n          <div class=\\\"flex items-center\\\">\\n              <div class=\\\"text-3xl p-4 bg-green-600\\\">\\n                {{prestamo.id}}\\n              </div>\\n              <div  class=\\\"flex-1 min-w-0 mx-6 flex flex-col\\\">\\n                <p class=\\\"text-xl font-medium text-gray-900 truncate dark:text-white\\\">\\n                   {{ prestamo.client.name }}\\n                </p>\\n                <div\\n                  *ngFor=\\\"let inv of prestamo.inventario\\\"\\n                  class=\\\"text-xl font-medium text-gray-500 truncate dark:text-white\\\">\\n\\n                  <p *ngIf=\\\"inv.tipo === 'JOYA'\\\">\\n                      {{ inv.descripcion }} {{ inv.metal }} {{ inv.peso }} {{ inv.pureza }}\\n                  </p>\\n                  <p *ngIf=\\\"inv.tipo === 'ARTICULO'\\\">\\n                      {{ inv.descripcion }} {{ inv.marca }} {{ inv.modelo }} {{ inv.linea }}\\n                  </p>\\n                  <p *ngIf=\\\"inv.tipo === 'VEHICULO'\\\">\\n                      {{ inv.descripcion }} {{ inv.marca }} {{ inv.modelo }} {{ inv.placa }}\\n                  </p>\\n                </div>\\n                <p class=\\\"text-xl font-medium text-gray-500 truncate dark:text-white\\\">\\n                  {{ prestamo.fechaInicio | date:'mediumDate' }} - {{ prestamo.fechaFinal | date:'mediumDate' }}\\n                </p>\\n              </div>\\n              <div class=\\\"text-gray-500 text-xl font-bold mr-8\\\">\\n                <p>\\n                  BOL. {{ prestamo.costoTotal }}\\n                </p>\\n                <p class=\\\"text-sm\\\">\\n                  {{ prestamo.estado }}\\n                </p>\\n              </div>\\n          </div>\\n      </li>\\n  </ul>\\n  </div>\\n</div>\\n\\n<app-pagination\\n  *ngIf=\\\"response\\\"\\n  [response]=\\\"response.meta\\\"\\n  (pageEvent)=\\\"getOnPageResponse($event)\\\"\\n></app-pagination>\\n\";","export default \"<div *ngIf=\\\"modal.visible&&modal.modalName==='impresionPagoModal'\\\" class=\\\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\\\">\\n  <div class=\\\"relative w-auto my-6 mx-auto max-w-580-px\\\">\\n\\n    <div class=\\\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\\\">\\n\\n      <div class=\\\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\\\">\\n        <h4 class=\\\"text-2xl font-semibold\\\">\\n           Impresin del prestamo {{ prestamo?.id }}\\n        </h4>\\n        <button\\n          class=\\\"p-1 ml-auto border-0 opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          <span class=\\\"opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\\\">\\n            x\\n          </span>\\n        </button>\\n      </div>\\n\\n      <form\\n        autocomplete=\\\"off\\\"\\n        [formGroup]=\\\"impresionForm\\\"\\n        (ngSubmit)=\\\"save()\\\"\\n      >\\n        <div class=\\\"my-4 relative p-6 flex flex-wrap\\\">\\n          <div class=\\\"w-full px-4 mb-2\\\">\\n            <app-select\\n              [inputForm]=\\\"impresionForm\\\"\\n              [options]=\\\"administracionOptions\\\"\\n              inputLabel=\\\"Costo reimpresin\\\"\\n              inputFormName=\\\"costoImpresion\\\"\\n              formControlName=\\\"costoImpresion\\\"\\n              [value]=\\\"impresionForm.value.costoImpresion\\\">\\n            </app-select>\\n          </div>\\n\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n          </div>\\n\\n        </div>\\n\\n      <div class=\\\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\\\">\\n        <button\\n          class=\\\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          Cancelar\\n        </button>\\n        <button\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"button\\\"\\n          (click)=\\\"refreshForm()\\\"\\n        >\\n          Limpiar\\n        </button>\\n        <button\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"submit\\\"\\n        >\\n          Registrar reimpresin\\n        </button>\\n        <app-pdf-documento [prestamo]=\\\"prestamo\\\"></app-pdf-documento>\\n      </div>\\n\\n    </form>\\n\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"modal.visible&&modal.modalName==='impresionPagoModal'\\\" class=\\\"opacity-25 fixed inset-0 z-40 bg-black\\\"></div>\\n\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PrestamoRoutingModule } from './prestamo-routing.module';\nimport { PrestamoComponent } from './prestamo.component';\nimport { TabPrestamoComponent } from './components/tabs/tab-prestamo/tab-prestamo.component';\nimport { CardPrestamosComponent } from './components/cards/card-prestamos/card-prestamos.component';\nimport { CardPrestamoDetalleComponent } from './components/cards/card-prestamo-detalle/card-prestamo-detalle.component';\nimport { ModalPagoComponent } from './components/modals/modal-pago/modal-pago.component';\nimport { ModalAmortiguarComponent } from './components/modals/modal-amortiguar/modal-amortiguar.component';\nimport { ModalImpresionReciboComponent } from './components/modals/modal-impresion-recibo/modal-impresion-recibo.component';\nimport { SharedModule } from '../../shared/shared.module';\nimport { PdfPagoComponent } from './components/pdfs/pdf-pago/pdf-pago.component';\nimport { PdfDocumentoComponent } from './components/pdfs/pdf-documento/pdf-documento.component';\nimport { ModalImpresionContratoComponent } from './components/modals/modal-impresion-contrato/modal-impresion-contrato.component';\nimport { ModalEditPrestamoComponent } from './components/modals/modal-edit-prestamo/modal-edit-prestamo.component';\n\n\n@NgModule({\n  declarations: [PrestamoComponent, TabPrestamoComponent, CardPrestamosComponent, CardPrestamoDetalleComponent, ModalPagoComponent, ModalAmortiguarComponent, ModalImpresionReciboComponent, PdfPagoComponent, PdfDocumentoComponent, ModalImpresionContratoComponent, ModalEditPrestamoComponent],\n  imports: [\n    PrestamoRoutingModule,\n    SharedModule\n  ]\n})\nexport class PrestamoModule { }\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-tab-prestamo',\n  templateUrl: './tab-prestamo.component.html',\n  styles: [\n  ]\n})\nexport class TabPrestamoComponent implements OnInit {\n  openTab = 1;\n  toggleTabs($tabNumber: number){\n    this.openTab = $tabNumber;\n  }\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","export const numeroALetras = (function() {\r\n\r\n  // Cdigo basado en https://gist.github.com/alfchee/e563340276f89b22042a\r\n      function Unidades(num){\r\n\r\n          switch(num)\r\n          {\r\n              case 1: return 'UN';\r\n              case 2: return 'DOS';\r\n              case 3: return 'TRES';\r\n              case 4: return 'CUATRO';\r\n              case 5: return 'CINCO';\r\n              case 6: return 'SEIS';\r\n              case 7: return 'SIETE';\r\n              case 8: return 'OCHO';\r\n              case 9: return 'NUEVE';\r\n          }\r\n\r\n          return '';\r\n      }//Unidades()\r\n\r\n      function Decenas(num){\r\n\r\n          let decena = Math.floor(num/10);\r\n          let unidad = num - (decena * 10);\r\n\r\n          switch(decena)\r\n          {\r\n              case 1:\r\n                  switch(unidad)\r\n                  {\r\n                      case 0: return 'DIEZ';\r\n                      case 1: return 'ONCE';\r\n                      case 2: return 'DOCE';\r\n                      case 3: return 'TRECE';\r\n                      case 4: return 'CATORCE';\r\n                      case 5: return 'QUINCE';\r\n                      default: return 'DIECI' + Unidades(unidad);\r\n                  }\r\n              case 2:\r\n                  switch(unidad)\r\n                  {\r\n                      case 0: return 'VEINTE';\r\n                      default: return 'VEINTI' + Unidades(unidad);\r\n                  }\r\n              case 3: return DecenasY('TREINTA', unidad);\r\n              case 4: return DecenasY('CUARENTA', unidad);\r\n              case 5: return DecenasY('CINCUENTA', unidad);\r\n              case 6: return DecenasY('SESENTA', unidad);\r\n              case 7: return DecenasY('SETENTA', unidad);\r\n              case 8: return DecenasY('OCHENTA', unidad);\r\n              case 9: return DecenasY('NOVENTA', unidad);\r\n              case 0: return Unidades(unidad);\r\n          }\r\n      }//Unidades()\r\n\r\n      function DecenasY(strSin, numUnidades) {\r\n          if (numUnidades > 0)\r\n              return strSin + ' Y ' + Unidades(numUnidades)\r\n\r\n          return strSin;\r\n      }//DecenasY()\r\n\r\n      function Centenas(num) {\r\n          let centenas = Math.floor(num / 100);\r\n          let decenas = num - (centenas * 100);\r\n\r\n          switch(centenas)\r\n          {\r\n              case 1:\r\n                  if (decenas > 0)\r\n                      return 'CIENTO ' + Decenas(decenas);\r\n                  return 'CIEN';\r\n              case 2: return 'DOSCIENTOS ' + Decenas(decenas);\r\n              case 3: return 'TRESCIENTOS ' + Decenas(decenas);\r\n              case 4: return 'CUATROCIENTOS ' + Decenas(decenas);\r\n              case 5: return 'QUINIENTOS ' + Decenas(decenas);\r\n              case 6: return 'SEISCIENTOS ' + Decenas(decenas);\r\n              case 7: return 'SETECIENTOS ' + Decenas(decenas);\r\n              case 8: return 'OCHOCIENTOS ' + Decenas(decenas);\r\n              case 9: return 'NOVECIENTOS ' + Decenas(decenas);\r\n          }\r\n\r\n          return Decenas(decenas);\r\n      }//Centenas()\r\n\r\n      function Seccion(num, divisor, strSingular, strPlural) {\r\n          let cientos = Math.floor(num / divisor)\r\n          let resto = num - (cientos * divisor)\r\n\r\n          let letras = '';\r\n\r\n          if (cientos > 0)\r\n              if (cientos > 1)\r\n                  letras = Centenas(cientos) + ' ' + strPlural;\r\n              else\r\n                  letras = strSingular;\r\n\r\n          if (resto > 0)\r\n              letras += '';\r\n\r\n          return letras;\r\n      }//Seccion()\r\n\r\n      function Miles(num) {\r\n          let divisor = 1000;\r\n          let cientos = Math.floor(num / divisor)\r\n          let resto = num - (cientos * divisor)\r\n\r\n          let strMiles = Seccion(num, divisor, 'UN MIL', 'MIL');\r\n          let strCentenas = Centenas(resto);\r\n\r\n          if(strMiles == '')\r\n              return strCentenas;\r\n\r\n          return strMiles + ' ' + strCentenas;\r\n      }//Miles()\r\n\r\n      function Millones(num) {\r\n          let divisor = 1000000;\r\n          let cientos = Math.floor(num / divisor)\r\n          let resto = num - (cientos * divisor)\r\n\r\n          let strMillones = Seccion(num, divisor, 'UN MILLON DE', 'MILLONES DE');\r\n          let strMiles = Miles(resto);\r\n\r\n          if(strMillones == '')\r\n              return strMiles;\r\n\r\n          return strMillones + ' ' + strMiles;\r\n      }//Millones()\r\n\r\n      return function NumeroALetras(num, currency) {\r\n          currency = currency || {};\r\n          let data = {\r\n              numero: num,\r\n              enteros: Math.floor(num),\r\n              centavos: (((Math.round(num * 100)) - (Math.floor(num) * 100))),\r\n              letrasCentavos: '',\r\n              letrasMonedaPlural: currency.plural || 'PESOS CHILENOS',//'PESOS', 'Dlares', 'Bolvares', 'etcs'\r\n              letrasMonedaSingular: currency.singular || 'PESO CHILENO', //'PESO', 'Dlar', 'Bolivar', 'etc'\r\n              letrasMonedaCentavoPlural: currency.centPlural || 'CHIQUI PESOS CHILENOS',\r\n              letrasMonedaCentavoSingular: currency.centSingular || 'CHIQUI PESO CHILENO'\r\n          };\r\n\r\n          if (data.centavos > 0) {\r\n              data.letrasCentavos = 'CON ' + (function () {\r\n                      if (data.centavos == 1)\r\n                          return Millones(data.centavos) + ' ' + data.letrasMonedaCentavoSingular;\r\n                      else\r\n                          return Millones(data.centavos) + ' ' + data.letrasMonedaCentavoPlural;\r\n                  })();\r\n          };\r\n\r\n          if(data.enteros == 0)\r\n              return 'CERO ' + data.letrasMonedaPlural + ' ' + data.letrasCentavos;\r\n          if (data.enteros == 1)\r\n              return Millones(data.enteros) + ' ' + data.letrasMonedaSingular + ' ' + data.letrasCentavos;\r\n          else\r\n              return Millones(data.enteros) + ' ' + data.letrasMonedaPlural + ' ' + data.letrasCentavos;\r\n      };\r\n\r\n  })();\r\n","export default \"\\n<div *ngIf=\\\"modal.visible&&modal.modalName==='prestamoEditModal'\\\" class=\\\"justify-center items-center overflow-x-hidden overflow-y-auto fixed right-0 left-0 top-4 inset-0 z-50 grid\\\">\\n  <div class=\\\"relative px-4 w-full max-w-6xl h-full md:h-auto\\\">\\n\\n    <div class=\\\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\\\">\\n\\n      <div class=\\\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\\\">\\n        <h4 class=\\\"text-2xl font-semibold\\\">\\n           PRESTAMO N {{prestamo.id}}\\n        </h4>\\n        <button\\n          class=\\\"p-1 ml-auto border-0 opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          <span class=\\\"opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\\\">\\n            x\\n          </span>\\n        </button>\\n      </div>\\n      <div class=\\\"flex w-full\\\">\\n\\n        <form\\n          autocomplete=\\\"off\\\"\\n          [formGroup]=\\\"prestamoForm\\\"\\n          (ngSubmit)=\\\"save()\\\"\\n          class=\\\"w-full md:w-1/2\\\"\\n        >\\n          <div class=\\\"my-4 relative p-6 flex flex-wrap\\\">\\n            <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n              <app-input\\n                [inputForm]=\\\"prestamoForm\\\"\\n                inputLabel=\\\"INICIO PRESTAMO\\\"\\n                inputType=\\\"date\\\"\\n                inputFormName=\\\"fechaInicio\\\"\\n                formControlName=\\\"fechaInicio\\\"\\n                [inputMax]=\\\"prestamoForm.value.FechaFinal\\\"\\n                [value]=\\\"prestamoForm.value.fechaInicio\\\"\\n                (inputEvent)=\\\"calculateCostoTotal($event)\\\">\\n              </app-input>\\n            </div>\\n\\n            <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n              <app-input\\n                [inputForm]=\\\"prestamoForm\\\"\\n                inputLabel=\\\"FINAL del PRESTAMO\\\"\\n                inputType=\\\"date\\\"\\n                inputFormName=\\\"fechaFinal\\\"\\n                formControlName=\\\"fechaFinal\\\"\\n                [inputMin]=\\\"prestamoForm.value.fechaInicio\\\"\\n                (inputEvent)=\\\"calculateCostoTotal()\\\"\\n                [value]=\\\"prestamoForm.value.fechaFinal\\\">\\n              </app-input>\\n            </div>\\n          </div>\\n\\n        <div class=\\\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\\\">\\n          <button\\n            class=\\\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n            (click)=\\\"closeModal()\\\"\\n            type=\\\"button\\\"\\n          >\\n            Cancelar\\n          </button>\\n          <button\\n            [disabled]=\\\"!prestamoForm.valid || loading\\\"\\n            class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n            type=\\\"submit\\\"\\n          >\\n          <i class=\\\"fas fa-spinner\\\" [ngClass]=\\\"loading? 'animate-spin': 'hidden'\\\"></i> Guardar cambios\\n          </button>\\n        </div>\\n\\n        </form>\\n\\n        <div class=\\\"w-full md:w-1/2 my-4 relative p-6\\\">\\n          <div>\\n            <p> Cantidad de dias: {{this.diasPrestamo}}</p>\\n            <p> Prestamo total: Bol. {{this.prestamo.costoPrestamo}}</p>\\n            <p> Interes al finalizar el plazo: Bol. {{(this.costoTotal - this.prestamo.costoPrestamo).toFixed(1)}}</p>\\n            <p> Total a pagar al finalizar el plazo: Bol. {{this.costoTotal}}</p>\\n          </div>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"modal.visible&&modal.modalName==='prestamoEditModal'\\\" class=\\\"opacity-25 fixed inset-0 z-40 bg-black\\\"></div>\\n\";","export default \"<button\\n  (click)=\\\"exportToPdf()\\\"\\n  class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n  type=\\\"button\\\"\\n>\\n Imprimir\\n</button>\\n\";","export default \"<div *ngIf=\\\"modal.visible&&modal.modalName==='impresionContratoModal'\\\" class=\\\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\\\">\\n  <div class=\\\"relative w-auto my-6 mx-auto max-w-580-px\\\">\\n\\n    <div class=\\\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\\\">\\n\\n      <div class=\\\"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t\\\">\\n        <h4 class=\\\"text-2xl font-semibold\\\">\\n           Impresin del Pago {{ pago?.id }}\\n        </h4>\\n        <button\\n          class=\\\"p-1 ml-auto border-0 opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          <span class=\\\"opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none\\\">\\n            x\\n          </span>\\n        </button>\\n      </div>\\n\\n      <form\\n        autocomplete=\\\"off\\\"\\n        [formGroup]=\\\"impresionForm\\\"\\n        (ngSubmit)=\\\"save()\\\"\\n      >\\n        <div class=\\\"my-4 relative p-6 flex flex-wrap\\\">\\n          <div class=\\\"w-full px-4 mb-2\\\">\\n            <app-select\\n              [inputForm]=\\\"impresionForm\\\"\\n              [options]=\\\"administracionOptions\\\"\\n              inputLabel=\\\"Costo reimpresin\\\"\\n              inputFormName=\\\"costoImpresion\\\"\\n              formControlName=\\\"costoImpresion\\\"\\n              [value]=\\\"impresionForm.value.costoImpresion\\\">\\n            </app-select>\\n          </div>\\n\\n          <div class=\\\"w-full lg:w-6/12 px-4 mb-2\\\">\\n          </div>\\n\\n        </div>\\n\\n      <div class=\\\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\\\">\\n        <button\\n          class=\\\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          (click)=\\\"closeModal()\\\"\\n          type=\\\"button\\\"\\n        >\\n          Cancelar\\n        </button>\\n        <button\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"button\\\"\\n          (click)=\\\"refreshForm()\\\"\\n        >\\n          Limpiar\\n        </button>\\n        <button\\n          class=\\\"mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\\\"\\n          type=\\\"submit\\\"\\n        >\\n          Registrar reimpresin\\n        </button>\\n        <app-pdf-pago [pago]=\\\"pago\\\" [prestamo]=\\\"prestamo\\\"></app-pdf-pago>\\n      </div>\\n\\n    </form>\\n\\n    </div>\\n  </div>\\n</div>\\n<div *ngIf=\\\"modal.visible&&modal.modalName==='impresionContratoModal'\\\" class=\\\"opacity-25 fixed inset-0 z-40 bg-black\\\"></div>\\n\";","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { FormGroupExtension, RxFormBuilder, RxwebValidators } from '@rxweb/reactive-form-validators';\nimport { Subscription } from 'rxjs';\nimport { AlertService } from 'src/app/core/services/alert.service';\nimport { PagoService } from 'src/app/core/services/pago.service';\nimport { ModalService } from 'src/app/core/services/modal.service';\nimport { Pago } from 'src/app/interfaces/pago';\nimport { PrestamoService } from 'src/app/core/services/prestamo.service';\nimport { Prestamo } from 'src/app/interfaces/prestamo';\nimport { Impresion } from 'src/app/interfaces/impresion';\nimport { ImpresionService } from 'src/app/core/services/impresion.service';\n@Component({\n  selector: 'app-modal-impresion-recibo',\n  templateUrl: './modal-impresion-recibo.component.html',\n  styles: [\n  ]\n})\nexport class ModalImpresionReciboComponent implements OnInit, OnDestroy{\n  @Input()\n  tipoDocumento: 'PAGO' | 'CONTRATO' = 'PAGO';\n\n  sub: Subscription;\n  loading: boolean = false;\n  prestamo: Prestamo;\n  pago: Pago;\n  modal = this.modalService.modal;\n  compressed = true;\n  submitted = false;\n  errorMessages = {\n    required: 'El campo es obligatorio',\n    minLength: 'El campo es muy corto',\n    maxLenght: 'El campo es muy largo',\n    email: 'El email introducido no es valido',\n  };\n\n  administracionOptions = [\n    {\n      value: 20,\n      name: '20'\n    },\n    {\n      value: 5,\n      name: '5'\n    },\n    {\n      value: 3,\n      name: '3'\n    },\n    {\n      value: 0,\n      name: '0'\n    }\n  ];\n  impresionForm: FormGroup = this.fb.group({\n    costoImpresion: [0,\n      [\n        RxwebValidators.required({ message: this.errorMessages.required }),\n      ],\n    ],\n  });\n\n  constructor(\n    private prestamoService: PrestamoService,\n    private pagoService: PagoService,\n    private impresionService: ImpresionService,\n    private alertService: AlertService,\n    private modalService: ModalService,\n    private fb: RxFormBuilder\n  ) { }\n\n  ngOnInit(): void {\n    this.sub = new Subscription();\n    this.subscribePrestamo();\n    this.subscribePago();\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  getPago() {\n    this.sub.add(\n      this.pagoService.getById(this.pago.id).subscribe(\n        pago => {\n          this.pago = pago;\n        }\n      )\n    );\n  }\n\n  subscribePago() {\n    this.sub.add(\n      this.pagoService.pago.subscribe(\n        (pago) => {\n          this.pago = pago;\n        }\n      )\n    );\n  }\n\n  subscribePrestamo() {\n    this.sub.add(\n      this.prestamoService.prestamo.subscribe(\n        (prestamo) => {\n          this.prestamo = prestamo;\n        }\n      )\n    );\n  }\n\n  closeModal() {\n    this.modal.visible = false;\n    this.modal.modalName = '';\n    this.pagoService.pago.emit(null);\n  }\n\n  refreshForm() {\n    (<FormGroupExtension>this.impresionForm).resetForm();\n  }\n\n  save() {\n    this.loading = true;\n    const body: Impresion = {\n      prestamo: this.prestamo.id,\n      costoImpresion: +this.impresionForm.value.costoImpresion,\n      tipoDocumento: this.tipoDocumento\n    };\n    console.log(body);\n    this.impresionService.postImpresion(body).subscribe(\n      response => {\n        this.loading = false;\n        this.alertService.triggerMessage('Impresin registrada correctamente', 'success');\n        this.refreshImpresiones();\n        this.closeModal();\n      },\n      error => {\n        this.loading = false;\n        this.alertService.triggerMessage(error.error.message, 'error');\n      }\n    )\n  }\n  refreshImpresiones() {\n    this.sub.add(\n      this.impresionService.getByPrestamoId(this.prestamo.id).subscribe(\n        (impresiones) => {\n          if (impresiones) {\n            this.impresionService.impresiones.emit(impresiones);\n          }\n        }\n      )\n    );\n  }\n}\n"]}