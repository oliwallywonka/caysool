{"version":3,"sources":["webpack:///src/app/core/services/inventario.service.ts","webpack:///src/app/core/services/prestamo.service.ts"],"names":["InventarioService","http","inventario","response","baseUrl","clientCi","page","force","estadoInv","headers","set","sessionStorage","getItem","cacheResponse$","get","pipe","cacheResponse2$","id","clientId","body","post","patch","providedIn","PrestamoService","prestamo","client","estadoPrestamo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAcaA,iBAAiB;AAQ5B,mCAAqBC,IAArB,EAAqC;AAAA;;AAAhB,eAAAA,IAAA,GAAAA,IAAA;AANX,eAAAC,UAAA,GAAsC,IAAI,0DAAJ,EAAtC;AACA,eAAAC,QAAA,GAA4C,IAAI,0DAAJ,EAA5C;AAGF,eAAAC,OAAA,GAAkB,sEAAYA,OAA9B;AAEmC;;AARf;AAAA;AAAA,iBAU5B,6BAKC;AAAA,qCAJCC,QAID;AAAA,gBAJCA,QAID,8BAJY,EAIZ;AAAA,iCAHCC,IAGD;AAAA,gBAHCA,IAGD,0BAHQ,CAGR;AAAA,kCAFCC,KAED;AAAA,gBAFCA,KAED,2BAFS,KAET;AAAA,sCADCC,SACD;AAAA,gBADCA,SACD,+BADa,EACb;AACC,gBAAMC,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;;AAEA,gBAAIL,KAAK,IAAI,CAAC,KAAKM,cAAnB,EAAmC;AACjC,qBAAO,KAAKA,cAAL,GAAsB,KAAKZ,IAAL,CAC1Ba,GAD0B,WACnB,KAAKV,OADc,kCACiBC,QADjB,wBACuCG,SADvC,mBACyDF,IADzD,GACgE;AAACG,uBAAO,EAAPA;AAAD,eADhE,EAE1BM,IAF0B,CAEpB,mEAAY,CAAZ,CAFoB,CAA7B;AAGD;;AACD,mBAAO,KAAKF,cAAZ;AACD;AAxB2B;AAAA;AAAA,iBA0B5B,sCAGC;AAAA,mCAFCP,IAED;AAAA,gBAFCA,IAED,2BAFQ,CAER;AAAA,oCADCC,KACD;AAAA,gBADCA,KACD,4BADS,KACT;AACC,gBAAME,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;;AAEA,gBAAIL,KAAK,IAAI,CAAC,KAAKS,eAAnB,EAAoC;AAClC,qBAAO,KAAKH,cAAL,GAAsB,KAAKZ,IAAL,CAC1Ba,GAD0B,WACnB,KAAKV,OADc,uCACsBE,IADtB,GAC6B;AAACG,uBAAO,EAAPA;AAAD,eAD7B,EAE1BM,IAF0B,CAEpB,mEAAY,CAAZ,CAFoB,CAA7B;AAGD;;AACD,mBAAO,KAAKC,eAAZ;AACD;AAtC2B;AAAA;AAAA,iBAwC5B,2BAAkBC,EAAlB,EAA4B;AAC1B,gBAAMR,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKC,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,GAAV,WAAiB,KAAKV,OAAtB,yBAA4Ca,EAA5C,GAAiD;AAACR,qBAAO,EAAPA;AAAD,aAAjD,CAA7B;AAED;AA7C2B;AAAA;AAAA,iBA+C5B,iCAAwBS,QAAxB,EAAwC;AACtC,gBAAMT,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKC,cAAL,GAAsB,KAAKZ,IAAL,CAAUa,GAAV,WAAiB,KAAKV,OAAtB,gCAAmDc,QAAnD,GAA8D;AAACT,qBAAO,EAAPA;AAAD,aAA9D,CAA7B;AAED;AApD2B;AAAA;AAAA,iBAuD5B,wBAAeU,IAAf,EAAmB;AACjB,gBAAMV,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKX,IAAL,CAAUmB,IAAV,WAAkB,KAAKhB,OAAvB,kBAA4Ce,IAA5C,EAAiD;AAACV,qBAAO,EAAPA;AAAD,aAAjD,CAAP;AACD;AA3D2B;AAAA;AAAA,iBA6D5B,yBAAgBU,IAAhB,EAAqBF,EAArB,EAAuB;AACrB,gBAAMR,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKX,IAAL,CAAUoB,KAAV,WAAmB,KAAKjB,OAAxB,yBAA8Ca,EAA9C,GAAmDE,IAAnD,EAAwD;AAACV,qBAAO,EAAPA;AAAD,aAAxD,CAAP;AACD;AAjE2B;;AAAA;AAAA,S;;;;gBAbrB;;;;;;gBAeN;;;gBACA;;;AAHUT,uBAAiB,6DAH7B,iEAAW;AACVsB,kBAAU,EAAE;AADF,OAAX,CAG6B,GAAjBtB,iBAAiB,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCEAuB,eAAe;AAS1B,iCAAqBtB,IAArB,EAAqC;AAAA;;AAAhB,eAAAA,IAAA,GAAAA,IAAA;AAPX,eAAAuB,QAAA,GAAkC,IAAI,0DAAJ,EAAlC;AACA,eAAAC,MAAA,GAA8B,IAAI,0DAAJ,EAA9B;AACA,eAAAvB,UAAA,GAAwC,IAAI,0DAAJ,EAAxC;AACA,eAAAC,QAAA,GAA0C,IAAI,0DAAJ,EAA1C;AAEF,eAAAC,OAAA,GAAkB,sEAAYA,OAA9B;AAEmC;;AATjB;AAAA;AAAA,iBAW1B,6BAKC;AAAA,uCAJCC,QAID;AAAA,gBAJCA,QAID,+BAJY,EAIZ;AAAA,6CAHCqB,cAGD;AAAA,gBAHCA,cAGD,qCAHkB,EAGlB;AAAA,mCAFCpB,IAED;AAAA,gBAFCA,IAED,2BAFQ,CAER;AAAA,oCADCC,KACD;AAAA,gBADCA,KACD,4BADS,KACT;AACC,gBAAME,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;;AAEA,gBAAIL,KAAK,IAAI,CAAC,KAAKM,cAAnB,EAAmC;AACjC,qBAAO,KAAKA,cAAL,GAAsB,KAAKZ,IAAL,CAC1Ba,GAD0B,WACnB,KAAKV,OADc,gCACeC,QADf,6BAC0CqB,cAD1C,mBACiEpB,IADjE,GACwE;AAACG,uBAAO,EAAPA;AAAD,eADxE,EAE1BM,IAF0B,CAEpB,mEAAY,CAAZ,CAFoB,CAA7B;AAGD;;AACD,mBAAO,KAAKF,cAAZ;AACD;AAzByB;AAAA;AAAA,iBA2B1B,+BAAsBK,QAAtB,EAAsC;AACpC,gBAAMT,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKX,IAAL,CAAUa,GAAV,WAAiB,KAAKV,OAAtB,8BAAiDc,QAAjD,GAA4D;AAACT,qBAAO,EAAPA;AAAD,aAA5D,CAAP;AACD;AA/ByB;AAAA;AAAA,iBAiC1B,yBAAgBQ,EAAhB,EAA0B;AACxB,gBAAMR,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKX,IAAL,CAAUa,GAAV,WAAiB,KAAKV,OAAtB,uBAA0Ca,EAA1C,GAA+C;AAACR,qBAAO,EAAPA;AAAD,aAA/C,CAAP;AACD;AArCyB;AAAA;AAAA,iBAuC1B,sBAAaU,IAAb,EAAiB;AACf,gBAAMV,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKX,IAAL,CAAUmB,IAAV,WAAkB,KAAKhB,OAAvB,gBAA0Ce,IAA1C,EAA+C;AAACV,qBAAO,EAAPA;AAAD,aAA/C,CAAP;AACD;AA3CyB;AAAA;AAAA,iBA6C1B,uBAAcU,IAAd,EAAmBF,EAAnB,EAAqB;AACnB,gBAAMR,OAAO,GAAG,IAAI,gEAAJ,GACbC,GADa,CACT,gBADS,EACQC,cAAc,CAACC,OAAf,CAAuB,OAAvB,KAAiC,EADzC,CAAhB;AAEA,mBAAO,KAAKX,IAAL,CAAUoB,KAAV,WAAmB,KAAKjB,OAAxB,uBAA4Ca,EAA5C,GAAiDE,IAAjD,EAAsD;AAACV,qBAAO,EAAPA;AAAD,aAAtD,CAAP;AACD;AAjDyB;;AAAA;AAAA,S;;;;gBAfnB;;;;;;gBAiBN;;;gBACA;;;gBACA;;;gBACA;;;AALUc,qBAAe,6DAH3B,iEAAW;AACVD,kBAAU,EAAE;AADF,OAAX,CAG2B,GAAfC,eAAe,CAAf","file":"common-es5.js","sourcesContent":["import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Inventario, InventarioResponse } from 'src/app/interfaces/inventario';\r\nimport { shareReplay } from 'rxjs/operators';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InventarioService {\r\n\r\n  @Output() inventario:EventEmitter<Inventario> = new EventEmitter();\r\n  @Output() response:EventEmitter<InventarioResponse> = new EventEmitter();\r\n  cacheResponse$: Observable<any>;\r\n  cacheResponse2$: Observable<any>;\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getInventario({\r\n    clientCi = '',\r\n    page = 1,\r\n    force = false,\r\n    estadoInv = ''\r\n  }):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    if (force || !this.cacheResponse$) {\r\n      return this.cacheResponse$ = this.http\r\n        .get(`${this.baseUrl}/inventario?clientCi=${clientCi}&estadoInv=${estadoInv}&page=${page}`,{headers})\r\n        .pipe( shareReplay(1));\r\n    }\r\n    return this.cacheResponse$;\r\n  }\r\n\r\n  getInventarioComprado({\r\n    page = 1,\r\n    force = false,\r\n  }):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    if (force || !this.cacheResponse2$) {\r\n      return this.cacheResponse$ = this.http\r\n        .get(`${this.baseUrl}/inventario/comprado?page=${page}`,{headers})\r\n        .pipe( shareReplay(1));\r\n    }\r\n    return this.cacheResponse2$;\r\n  }\r\n\r\n  getInventarioById(id: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.cacheResponse$ = this.http.get(`${this.baseUrl}/inventario/${id}`,{headers});\r\n\r\n  }\r\n\r\n  getInventarioByClientId(clientId: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.cacheResponse$ = this.http.get(`${this.baseUrl}/inventario/client/${clientId}`,{headers});\r\n\r\n  }\r\n\r\n\r\n  postInventario(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/inventario`,body,{headers});\r\n  }\r\n\r\n  patchInventario(body,id):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.patch(`${this.baseUrl}/inventario/${id}`,body,{headers});\r\n  }\r\n}\r\n","import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Prestamo, PrestamoResponse } from 'src/app/interfaces/prestamo';\r\nimport { shareReplay } from 'rxjs/operators';\r\nimport { Client } from 'src/app/interfaces/client';\r\nimport { Inventario } from 'src/app/interfaces/inventario';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PrestamoService {\r\n\r\n  @Output() prestamo:EventEmitter<Prestamo> = new EventEmitter();\r\n  @Output() client:EventEmitter<Client> = new EventEmitter();\r\n  @Output() inventario:EventEmitter<Inventario[]> = new EventEmitter();\r\n  @Output() response:EventEmitter<PrestamoResponse> = new EventEmitter();\r\n  cacheResponse$: Observable<any>;\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getPrestamos({\r\n    clientCi = '',\r\n    estadoPrestamo = '',\r\n    page = 1,\r\n    force = false\r\n  }):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    if (force || !this.cacheResponse$) {\r\n      return this.cacheResponse$ = this.http\r\n        .get(`${this.baseUrl}/prestamo?clientCi=${clientCi}&estadoPrestamo=${estadoPrestamo}&page=${page}`,{headers})\r\n        .pipe( shareReplay(1));\r\n    }\r\n    return this.cacheResponse$;\r\n  }\r\n\r\n  getPrestamoByClientId(clientId: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/prestamo/client/${clientId}`,{headers});\r\n  }\r\n\r\n  getPrestamoById(id: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/prestamo/${id}`,{headers});\r\n  }\r\n\r\n  postPrestamo(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/prestamo`,body,{headers});\r\n  }\r\n\r\n  patchPrestamo(body,id):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.patch(`${this.baseUrl}/prestamo/${id}`,body,{headers});\r\n  }\r\n}\r\n"]}