{"version":3,"sources":["webpack:///node_modules/ng2-img-max/__ivy_ngcc__/dist/ng2-img-max.js","webpack:///node_modules/ng2-img-max/__ivy_ngcc__/dist/src/img-maxpx-size.service.js","webpack:///node_modules/ng2-pica/__ivy_ngcc__/dist/src/img-exif.service.js","webpack:///node_modules/ng2-img-max/__ivy_ngcc__/dist/src/img-max-size.service.js","webpack:///node_modules/ng2-pica/__ivy_ngcc__/dist/src/ng2-pica.service.js","webpack:///src/app/core/services/modal.service.ts","webpack:///node_modules/ng2-pica/__ivy_ngcc__/dist/ng2-pica.js","webpack:///node_modules/exifr/dist/mini.legacy.umd.js","webpack:///node_modules/ng2-img-max/__ivy_ngcc__/dist/src/ng2-img-max.service.js","webpack:///node_modules/pica/dist/pica.js","webpack:///node_modules/ng2-img-max/__ivy_ngcc__/dist/src/ng2-img-max.module.js","webpack:///node_modules/ng2-img-max/__ivy_ngcc__/dist/src/img-exif.service.js","webpack:///node_modules/ng2-pica/__ivy_ngcc__/dist/src/ng2-pica.module.js"],"names":["ImgMaxPXSizeService","ng2PicaService","imageExifService","prototype","resizeImage","file","maxWidth","maxHeight","logExecutionTime","_this","resizedFileSubject","timeAtStart","Date","getTime","type","setTimeout","error","resizedFile","reason","asObservable","img","Image","self","onload","getOrientedImage","then","orientedImg","window","URL","revokeObjectURL","src","currentWidth","width","currentHeight","height","newWidth","newHeight","ratio","next","resize","subscribe","result","createObjectURL","console","info","ctorParameters","decorators","args","ɵfac","ImgMaxPXSizeService_Factory","t","ɵprov","token","factory","ngDevMode","ImgExifService","image","Promise","resolve","err","undefined","orientation","canvas","document","createElement","ctx","getContext","cw","ch","cx","cy","deg","indexOf","translate","scale","rotate","Math","PI","drawImage","addEventListener","toDataURL","ImgExifService_Factory","MAX_STEPS","ImgMaxSizeService","compressImage","maxSizeInMB","ignoreAlpha","compressedFileSubject","initialFile","compressedFile","oldFileSize","size","cvs","imageData","getImageData","isImgUsingAlpha","getCompressedFile","quality","currentStep","reject","toBlob","blob","getResultFile","newQuality","getCalculatedQuality","checkCompressionStatus","generateResultFile","name","lastModified","resultFile","Blob","blobToFile","currentSize","ratioMaxSizeToCurrentSize","ratioMaxSizeToInitialSize","multiplicator","abs","round","Number","isInteger","floor","i","data","length","ImgMaxSizeService_Factory","Ng2PicaService","files","keepAspectRatio","resizeFile","returnedFile","resizeCanvas","from","to","options","curPica","pica","response","resizeBuffer","fromCanvas","min","useAlpha","toCanvas","resizedCanvas","newFile","Ng2PicaService_Factory","ModalService","_modal","visible","modalName","m","providedIn","e","exports","TypeError","n","r","enumerable","configurable","writable","Object","defineProperty","key","value","s","create","constructor","getOwnPropertyNames","forEach","u","a","setPrototypeOf","getPrototypeOf","__proto__","o","Reflect","construct","sham","Proxy","toString","call","f","push","apply","Function","bind","arguments","h","Map","has","get","set","c","ReferenceError","l","d","hasOwnProperty","getOwnPropertyDescriptor","v","values","p","entries","y","assign","Array","g","fromEntries","k","S","slice","includes","String","startsWith","substring","endsWith","b","global","w","fetch","XMLHttpRequest","open","responseType","onerror","headers","setRequestHeader","ok","status","arrayBuffer","send","A","defineProperties","add","splice","isArray","O","keys","clear","_map","_keys","map","P","U","navigator","x","HTMLImageElement","B","process","versions","node","C","Buffer","j","BigInt","_","V","T","filter","I","Error","stack","L","ifd0","enabled","exif","makerNote","userComment","gps","interop","ifd1","jfif","xmp","iptc","icc","z","TextDecoder","F","decode","decodeURIComponent","escape","fromCharCode","E","le","Uint8Array","byteOffset","byteLength","ArrayBuffer","DataView","_swapDataView","buffer","dataView","toUint8","_lengthToEnd","getUint8Array","getUint16","join","getInt8","getUint8","getInt16","getInt32","getUint32","getFloat32","getFloat64","warn","getUint64","D","concat","R","kind","N","M","W","K","H","G","FileReader","onloadend","readAsArrayBuffer","J","X","q","read","Q","Y","Z","allKeys","allValues","$","ee","te","ne","re","ie","se","ae","ue","oe","fe","he","ce","translateKeys","translateValues","reviveValues","de","parse","applyInheritables","canBeFiltered","dict","translateTagSet","pick","skip","deps","tagKeys","tagValues","me","ve","tiff","multiSegment","sanitize","mergeOutput","silentErrors","chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit","pe","ye","setupFromTrue","setupFromUndefined","setupFromArray","setupFromObject","filterNestedSegmentTags","traverseTiffDependencyTree","checkLoadedPlugins","setupGlobalFilters","thumbnail","ke","batchEnableWithBool","batchEnableWithUserValue","ge","needed","some","finalizeFilters","be","we","Ae","Oe","Se","Pe","Ue","xe","useCached","fileParser","isTiff","isJpeg","getString","isHeic","parsers","setup","errors","assignToOutput","all","close","getOrFindSegment","start","ensureSegmentChunk","extractThumbnail","Be","Ce","je","_e","latitude","longitude","Ve","Te","Ie","Le","freeze","thumbnailUrl","Exifr","fileParsers","segmentParsers","fileReaders","tagRevivers","createDictionary","extendDictionary","fetchUrlAsArrayBuffer","readBlobAsArrayBuffer","chunkedProps","otherSegments","segments","tiffBlocks","segmentsAndBlocks","tiffExtractables","inheritables","allFormatters","Options","disableAllOptions","gpsOnlyOptions","orientationOnlyOptions","thumbnailOnlyOptions","ze","Fe","Ee","ranges","_extend","allocUnsafe","uintView","_tryExtend","available","readChunk","list","De","offset","end","max","shift","Re","Ne","Me","We","input","_swapArrayBuffer","nextChunkOffset","fullyRead","chunksRead","safeWrapAddress","_readChunk","readChunked","readWhole","Ke","chunk","JSON","stringify","message","subarray","extendOptions","He","normalizeInput","globalOptions","localOptions","canTranslate","headerLength","translated","translateBlock","raw","translateValue","assignObjectToOutput","Ge","Je","Xe","qe","Qe","Ye","Ze","$e","et","tt","nt","rt","canHandle","it","findAppSegments","readSegments","mergeMultiSegments","createParsers","appSegments","findAll","wanted","keyList","remaining","unfinishedMultiSegment","setupSegmentFinderArgs","_findAppSegments","onlyTiff","canReadNextChunk","readNextChunk","findPosition","chunkNumber","chunkCount","recordUnknownSegments","marker","unknownSegments","stopAfterSos","recordJpegSegments","jpegSegments","mergedAppSegments","handleMultiSegments","append","find","getSegment","st","at","ut","ot","ft","parseHeader","parseIfd0Block","saveParseBlock","createOutput","handleError","ifd0Offset","ifd1Offset","findIfd0Offset","parseTags","ensureChunk","parseBlock","exifOffset","interopOffset","gpsOffset","unpack","ht","parseExifBlock","ifd1Parsed","findIfd1Offset","headerParsed","parseThumbnailBlock","parseTag","toUpperCase","trim","parseTagValue","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","getFloat","getDouble","Ng2ImgMaxService","imgMaxSizeService","imgMaxPXSizeService","compress","getEXIFOrientedImage","Ng2ImgMaxService_Factory","module","define","require","code","_dereq_","Multimath","mm_unsharp_mask","mm_resize","MathLib","requested_features","__requested_features","features","js","wasm","has_wasm","use","resizeAndUnsharp","cache","unsharpAmount","unsharp_mask","toWidth","toHeight","unsharpRadius","unsharpThreshold","clampTo8","clampNegative","convolveHor","dest","srcW","srcH","destW","filters","filterPtr","filterShift","filterSize","srcPtr","srcY","destX","filterVal","srcOffset","destOffset","convolveVert","convolveHorWithPre","alpha","convolveVertWithPre","fn","wasm_fn","wasm_src","createFilters","_require","hasAlpha","ptr","len","resetAlpha","dst","destH","scaleX","scaleY","offsetX","offsetY","filtersX","filtersY","tmp","FILTER_INFO","FIXED_FRAC_BITS","toFixedPoint","num","resizeFilterGen","srcSize","destSize","filterFunction","scaleInverted","scaleClamped","srcWindow","win","destPixel","srcPixel","srcFirst","srcLast","filterElementSize","floatFilter","fxpFilter","total","pxl","idx","floatVal","filterTotal","leftNotEmpty","rightNotEmpty","maxFilterElementSize","packedFilter","packedFilterPtr","slowCopy","ceil","box","hamming","xpi","sin","cos","lanczos2","lanczos3","mks2013","f2q","q2f","asUint8Array","IS_LE","__","copyInt16asLE","target","target_offset","resize_wasm","src_offset","src_size","tmp_offset","__align","tmp_size","filtersX_offset","filtersY_offset","alloc_bytes","instance","__instance","mem","__memory","mem32","src32","convolveHV","_convolveHV","dest32","glur_mono16","hsv_v16","out","unsharp","amount","radius","threshold","v1","v2","vmul","diff","iTimes4","brightness","blured","amountFp","thresholdFp","pixels","img_bytes_cnt","hsv_bytes_cnt","blur_bytes_cnt","blur_line_byte_cnt","blur_coeffs_byte_cnt","img_offset","hsv_offset","blur_offset","blur_tmp_offset","blur_line_offset","blur_coeffs_offset","exp","img32","_hsv_v16","blurMono16","_blurMono16","_unsharp","GC_INTERVAL","Pool","idle","acquired","lastId","timeoutId","acquire","resource","pop","id","release","_this2","lastUsed","now","gc","_this3","destroy","MIN_INNER_TILE_SIZE","createStages","fromWidth","fromHeight","srcTileSize","destTileBorder","minScale","stageCount","log","pow","PIXEL_EPSILON","pixelFloor","nearest","pixelCeil","createRegions","innerTileWidth","innerTileHeight","innerX","innerY","toTileWidth","toTileHeight","tiles","tile","toX","toY","toInnerX","toInnerY","toInnerWidth","toInnerHeight","objClass","obj","isCanvas","element","cname","isImage","isImageBitmap","limiter","concurrency","active","queue","roll","limit","cib_quality_name","cib_support","createCanvas","createImageBitmap","resizeWidth","resizeHeight","resizeQuality","bitmap","worker_offscreen_canvas_support","OffscreenCanvas","workerPayload","postMessage","rect","btoa","Worker","onmessage","ev","can_use_canvas","usable","createImageData","putImageData","cib_can_use_region","mathLib","tileOpts","opts","returnBitmap","srcBitmap","toImageData","ImageData","Uint8ClampedArray","_canvas","_ctx","a0","a1","a2","a3","b1","b2","left_corner","right_corner","gaussCoef","sigma","g1","g2","convolveMono16","line","coeff","prev_src","curr_src","curr_out","prev_out","prev_prev_out","src_index","out_index","line_index","coeff_a0","coeff_a1","coeff_b1","coeff_b2","tmp_line","base64decode","hasWebAssembly","DEFAULT_OPTIONS","MultiMath","__cache","__init_promise","__modules","modules","__wasm","__isLE","init","WebAssembly","compile","__base64decode","__reallocate","mem_grow_to","bytes","Memory","initial","mem_size","grow","memsize","env_extra","Module","env_base","memoryBase","memory","tableBase","table","Table","Instance","env","align","number","base","reminder","BASE64_MAP","str","replace","bits","charAt","tailbits","wa","bin","test","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","shouldUseNative","test1","test2","order2","test3","split","letter","source","symbols","bundleFn","sources","wkey","cacheKeys","random","wcache","skey","scache","workerSources","resolveSources","depPath","depKey","webkitURL","mozURL","msURL","bare","workerUrl","worker","objectURL","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","arr2","_i","Symbol","iterator","_arr","_n","_d","_s","done","webworkify","utils","filter_info","singletones","NEED_SAFARI_FIX","userAgent","hardwareConcurrency","DEFAULT_PICA_OPTS","tmpCanvas","DEFAULT_RESIZE_OPTS","CAN_NEW_IMAGE_DATA","CAN_CREATE_IMAGE_BITMAP","CAN_USE_CANVAS_GET_IMAGE_DATA","CAN_USE_OFFSCREEN_CANVAS","CAN_USE_CIB_REGION_FOR_IMAGE","workerFabric","terminate","url","Pica","limiter_key","__limit","cib","ww","__workersPool","__mathlib","__initPromise","ImageBitmap","debug","wkr","wpool_key","initMath","mathlib","checkCibResize","checkOffscreenCanvas","checkCibRegion","__invokeResize","__mathCache","cancelToken","transfer","preload","wasm_nodule","__extractTileData","stageEnv","extractTo","srcImageBitmap","srcCtx","tmpCtx","globalCompositeOperation","__landTileData","toCtx","__tileAndResize","isImageBitmapReused","processTile","canceled","srcImageData","imageBitmap","regions","__destTileBorder","jobs","cleanup","__processStages","stages","_this4","_stages$shift","_stages$shift2","isLastStage","res","__resizeViaCreateImageBitmap","_this5","iData","_this6","isNaN","naturalWidth","naturalHeight","DEST_TILE_BORDER","_this7","mimeType","convertToBlob","asString","atob","asBuffer","charCodeAt","Ng2ImgMaxModule","Ng2ImgMaxModule_Factory","ɵmod","ɵinj","providers","provide","useClass","imports","ngJitMode","Ng2PicaModule","Ng2PicaModule_Factory"],"mappings":"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","file":"default~inventario-inventario-module~users-users-module-es5.js","sourcesContent":["export { Ng2ImgMaxService } from './src/ng2-img-max.service';\r\nexport { Ng2ImgMaxModule } from './src/ng2-img-max.module';\r\nexport { ImgMaxSizeService } from './src/img-max-size.service';\r\nexport { ImgMaxPXSizeService } from './src/img-maxpx-size.service';\r\nexport { ImgExifService } from './src/img-exif.service';\r\n\n//# sourceMappingURL=ng2-img-max.js.map","import { Injectable, Inject, forwardRef } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { Ng2PicaService } from 'ng2-pica';\r\nimport { ImgExifService } from './img-exif.service';\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ng2-pica';\nimport * as ɵngcc2 from './img-exif.service';\nvar ImgMaxPXSizeService = /** @class */ (function () {\r\n    function ImgMaxPXSizeService(ng2PicaService, imageExifService) {\r\n        this.ng2PicaService = ng2PicaService;\r\n        this.imageExifService = imageExifService;\r\n    }\r\n    ImgMaxPXSizeService.prototype.resizeImage = function (file, maxWidth, maxHeight, logExecutionTime) {\r\n        var _this = this;\r\n        if (logExecutionTime === void 0) { logExecutionTime = false; }\r\n        var resizedFileSubject = new Subject();\r\n        this.timeAtStart = new Date().getTime();\r\n        if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\r\n            //END OF RESIZE\r\n            setTimeout(function () {\r\n                resizedFileSubject.error({ resizedFile: file, reason: \"The provided File is neither of type jpg nor of type png.\", error: \"INVALID_EXTENSION\" });\r\n            }, 0);\r\n            return resizedFileSubject.asObservable();\r\n        }\r\n        var img = new Image();\r\n        var self = this;\r\n        img.onload = function () {\r\n            _this.imageExifService.getOrientedImage(img).then(function (orientedImg) {\r\n                window.URL.revokeObjectURL(img.src);\r\n                var currentWidth = orientedImg.width;\r\n                var currentHeight = orientedImg.height;\r\n                var newWidth = currentWidth;\r\n                var newHeight = currentHeight;\r\n                if (newWidth > maxWidth) {\r\n                    newWidth = maxWidth;\r\n                    //resize height proportionally\r\n                    var ratio = maxWidth / currentWidth; //is gonna be <1\r\n                    newHeight = newHeight * ratio;\r\n                }\r\n                currentHeight = newHeight;\r\n                if (newHeight > maxHeight) {\r\n                    newHeight = maxHeight;\r\n                    //resize width proportionally\r\n                    var ratio = maxHeight / currentHeight; //is gonna be <1\r\n                    newWidth = newWidth * ratio;\r\n                }\r\n                if (newHeight === orientedImg.height && newWidth === orientedImg.width) {\r\n                    //no resizing necessary\r\n                    resizedFileSubject.next(file);\r\n                    self.logExecutionTime(logExecutionTime);\r\n                }\r\n                else {\r\n                    self.ng2PicaService.resize([file], newWidth, newHeight).subscribe(function (result) {\r\n                        //all good, result is a file\r\n                        resizedFileSubject.next(result);\r\n                        self.logExecutionTime(logExecutionTime);\r\n                    }, function (error) {\r\n                        //something went wrong \r\n                        resizedFileSubject.error({ resizedFile: file, reason: error, error: \"PICA_ERROR\" });\r\n                        self.logExecutionTime(logExecutionTime);\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        img.src = window.URL.createObjectURL(file);\r\n        return resizedFileSubject.asObservable();\r\n    };\r\n    ;\r\n    ImgMaxPXSizeService.prototype.logExecutionTime = function (logExecutionTime) {\r\n        if (logExecutionTime) {\r\n            console.info(\"Execution time: \", new Date().getTime() - this.timeAtStart + \"ms\");\r\n        }\r\n    };\r\n    /** @nocollapse */\r\n    ImgMaxPXSizeService.ctorParameters = function () { return [\r\n        { type: Ng2PicaService, decorators: [{ type: Inject, args: [forwardRef(function () { return Ng2PicaService; }),] }] },\r\n        { type: ImgExifService, decorators: [{ type: Inject, args: [forwardRef(function () { return ImgExifService; }),] }] }\r\n    ]; };\nImgMaxPXSizeService.ɵfac = function ImgMaxPXSizeService_Factory(t) { return new (t || ImgMaxPXSizeService)(ɵngcc0.ɵɵinject(forwardRef(function () { return Ng2PicaService; })), ɵngcc0.ɵɵinject(forwardRef(function () { return ImgExifService; }))); };\nImgMaxPXSizeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ImgMaxPXSizeService, factory: function (t) { return ImgMaxPXSizeService.ɵfac(t); } });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImgMaxPXSizeService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc1.Ng2PicaService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return Ng2PicaService; })]\n            }] }, { type: ɵngcc2.ImgExifService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return ImgExifService; })]\n            }] }]; }, null); })();\r\n    return ImgMaxPXSizeService;\r\n}());\r\nexport { ImgMaxPXSizeService };\r\n\n//# sourceMappingURL=img-maxpx-size.service.js.map","import { Injectable } from '@angular/core';\r\nimport * as exifr from 'exifr/dist/mini.legacy.umd';\r\nimport * as ɵngcc0 from '@angular/core';\nvar ImgExifService = /** @class */ (function () {\r\n    function ImgExifService() {\r\n    }\r\n    ImgExifService.prototype.getOrientedImage = function (image) {\r\n        return new Promise(function (resolve) {\r\n            var img;\r\n            exifr.orientation(image).catch(function (err) { return undefined; }).then(function (orientation) {\r\n                if (orientation != 1) {\r\n                    var canvas = document.createElement(\"canvas\"), ctx = canvas.getContext(\"2d\"), cw = image.width, ch = image.height, cx = 0, cy = 0, deg = 0;\r\n                    switch (orientation) {\r\n                        case 3:\r\n                        case 4:\r\n                            cx = -image.width;\r\n                            cy = -image.height;\r\n                            deg = 180;\r\n                            break;\r\n                        case 5:\r\n                        case 6:\r\n                            cw = image.height;\r\n                            ch = image.width;\r\n                            cy = -image.height;\r\n                            deg = 90;\r\n                            break;\r\n                        case 7:\r\n                        case 8:\r\n                            cw = image.height;\r\n                            ch = image.width;\r\n                            cx = -image.width;\r\n                            deg = 270;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    canvas.width = cw;\r\n                    canvas.height = ch;\r\n                    if ([2, 4, 5, 7].indexOf(orientation) > -1) {\r\n                        //flip image\r\n                        ctx.translate(cw, 0);\r\n                        ctx.scale(-1, 1);\r\n                    }\r\n                    ctx.rotate(deg * Math.PI / 180);\r\n                    ctx.drawImage(image, cx, cy);\r\n                    img = document.createElement(\"img\");\r\n                    img.width = cw;\r\n                    img.height = ch;\r\n                    img.addEventListener('load', function () {\r\n                        resolve(img);\r\n                    });\r\n                    img.src = canvas.toDataURL(\"image/png\");\r\n                }\r\n                else {\r\n                    resolve(image);\r\n                }\r\n            });\r\n        });\r\n    };\nImgExifService.ɵfac = function ImgExifService_Factory(t) { return new (t || ImgExifService)(); };\nImgExifService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ImgExifService, factory: function (t) { return ImgExifService.ɵfac(t); } });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImgExifService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\r\n    return ImgExifService;\r\n}());\r\nexport { ImgExifService };\r\n\n//# sourceMappingURL=img-exif.service.js.map","import { Injectable, Inject, forwardRef } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ImgExifService } from './img-exif.service';\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from './img-exif.service';\nvar MAX_STEPS = 15;\r\nvar ImgMaxSizeService = /** @class */ (function () {\r\n    function ImgMaxSizeService(imageExifService) {\r\n        this.imageExifService = imageExifService;\r\n    }\r\n    ImgMaxSizeService.prototype.compressImage = function (file, maxSizeInMB, ignoreAlpha, logExecutionTime) {\r\n        var _this = this;\r\n        if (ignoreAlpha === void 0) { ignoreAlpha = false; }\r\n        if (logExecutionTime === void 0) { logExecutionTime = false; }\r\n        var compressedFileSubject = new Subject();\r\n        this.timeAtStart = new Date().getTime();\r\n        this.initialFile = file;\r\n        if (file.type !== \"image/jpeg\" && file.type !== \"image/png\") {\r\n            //END OF COMPRESSION\r\n            setTimeout(function () {\r\n                compressedFileSubject.error({ compressedFile: file, reason: \"File provided is neither of type jpg nor of type png.\", error: \"INVALID_EXTENSION\" });\r\n            }, 0);\r\n            return compressedFileSubject.asObservable();\r\n        }\r\n        var oldFileSize = file.size / 1024 / 1024;\r\n        if (oldFileSize < maxSizeInMB) {\r\n            // END OF COMPRESSION\r\n            // FILE SIZE ALREADY BELOW MAX_SIZE -> no compression needed\r\n            setTimeout(function () { compressedFileSubject.next(file); }, 0);\r\n            return compressedFileSubject.asObservable();\r\n        }\r\n        var cvs = document.createElement('canvas');\r\n        var ctx = cvs.getContext('2d');\r\n        var img = new Image();\r\n        var self = this;\r\n        img.onload = function () {\r\n            _this.imageExifService.getOrientedImage(img).then(function (orientedImg) {\r\n                window.URL.revokeObjectURL(img.src);\r\n                cvs.width = orientedImg.width;\r\n                cvs.height = orientedImg.height;\r\n                ctx.drawImage(orientedImg, 0, 0);\r\n                var imageData = ctx.getImageData(0, 0, orientedImg.width, orientedImg.height);\r\n                if (file.type === \"image/png\" && _this.isImgUsingAlpha(imageData) && !ignoreAlpha) {\r\n                    //png image with alpha\r\n                    compressedFileSubject.error({ compressedFile: file, reason: \"File provided is a png image which uses the alpha channel. No compression possible.\", error: \"PNG_WITH_ALPHA\" });\r\n                }\r\n                ctx = cvs.getContext('2d', { 'alpha': false });\r\n                ctx.drawImage(orientedImg, 0, 0);\r\n                self.getCompressedFile(cvs, 50, maxSizeInMB, 1).then(function (compressedFile) {\r\n                    compressedFileSubject.next(compressedFile);\r\n                    self.logExecutionTime(logExecutionTime);\r\n                }).catch(function (error) {\r\n                    compressedFileSubject.error(error);\r\n                    self.logExecutionTime(logExecutionTime);\r\n                });\r\n            });\r\n        };\r\n        img.src = window.URL.createObjectURL(file);\r\n        return compressedFileSubject.asObservable();\r\n    };\r\n    ;\r\n    ImgMaxSizeService.prototype.getCompressedFile = function (cvs, quality, maxSizeInMB, currentStep) {\r\n        var _this = this;\r\n        var result = new Promise(function (resolve, reject) {\r\n            cvs.toBlob(function (blob) {\r\n                if (currentStep + 1 > MAX_STEPS) {\r\n                    //COMPRESSION END\r\n                    //maximal steps reached\r\n                    reject({ compressedFile: _this.getResultFile(blob), reason: \"Could not find the correct compression quality in \" + MAX_STEPS + \" steps.\", error: \"MAX_STEPS_EXCEEDED\" });\r\n                }\r\n                else {\r\n                    var newQuality = _this.getCalculatedQuality(blob, quality, maxSizeInMB, currentStep);\r\n                    _this.checkCompressionStatus(cvs, blob, quality, maxSizeInMB, currentStep, newQuality)\r\n                        .then(function (result) {\r\n                        resolve(result);\r\n                    })\r\n                        .catch(function (result) {\r\n                        reject(result);\r\n                    });\r\n                }\r\n            }, \"image/jpeg\", quality / 100);\r\n        });\r\n        return result;\r\n    };\r\n    ImgMaxSizeService.prototype.getResultFile = function (blob) {\r\n        return this.generateResultFile(blob, this.initialFile.name, this.initialFile.type, new Date().getTime());\r\n    };\r\n    ImgMaxSizeService.prototype.generateResultFile = function (blob, name, type, lastModified) {\r\n        var resultFile = new Blob([blob], { type: type });\r\n        return this.blobToFile(resultFile, name, lastModified);\r\n    };\r\n    ImgMaxSizeService.prototype.blobToFile = function (blob, name, lastModified) {\r\n        var file = blob;\r\n        file.name = name;\r\n        file.lastModified = lastModified;\r\n        //Cast to a File() type\r\n        return file;\r\n    };\r\n    ImgMaxSizeService.prototype.getCalculatedQuality = function (blob, quality, maxSizeInMB, currentStep) {\r\n        //CALCULATE NEW QUALITY\r\n        var currentSize = blob.size / 1024 / 1024;\r\n        var ratioMaxSizeToCurrentSize = maxSizeInMB / currentSize;\r\n        if (ratioMaxSizeToCurrentSize > 5) {\r\n            //max ratio to avoid extreme quality values\r\n            ratioMaxSizeToCurrentSize = 5;\r\n        }\r\n        var ratioMaxSizeToInitialSize = currentSize / (this.initialFile.size / 1024 / 1024);\r\n        if (ratioMaxSizeToInitialSize < 0.05) {\r\n            //min ratio to avoid extreme quality values\r\n            ratioMaxSizeToInitialSize = 0.05;\r\n        }\r\n        var newQuality = 0;\r\n        var multiplicator = Math.abs(ratioMaxSizeToInitialSize - 1) * 10 / (currentStep * 1.7) / ratioMaxSizeToCurrentSize;\r\n        if (multiplicator < 1) {\r\n            multiplicator = 1;\r\n        }\r\n        if (ratioMaxSizeToCurrentSize >= 1) {\r\n            newQuality = quality + (ratioMaxSizeToCurrentSize - 1) * 10 * multiplicator;\r\n        }\r\n        else {\r\n            newQuality = quality - (1 - ratioMaxSizeToCurrentSize) * 10 * multiplicator;\r\n        }\r\n        if (newQuality > 100) {\r\n            //max quality = 100, so let's set the new quality to the value in between the old quality and 100 in case of > 100\r\n            newQuality = quality + (100 - quality) / 2;\r\n        }\r\n        if (newQuality < 0) {\r\n            //min quality = 0, so let's set the new quality to the value in between the old quality and 0 in case of < 0\r\n            newQuality = quality - quality / 2;\r\n        }\r\n        return newQuality;\r\n    };\r\n    ImgMaxSizeService.prototype.checkCompressionStatus = function (cvs, blob, quality, maxSizeInMB, currentStep, newQuality) {\r\n        var _this = this;\r\n        var result = new Promise(function (resolve, reject) {\r\n            if (quality === 100 && newQuality >= 100) {\r\n                //COMPRESSION END\r\n                //Seems like quality 100 is max but file still too small, case that shouldn't exist as the compression shouldn't even have started in the first place\r\n                reject({ compressedFile: _this.initialFile, reason: \"Unfortunately there was an error while compressing the file.\", error: \"FILE_BIGGER_THAN_INITIAL_FILE\" });\r\n            }\r\n            else if ((quality < 1) && (newQuality < quality)) {\r\n                //COMPRESSION END\r\n                //File size still too big but can't compress further than quality=0\r\n                reject({ compressedFile: _this.getResultFile(blob), reason: \"Could not compress image enough to fit the maximal file size limit.\", error: \"UNABLE_TO_COMPRESS_ENOUGH\" });\r\n            }\r\n            else if ((newQuality > quality) && (Math.round(quality) == Math.round(newQuality))) {\r\n                //COMPRESSION END\r\n                //next steps quality would be the same quality but newQuality is slightly bigger than old one, means we most likely found the nearest quality to compress to maximal size\r\n                resolve(_this.getResultFile(blob));\r\n            }\r\n            else if (currentStep > 5 && (newQuality > quality) && (newQuality < quality + 2)) {\r\n                //COMPRESSION END\r\n                //for some rare occasions the algorithm might be stuck around e.g. 98.5 and 97.4 because of the maxQuality of 100, the current quality is the nearest possible quality in that case\r\n                resolve(_this.getResultFile(blob));\r\n            }\r\n            else if ((newQuality > quality) && Number.isInteger(quality) && (Math.floor(newQuality) == quality)) {\r\n                //COMPRESSION END\r\n                /*\r\n                    in the previous step if ((quality > newQuality) && (Math.round(quality) == Math.round(newQuality))) applied, so\r\n                    newQuality = Math.round(newQuality) - 1; this was done to reduce the quality at least a full integer down to not waste a step\r\n                    with the same compression rate quality as before. Now, the newQuality is still only in between the old quality (e.g. 93)\r\n                    and the newQuality (e.g. 94) which most likely means that the value for the newQuality (the bigger one) would make the filesize\r\n                    too big so we should just stick with the current, lower quality and return that file.\r\n                */\r\n                resolve(_this.getResultFile(blob));\r\n            }\r\n            else {\r\n                //CONTINUE COMPRESSION\r\n                if ((quality > newQuality) && (Math.round(quality) == Math.round(newQuality))) {\r\n                    //quality can only be an integer -> make sure difference between old quality and new one is at least a whole integer number\r\n                    // - it would be nonsense to compress again with the same quality\r\n                    newQuality = Math.round(newQuality) - 1;\r\n                }\r\n                //recursively call function again\r\n                resolve(_this.getCompressedFile(cvs, newQuality, maxSizeInMB, currentStep + 1));\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    ImgMaxSizeService.prototype.isImgUsingAlpha = function (imageData) {\r\n        for (var i = 0; i < imageData.data.length; i += 4) {\r\n            if (imageData.data[i + 3] !== 255) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    ImgMaxSizeService.prototype.logExecutionTime = function (logExecutionTime) {\r\n        if (logExecutionTime) {\r\n            console.info(\"Execution time: \", new Date().getTime() - this.timeAtStart + \"ms\");\r\n        }\r\n    };\r\n    /** @nocollapse */\r\n    ImgMaxSizeService.ctorParameters = function () { return [\r\n        { type: ImgExifService, decorators: [{ type: Inject, args: [forwardRef(function () { return ImgExifService; }),] }] }\r\n    ]; };\nImgMaxSizeService.ɵfac = function ImgMaxSizeService_Factory(t) { return new (t || ImgMaxSizeService)(ɵngcc0.ɵɵinject(forwardRef(function () { return ImgExifService; }))); };\nImgMaxSizeService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ImgMaxSizeService, factory: function (t) { return ImgMaxSizeService.ɵfac(t); } });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImgMaxSizeService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc1.ImgExifService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return ImgExifService; })]\n            }] }]; }, null); })();\r\n    return ImgMaxSizeService;\r\n}());\r\nexport { ImgMaxSizeService };\r\n\n//# sourceMappingURL=img-max-size.service.js.map","import { Injectable, Inject, forwardRef } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport pica from 'pica/dist/pica';\r\nimport { ImgExifService } from './img-exif.service';\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from './img-exif.service';\nvar Ng2PicaService = /** @class */ (function () {\r\n    function Ng2PicaService(imageExifService) {\r\n        this.imageExifService = imageExifService;\r\n    }\r\n    Ng2PicaService.prototype.resize = function (files, width, height, keepAspectRatio) {\r\n        if (keepAspectRatio === void 0) { keepAspectRatio = false; }\r\n        var resizedFile = new Subject();\r\n        for (var i = 0; i < files.length; i++) {\r\n            this.resizeFile(files[i], width, height, keepAspectRatio).then(function (returnedFile) {\r\n                resizedFile.next(returnedFile);\r\n            }).catch(function (error) {\r\n                resizedFile.error(error);\r\n            });\r\n        }\r\n        return resizedFile.asObservable();\r\n    };\r\n    Ng2PicaService.prototype.resizeCanvas = function (from, to, options) {\r\n        var result = new Promise(function (resolve, reject) {\r\n            var curPica = new pica();\r\n            if (!curPica || !curPica.resize) {\r\n                curPica = new window.pica();\r\n            }\r\n            curPica.resize(from, to, options)\r\n                .then(function (response) {\r\n                resolve(response);\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        });\r\n        return result;\r\n    };\r\n    Ng2PicaService.prototype.resizeBuffer = function (options) {\r\n        var result = new Promise(function (resolve, reject) {\r\n            var curPica = new pica();\r\n            if (!curPica || !curPica.resizeBuffer) {\r\n                curPica = new window.pica();\r\n            }\r\n            curPica.resizeBuffer(options)\r\n                .then(function (response) {\r\n                resolve(response);\r\n            }, function (error) {\r\n                reject(error);\r\n            });\r\n        });\r\n        return result;\r\n    };\r\n    Ng2PicaService.prototype.resizeFile = function (file, width, height, keepAspectRatio) {\r\n        var _this = this;\r\n        if (keepAspectRatio === void 0) { keepAspectRatio = false; }\r\n        var result = new Promise(function (resolve, reject) {\r\n            var fromCanvas = document.createElement('canvas');\r\n            var ctx = fromCanvas.getContext('2d');\r\n            var img = new Image();\r\n            img.onload = function () {\r\n                _this.imageExifService.getOrientedImage(img).then(function (orientedImg) {\r\n                    window.URL.revokeObjectURL(img.src);\r\n                    fromCanvas.width = orientedImg.width;\r\n                    fromCanvas.height = orientedImg.height;\r\n                    ctx.drawImage(orientedImg, 0, 0);\r\n                    var imageData = ctx.getImageData(0, 0, orientedImg.width, orientedImg.height);\r\n                    if (keepAspectRatio) {\r\n                        var ratio = Math.min(width / imageData.width, height / imageData.height);\r\n                        width = Math.round(imageData.width * ratio);\r\n                        height = Math.round(imageData.height * ratio);\r\n                    }\r\n                    var useAlpha = true;\r\n                    if (file.type === \"image/jpeg\" || (file.type === \"image/png\" && !_this.isImgUsingAlpha(imageData))) {\r\n                        //image without alpha\r\n                        useAlpha = false;\r\n                        ctx = fromCanvas.getContext('2d', { 'alpha': false });\r\n                        ctx.drawImage(orientedImg, 0, 0);\r\n                    }\r\n                    var toCanvas = document.createElement('canvas');\r\n                    toCanvas.width = width;\r\n                    toCanvas.height = height;\r\n                    _this.resizeCanvas(fromCanvas, toCanvas, { 'alpha': useAlpha })\r\n                        .then(function (resizedCanvas) {\r\n                        resizedCanvas.toBlob(function (blob) {\r\n                            var newFile = _this.generateResultFile(blob, file.name, file.type, new Date().getTime());\r\n                            resolve(newFile);\r\n                        }, file.type);\r\n                    })\r\n                        .catch(function (error) {\r\n                        reject(error);\r\n                    });\r\n                });\r\n            };\r\n            img.src = window.URL.createObjectURL(file);\r\n        });\r\n        return result;\r\n    };\r\n    Ng2PicaService.prototype.isImgUsingAlpha = function (imageData) {\r\n        for (var i = 0; i < imageData.data.length; i += 4) {\r\n            if (imageData.data[i + 3] !== 255) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    Ng2PicaService.prototype.generateResultFile = function (blob, name, type, lastModified) {\r\n        var resultFile = new Blob([blob], { type: type });\r\n        return this.blobToFile(resultFile, name, lastModified);\r\n    };\r\n    Ng2PicaService.prototype.blobToFile = function (blob, name, lastModified) {\r\n        var file = blob;\r\n        file.name = name;\r\n        file.lastModified = lastModified;\r\n        //Cast to a File() type\r\n        return file;\r\n    };\r\n    /** @nocollapse */\r\n    Ng2PicaService.ctorParameters = function () { return [\r\n        { type: ImgExifService, decorators: [{ type: Inject, args: [forwardRef(function () { return ImgExifService; }),] }] }\r\n    ]; };\nNg2PicaService.ɵfac = function Ng2PicaService_Factory(t) { return new (t || Ng2PicaService)(ɵngcc0.ɵɵinject(forwardRef(function () { return ImgExifService; }))); };\nNg2PicaService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: Ng2PicaService, factory: function (t) { return Ng2PicaService.ɵfac(t); } });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Ng2PicaService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc1.ImgExifService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return ImgExifService; })]\n            }] }]; }, null); })();\r\n    return Ng2PicaService;\r\n}());\r\nexport { Ng2PicaService };\r\n\n//# sourceMappingURL=ng2-pica.service.js.map","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\n\r\n//Servicio global para activar un modal mediante su nombre y estado.\r\nexport class ModalService {\r\n\r\n  private _modal={\r\n    visible:false,\r\n    modalName:'',\r\n  };\r\n\r\n  public get modal(){\r\n    return this._modal;\r\n  }\r\n\r\n  public set modal(m){\r\n    this._modal = m;\r\n  }\r\n\r\n  public closeModal(){\r\n    this._modal.visible=false;\r\n    this._modal.modalName='';\r\n  }\r\n\r\n  constructor( ) { }\r\n}\r\n","export { Ng2PicaService } from './src/ng2-pica.service';\r\nexport { Ng2PicaModule } from './src/ng2-pica.module';\r\nexport { ImgExifService } from './src/img-exif.service';\r\n\n//# sourceMappingURL=ng2-pica.js.map","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?t(exports):\"function\"==typeof define&&define.amd?define(\"exifr\",[\"exports\"],t):t((e=e||self).exifr={})}(this,(function(e){\"use strict\";function t(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});var n=[\"prototype\",\"__proto__\",\"caller\",\"arguments\",\"length\",\"name\"];Object.getOwnPropertyNames(t).forEach((function(r){-1===n.indexOf(r)&&e[r]!==t[r]&&(e[r]=t[r])})),t&&u(e,t)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function h(e){var t=\"function\"==typeof Map?new Map:void 0;return(h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf(\"[native code]\")))return e;var n;if(\"function\"!=typeof e)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,a(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}function c(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function l(e,t){return!t||\"object\"!=typeof t&&\"function\"!=typeof t?c(e):t}function d(e,t,n){return(d=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var v=Object.values||function(e){var t=[];for(var n in e)t.push(e[n]);return t},p=Object.entries||function(e){var t=[];for(var n in e)t.push([n,e[n]]);return t},y=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){for(var n in t)e[n]=t[n]})),e},g=Object.fromEntries||function(e){var t={};return k(e).forEach((function(e){var n=e[0],r=e[1];t[n]=r})),t},k=Array.from||function(e){if(e instanceof S){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t}return Array.prototype.slice.call(e)};function m(e){return-1!==this.indexOf(e)}Array.prototype.includes||(Array.prototype.includes=m),String.prototype.includes||(String.prototype.includes=m),String.prototype.startsWith||(String.prototype.startsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.substring(t,t+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return this.substring(t-e.length,t)===e});var b=\"undefined\"!=typeof self?self:global,w=b.fetch||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var i=new XMLHttpRequest;if(i.open(\"get\",e,!0),i.responseType=\"arraybuffer\",i.onerror=r,t.headers)for(var s in t.headers)i.setRequestHeader(s,t.headers[s]);i.onload=function(){n({ok:i.status>=200&&i.status<300,status:i.status,arrayBuffer:function(){return Promise.resolve(i.response)}})},i.send(null)}))},A=function(e){var t=[];if(Object.defineProperties(t,{size:{get:function(){return this.length}},has:{value:function(e){return-1!==this.indexOf(e)}},add:{value:function(e){this.has(e)||this.push(e)}},delete:{value:function(e){if(this.has(e)){var t=this.indexOf(e);this.splice(t,1)}}}}),Array.isArray(e))for(var n=0;n<e.length;n++)t.add(e[n]);return t},O=function(e){return new S(e)},S=void 0!==b.Map&&void 0!==b.Map.prototype.keys?b.Map:function(){function e(n){if(t(this,e),this.clear(),n)for(var r=0;r<n.length;r++)this.set(n[r][0],n[r][1])}return r(e,[{key:\"clear\",value:function(){this._map={},this._keys=[]}},{key:\"get\",value:function(e){return this._map[\"map_\"+e]}},{key:\"set\",value:function(e,t){return this._map[\"map_\"+e]=t,this._keys.indexOf(e)<0&&this._keys.push(e),this}},{key:\"has\",value:function(e){return this._keys.indexOf(e)>=0}},{key:\"delete\",value:function(e){var t=this._keys.indexOf(e);return!(t<0)&&(delete this._map[\"map_\"+e],this._keys.splice(t,1),!0)}},{key:\"keys\",value:function(){return this._keys.slice(0)}},{key:\"values\",value:function(){var e=this;return this._keys.map((function(t){return e.get(t)}))}},{key:\"entries\",value:function(){var e=this;return this._keys.map((function(t){return[t,e.get(t)]}))}},{key:\"forEach\",value:function(e,t){for(var n=0;n<this._keys.length;n++)e.call(t,this._map[\"map_\"+this._keys[n]],this._keys[n],this)}},{key:\"size\",get:function(){return this._keys.length}}]),e}(),P=\"undefined\"!=typeof self?self:global,U=\"undefined\"!=typeof navigator,x=U&&\"undefined\"==typeof HTMLImageElement,B=!(\"undefined\"==typeof global||\"undefined\"==typeof process||!process.versions||!process.versions.node),C=P.Buffer,j=P.BigInt,_=!!C;var V=function(e){return void 0!==e};function T(e){return void 0===e||(e instanceof S?0===e.size:0===v(e).filter(V).length)}function I(e){var t=new Error(e);return delete t.stack,t}function L(e){var t=function(e){var t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}var z=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-8\"):void 0;function F(e){return z?z.decode(e):_?Buffer.from(e).toString(\"utf8\"):decodeURIComponent(escape(String.fromCharCode.apply(null,e)))}var E=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if(t(this,e),\"boolean\"==typeof s&&(this.le=s),Array.isArray(n)&&(n=new Uint8Array(n)),0===n)this.byteOffset=0,this.byteLength=0;else if(n instanceof ArrayBuffer){void 0===i&&(i=n.byteLength-r);var a=new DataView(n,r,i);this._swapDataView(a)}else if(n instanceof Uint8Array||n instanceof DataView||n instanceof e){if(void 0===i&&(i=n.byteLength-r),(r+=n.byteOffset)+i>n.byteOffset+n.byteLength)throw I(\"Creating view outside of available memory in ArrayBuffer\");var u=new DataView(n.buffer,r,i);this._swapDataView(u)}else{if(\"number\"!=typeof n)throw I(\"Invalid input argument for BufferView: \"+n);var o=new DataView(new ArrayBuffer(n));this._swapDataView(o)}}return r(e,null,[{key:\"from\",value:function(t,n){return t instanceof this&&t.le===n?t:new e(t,void 0,void 0,n)}}]),r(e,[{key:\"_swapArrayBuffer\",value:function(e){this._swapDataView(new DataView(e))}},{key:\"_swapBuffer\",value:function(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}},{key:\"_swapDataView\",value:function(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}},{key:\"_lengthToEnd\",value:function(e){return this.byteLength-e}},{key:\"set\",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;if(t instanceof DataView||t instanceof e?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),!(t instanceof Uint8Array))throw I(\"BufferView.set(): Invalid data argument.\");var i=this.toUint8();return i.set(t,n),new r(this,n,t.byteLength)}},{key:\"subarray\",value:function(t,n){return new e(this,t,n=n||this._lengthToEnd(t))}},{key:\"toUint8\",value:function(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}},{key:\"getUint8Array\",value:function(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}},{key:\"getString\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=this.getUint8Array(e,t);return F(n)}},{key:\"getUnicodeString\",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength,n=[],r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return n.map((function(e){return String.fromCharCode(e)})).join(\"\")}},{key:\"getInt8\",value:function(e){return this.dataView.getInt8(e)}},{key:\"getUint8\",value:function(e){return this.dataView.getUint8(e)}},{key:\"getInt16\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt16(e,t)}},{key:\"getInt32\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getInt32(e,t)}},{key:\"getUint16\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint16(e,t)}},{key:\"getUint32\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getUint32(e,t)}},{key:\"getFloat32\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:\"getFloat64\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:\"getFloat\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat32(e,t)}},{key:\"getDouble\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.le;return this.dataView.getFloat64(e,t)}},{key:\"getUint64\",value:function(e){var t=this.getUint32(e),n=this.getUint32(e+4);if(t<1048575)return t<<32|n;if(void 0!==typeof j)return console.warn(\"Using BigInt because of type 64uint but JS can only handle 53b numbers.\"),j(t)<<j(32)|j(n);throw I(\"Trying to read 64b value but JS can only handle 53b numbers.\")}},{key:\"getUintBytes\",value:function(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64(e,n)}}},{key:\"getUint\",value:function(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64(e,n)}}},{key:\"toString\",value:function(e){return this.dataView.toString(e,this.constructor.name)}},{key:\"ensureChunk\",value:function(){}}]),e}();function D(e,t){throw I(\"\".concat(e,\" '\").concat(t,\"' was not loaded, try using full build of exifr.\"))}var R=function(e){function n(e){var r;return t(this,n),(r=l(this,a(n).call(this))).kind=e,r}return s(n,e),r(n,[{key:\"get\",value:function(e,t){return this.has(e)||D(this.kind,e),t&&(e in t||function(e,t){throw I(\"Unknown \".concat(e,\" '\").concat(t,\"'.\"))}(this.kind,e),t[e].enabled||D(this.kind,e)),d(a(n.prototype),\"get\",this).call(this,e)}},{key:\"keyList\",value:function(){return k(this.keys())}}]),n}(h(S)),N=new R(\"file parser\"),M=new R(\"segment parser\"),W=new R(\"file reader\");function K(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function H(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var G=K((function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result||new ArrayBuffer)},r.onerror=n,r.readAsArrayBuffer(e)}))})),J=K((function(e){return w(e).then((function(e){return e.arrayBuffer()}))})),X=K((function(e,t){return H(t(e),(function(e){return new E(e)}))})),q=K((function(e,t,n){var r=new(W.get(n))(e,t);return H(r.read(),(function(){return r}))})),Q=K((function(e,t,n,r){if(W.has(n))return q(e,t,n);if(r)return X(e,r);throw I(\"Parser \".concat(n,\" is not loaded\"))}));function Y(e,t){if((n=e).startsWith(\"data:\")||n.length>1e4)return q(e,t,\"base64\");if(U)return Q(e,t,\"url\",J);if(B)return q(e,t,\"fs\");throw I(\"Invalid input argument\");var n}var Z=function(e){function n(){return t(this,n),l(this,a(n).apply(this,arguments))}return s(n,e),r(n,[{key:\"tagKeys\",get:function(){return this.allKeys||(this.allKeys=k(this.keys())),this.allKeys}},{key:\"tagValues\",get:function(){return this.allValues||(this.allValues=k(this.values())),this.allValues}}]),n}(h(S));function $(e,t,n){var r=new Z,i=n;Array.isArray(i)||(\"function\"==typeof i.entries&&(i=i.entries()),i=k(i));for(var s=0;s<i.length;s++){var a=i[s],u=a[0],o=a[1];r.set(u,o)}if(Array.isArray(t)){var f=t;Array.isArray(f)||(\"function\"==typeof f.entries&&(f=f.entries()),f=k(f));for(var h=0;h<f.length;h++){var c=f[h];e.set(c,r)}}else e.set(t,r);return r}function ee(e,t,n){var r,i=e.get(t),s=n;Array.isArray(s)||(\"function\"==typeof s.entries&&(s=s.entries()),s=k(s));for(var a=0;a<s.length;a++)r=s[a],i.set(r[0],r[1])}var te=O(),ne=O(),re=O(),ie=[\"chunked\",\"firstChunkSize\",\"firstChunkSizeNode\",\"firstChunkSizeBrowser\",\"chunkSize\",\"chunkLimit\"],se=[\"jfif\",\"xmp\",\"icc\",\"iptc\"],ae=[\"tiff\"].concat(se),ue=[\"ifd0\",\"ifd1\",\"exif\",\"gps\",\"interop\"],oe=[].concat(ae,ue),fe=[\"makerNote\",\"userComment\"],he=[\"translateKeys\",\"translateValues\",\"reviveValues\",\"multiSegment\"],ce=[].concat(he,[\"sanitize\",\"mergeOutput\"]),le=function(){function e(){t(this,e)}return r(e,[{key:\"translate\",get:function(){return this.translateKeys||this.translateValues||this.reviveValues}}]),e}(),de=function(e){function n(e,r,s,u){var o;if(t(this,n),i(c(o=l(this,a(n).call(this))),\"enabled\",!1),i(c(o),\"skip\",A()),i(c(o),\"pick\",A()),i(c(o),\"deps\",A()),i(c(o),\"translateKeys\",!1),i(c(o),\"translateValues\",!1),i(c(o),\"reviveValues\",!1),o.key=e,o.enabled=r,o.parse=o.enabled,o.applyInheritables(u),o.canBeFiltered=ue.includes(e),o.canBeFiltered&&(o.dict=te.get(e)),void 0!==s)if(Array.isArray(s))o.parse=o.enabled=!0,o.canBeFiltered&&s.length>0&&o.translateTagSet(s,o.pick);else if(\"object\"==typeof s){if(o.enabled=!0,o.parse=!1!==s.parse,o.canBeFiltered){var f=s.pick,h=s.skip;f&&f.length>0&&o.translateTagSet(f,o.pick),h&&h.length>0&&o.translateTagSet(h,o.skip)}o.applyInheritables(s)}else{if(!0!==s&&!1!==s)throw I(\"Invalid options argument: \".concat(s));o.parse=o.enabled=s}return o}return s(n,e),r(n,[{key:\"needed\",get:function(){return this.enabled||this.deps.size>0}}]),r(n,[{key:\"applyInheritables\",value:function(e){var t,n,r=he;Array.isArray(r)||(\"function\"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++)void 0!==(n=e[t=r[i]])&&(this[t]=n)}},{key:\"translateTagSet\",value:function(e,t){if(this.dict){var n,r,i=this.dict,s=i.tagKeys,a=i.tagValues,u=e;Array.isArray(u)||(\"function\"==typeof u.entries&&(u=u.entries()),u=k(u));for(var o=0;o<u.length;o++)\"string\"==typeof(n=u[o])?(-1===(r=a.indexOf(n))&&(r=s.indexOf(Number(n))),-1!==r&&t.add(Number(s[r]))):t.add(n)}else{var f=e;Array.isArray(f)||(\"function\"==typeof f.entries&&(f=f.entries()),f=k(f));for(var h=0;h<f.length;h++){var c=f[h];t.add(c)}}}},{key:\"finalizeFilters\",value:function(){!this.enabled&&this.deps.size>0?(this.enabled=!0,me(this.pick,this.deps)):this.enabled&&this.pick.size>0&&me(this.pick,this.deps)}}]),n}(le),ve={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},pe=O(),ye=function(e){function n(e){var r;if(t(this,n),r=l(this,a(n).call(this)),!0===e)r.setupFromTrue();else if(void 0===e)r.setupFromUndefined();else if(Array.isArray(e))r.setupFromArray(e);else{if(\"object\"!=typeof e)throw I(\"Invalid options argument \".concat(e));r.setupFromObject(e)}return void 0===r.firstChunkSize&&(r.firstChunkSize=U?r.firstChunkSizeBrowser:r.firstChunkSizeNode),r.mergeOutput&&(r.ifd1.enabled=!1),r.filterNestedSegmentTags(),r.traverseTiffDependencyTree(),r.checkLoadedPlugins(),r}return s(n,e),r(n,null,[{key:\"useCached\",value:function(e){var t=pe.get(e);return void 0!==t?t:(t=new this(e),pe.set(e,t),t)}}]),r(n,[{key:\"setupFromUndefined\",value:function(){var e,t=ie;Array.isArray(t)||(\"function\"==typeof t.entries&&(t=t.entries()),t=k(t));for(var n=0;n<t.length;n++)this[e=t[n]]=ve[e];var r=ce;Array.isArray(r)||(\"function\"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++)this[e=r[i]]=ve[e];var s=fe;Array.isArray(s)||(\"function\"==typeof s.entries&&(s=s.entries()),s=k(s));for(var a=0;a<s.length;a++)this[e=s[a]]=ve[e];var u=oe;Array.isArray(u)||(\"function\"==typeof u.entries&&(u=u.entries()),u=k(u));for(var o=0;o<u.length;o++)this[e=u[o]]=new de(e,ve[e],void 0,this)}},{key:\"setupFromTrue\",value:function(){var e,t=ie;Array.isArray(t)||(\"function\"==typeof t.entries&&(t=t.entries()),t=k(t));for(var n=0;n<t.length;n++)this[e=t[n]]=ve[e];var r=ce;Array.isArray(r)||(\"function\"==typeof r.entries&&(r=r.entries()),r=k(r));for(var i=0;i<r.length;i++)this[e=r[i]]=ve[e];var s=fe;Array.isArray(s)||(\"function\"==typeof s.entries&&(s=s.entries()),s=k(s));for(var a=0;a<s.length;a++)this[e=s[a]]=!0;var u=oe;Array.isArray(u)||(\"function\"==typeof u.entries&&(u=u.entries()),u=k(u));for(var o=0;o<u.length;o++)this[e=u[o]]=new de(e,!0,void 0,this)}},{key:\"setupFromArray\",value:function(e){var t,n=ie;Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++)this[t=n[r]]=ve[t];var i=ce;Array.isArray(i)||(\"function\"==typeof i.entries&&(i=i.entries()),i=k(i));for(var s=0;s<i.length;s++)this[t=i[s]]=ve[t];var a=fe;Array.isArray(a)||(\"function\"==typeof a.entries&&(a=a.entries()),a=k(a));for(var u=0;u<a.length;u++)this[t=a[u]]=ve[t];var o=oe;Array.isArray(o)||(\"function\"==typeof o.entries&&(o=o.entries()),o=k(o));for(var f=0;f<o.length;f++)this[t=o[f]]=new de(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,ue)}},{key:\"setupFromObject\",value:function(e){var t;ue.ifd0=ue.ifd0||ue.image,ue.ifd1=ue.ifd1||ue.thumbnail,y(this,e);var n=ie;Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++)this[t=n[r]]=ke(e[t],ve[t]);var i=ce;Array.isArray(i)||(\"function\"==typeof i.entries&&(i=i.entries()),i=k(i));for(var s=0;s<i.length;s++)this[t=i[s]]=ke(e[t],ve[t]);var a=fe;Array.isArray(a)||(\"function\"==typeof a.entries&&(a=a.entries()),a=k(a));for(var u=0;u<a.length;u++)this[t=a[u]]=ke(e[t],ve[t]);var o=ae;Array.isArray(o)||(\"function\"==typeof o.entries&&(o=o.entries()),o=k(o));for(var f=0;f<o.length;f++)this[t=o[f]]=new de(t,ve[t],e[t],this);var h=ue;Array.isArray(h)||(\"function\"==typeof h.entries&&(h=h.entries()),h=k(h));for(var c=0;c<h.length;c++)this[t=h[c]]=new de(t,ve[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,ue,oe),!0===e.tiff?this.batchEnableWithBool(ue,!0):!1===e.tiff?this.batchEnableWithUserValue(ue,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,ue):\"object\"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,ue)}},{key:\"batchEnableWithBool\",value:function(e,t){var n=e;Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++){this[n[r]].enabled=t}}},{key:\"batchEnableWithUserValue\",value:function(e,t){var n=e;Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++){var i=n[r],s=t[i];this[i].enabled=!1!==s&&void 0!==s}}},{key:\"setupGlobalFilters\",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(e&&e.length){var i=r;Array.isArray(i)||(\"function\"==typeof i.entries&&(i=i.entries()),i=k(i));for(var s=0;s<i.length;s++){var a=i[s];this[a].enabled=!1}var u=ge(e,n),o=u;Array.isArray(o)||(\"function\"==typeof o.entries&&(o=o.entries()),o=k(o));for(var f=0;f<o.length;f++){var h=o[f],c=h[0],l=h[1];me(this[c].pick,l),this[c].enabled=!0}}else if(t&&t.length){var d=ge(t,n),v=d;Array.isArray(v)||(\"function\"==typeof v.entries&&(v=v.entries()),v=k(v));for(var p=0;p<v.length;p++){var y=v[p],g=y[0],m=y[1];me(this[g].skip,m)}}}},{key:\"filterNestedSegmentTags\",value:function(){var e=this.ifd0,t=this.exif,n=this.xmp,r=this.iptc,i=this.icc;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),i.enabled||e.skip.add(34675)}},{key:\"traverseTiffDependencyTree\",value:function(){var e=this,t=this.ifd0,n=this.exif,r=this.gps;this.interop.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=ue.some((function(t){return!0===e[t].enabled}))||this.makerNote||this.userComment;var i=ue;Array.isArray(i)||(\"function\"==typeof i.entries&&(i=i.entries()),i=k(i));for(var s=0;s<i.length;s++){this[i[s]].finalizeFilters()}}},{key:\"checkLoadedPlugins\",value:function(){var e=ae;Array.isArray(e)||(\"function\"==typeof e.entries&&(e=e.entries()),e=k(e));for(var t=0;t<e.length;t++){var n=e[t];this[n].enabled&&!M.has(n)&&D(\"segment parser\",n)}}},{key:\"onlyTiff\",get:function(){var e=this;return!se.map((function(t){return e[t].enabled})).some((function(e){return!0===e}))&&this.tiff.enabled}}]),n}(le);function ge(e,t){var n,r,i,s=[],a=t;Array.isArray(a)||(\"function\"==typeof a.entries&&(a=a.entries()),a=k(a));for(var u=0;u<a.length;u++){r=a[u],n=[];var o=te.get(r);Array.isArray(o)||(\"function\"==typeof o.entries&&(o=o.entries()),o=k(o));for(var f=0;f<o.length;f++)i=o[f],(e.includes(i[0])||e.includes(i[1]))&&n.push(i[0]);n.length&&s.push([r,n])}return s}function ke(e,t){return void 0!==e?e:void 0!==t?t:void 0}function me(e,t){var n=t;Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++){var i=n[r];e.add(i)}}i(ye,\"default\",ve);var be={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},we=y({},be,{firstChunkSize:4e4,gps:[1,2,3,4]}),Ae=y({},be,{firstChunkSize:4e4,ifd0:[274]}),Oe=y({},be,{tiff:!1,ifd1:!0,mergeOutput:!1});function Se(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Pe(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function Ue(){}var xe=function(){function e(n){t(this,e),i(this,\"parsers\",{}),this.options=ye.useCached(n)}return r(e,[{key:\"setup\",value:function(){if(!this.fileParser){var e,t=this.file.getUint16(0);if(18761===t||19789===t)this.file.isTiff=!0,e=N.get(\"tiff\");else if(65496===t)this.file.isJpeg=!0,e=N.get(\"jpeg\");else{if(!function(e){if(0!==e.getUint16(0))return!1;var t=e.getUint16(2);if(t>50)return!1;for(var n=16,r=[];n<t;)r.push(e.getString(n,4)),n+=4;return r.includes(\"heic\")}(this.file))throw I(\"Unknown file format\");this.file.isHeic=!0,e=N.get(\"heic\")}this.fileParser=new e(this.options,this.file,this.parsers)}}},{key:\"read\",value:function(e){try{var t=this;return Se(function(e,t){if(\"string\"==typeof e)return Y(e,t);if(U&&!x&&e instanceof HTMLImageElement)return Y(e.src,t);if(e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView)return new E(e);if(U&&e instanceof Blob)return Q(e,t,\"blob\",G);throw I(\"Invalid input argument\")}(e,t.options),(function(e){t.file=e}))}catch(e){return Promise.reject(e)}}},{key:\"parse\",value:function(){try{var e=this;return e.setup(),Se(e.fileParser.parse(),(function(){var t,n={},r=[],i=v(e.parsers).map((t=function(t){var i;return Pe((function(){return e.options.silentErrors?(n=function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return Se(t.parse(),(function(e){i=e}))}),(function(e){r.push(e)})),s=function(){t.errors.length&&r.push.apply(r,t.errors)},n&&n.then?n.then(s):s(n)):Se(t.parse(),(function(e){i=e}));var n,s}),(function(){t.assignToOutput(n,i)}))},function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return Promise.resolve(t.apply(this,e))}catch(e){return Promise.reject(e)}}));return Se(Promise.all(i),(function(){var t;return e.options.silentErrors&&r.length>0&&(n.errors=r),n=T(t=n)?void 0:t,e.file.close&&e.file.close(),n}))}))}catch(e){return Promise.reject(e)}}},{key:\"extractThumbnail\",value:function(){try{var e=this;e.setup();var t,n=M.get(\"tiff\",e.options);return Pe((function(){if(!e.file.isTiff)return function(e){var t=e();if(t&&t.then)return t.then(Ue)}((function(){if(e.file.isJpeg)return Se(e.fileParser.getOrFindSegment(\"tiff\"),(function(e){t=e}))}));t={start:0,type:\"tiff\"}}),(function(){if(void 0!==t)return Se(e.fileParser.ensureSegmentChunk(t),(function(t){return Se((e.parsers.tiff=new n(t,e.options,e.file)).extractThumbnail(),(function(t){return e.file.close&&e.file.close(),t}))}))}))}catch(e){return Promise.reject(e)}}}]),e}();function Be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}var je=Ce((function(e){var t=new xe(Ae);return Be(t.read(e),(function(){return Be(t.parse(),(function(e){if(e&&e.ifd0)return e.ifd0[274]}))}))})),_e=Ce((function(e){var t=new xe(we);return Be(t.read(e),(function(){return Be(t.parse(),(function(e){if(e&&e.gps){var t=e.gps;return{latitude:t.latitude,longitude:t.longitude}}}))}))})),Ve=Ce((function(e){return Be(this.thumbnail(e),(function(e){if(void 0!==e){var t=new Blob([e]);return URL.createObjectURL(t)}}))})),Te=Ce((function(e){var t=new xe(Oe);return Be(t.read(e),(function(){return Be(t.extractThumbnail(),(function(e){return e&&_?C.from(e):e}))}))})),Ie=Ce((function(e,t){var n=new xe(t);return Be(n.read(e),(function(){return n.parse()}))})),Le=Object.freeze({__proto__:null,orientation:je,gps:_e,thumbnailUrl:Ve,thumbnail:Te,parse:Ie,Exifr:xe,fileParsers:N,segmentParsers:M,fileReaders:W,tagKeys:te,tagValues:ne,tagRevivers:re,createDictionary:$,extendDictionary:ee,fetchUrlAsArrayBuffer:J,readBlobAsArrayBuffer:G,chunkedProps:ie,otherSegments:se,segments:ae,tiffBlocks:ue,segmentsAndBlocks:oe,tiffExtractables:fe,inheritables:he,allFormatters:ce,Options:ye,disableAllOptions:be,gpsOnlyOptions:we,orientationOnlyOptions:Ae,thumbnailOnlyOptions:Oe});function ze(){}var Fe=function(e){function n(){var e,r;t(this,n);for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];return i(c(r=l(this,(e=a(n)).call.apply(e,[this].concat(u)))),\"ranges\",new Ee),0!==r.byteLength&&r.ranges.add(0,r.byteLength),r}return s(n,e),r(n,[{key:\"_tryExtend\",value:function(e,t,n){if(0===e&&0===this.byteLength&&n){var r=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(r)}else{var i=e+t;if(i>this.byteLength){var s=this._extend(i).dataView;this._swapDataView(s)}}}},{key:\"_extend\",value:function(e){var t;t=_?C.allocUnsafe(e):new Uint8Array(e);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}},{key:\"subarray\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=t||this._lengthToEnd(e),r&&this._tryExtend(e,t),this.ranges.add(e,t),d(a(n.prototype),\"subarray\",this).call(this,e,t)}},{key:\"set\",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r&&this._tryExtend(t,e.byteLength,e);var i=d(a(n.prototype),\"set\",this).call(this,e,t);return this.ranges.add(t,i.byteLength),i}},{key:\"ensureChunk\",value:function(e,t){try{if(!this.chunked)return;if(this.ranges.available(e,t))return;return function(e,t){if(!t)return e&&e.then?e.then(ze):Promise.resolve()}(this.readChunk(e,t))}catch(e){return Promise.reject(e)}}},{key:\"available\",value:function(e,t){return this.ranges.available(e,t)}}]),n}(E),Ee=function(){function e(){t(this,e),i(this,\"list\",[])}return r(e,[{key:\"add\",value:function(e,t){var n=e+t,r=this.list.filter((function(t){return De(e,t.offset,n)||De(e,t.end,n)}));if(r.length>0){e=Math.min.apply(Math,[e].concat(r.map((function(e){return e.offset})))),t=(n=Math.max.apply(Math,[n].concat(r.map((function(e){return e.end})))))-e;var i=r.shift();i.offset=e,i.length=t,i.end=n,this.list=this.list.filter((function(e){return!r.includes(e)}))}else this.list.push({offset:e,length:t,end:n})}},{key:\"available\",value:function(e,t){var n=e+t;return this.list.some((function(t){return t.offset<=e&&n<=t.end}))}},{key:\"length\",get:function(){return this.list.length}}]),e}();function De(e,t,n){return e<=t&&t<=n}function Re(){}function Ne(e,t){if(!t)return e&&e.then?e.then(Re):Promise.resolve()}function Me(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}var We=function(e){function n(){return t(this,n),l(this,a(n).apply(this,arguments))}return s(n,e),r(n,[{key:\"readWhole\",value:function(){try{var e=this;return e.chunked=!1,Me(G(e.input),(function(t){e._swapArrayBuffer(t)}))}catch(e){return Promise.reject(e)}}},{key:\"readChunked\",value:function(){return this.chunked=!0,this.size=this.input.size,d(a(n.prototype),\"readChunked\",this).call(this)}},{key:\"_readChunk\",value:function(e,t){try{var n=this,r=t?e+t:void 0,i=n.input.slice(e,r);return Me(G(i),(function(t){return n.set(t,e,!0)}))}catch(e){return Promise.reject(e)}}}]),n}(function(e){function n(e,r){var s;return t(this,n),i(c(s=l(this,a(n).call(this,0))),\"chunksRead\",0),s.input=e,s.options=r,s}return s(n,e),r(n,[{key:\"readWhole\",value:function(){try{return this.chunked=!1,Ne(this.readChunk(this.nextChunkOffset))}catch(e){return Promise.reject(e)}}},{key:\"readChunked\",value:function(){try{return this.chunked=!0,Ne(this.readChunk(0,this.options.firstChunkSize))}catch(e){return Promise.reject(e)}}},{key:\"readNextChunk\",value:function(e){try{if(void 0===e&&(e=this.nextChunkOffset),this.fullyRead)return this.chunksRead++,!1;var t=this.options.chunkSize;return n=this.readChunk(e,t),r=function(e){return!!e&&e.byteLength===t},i?r?r(n):n:(n&&n.then||(n=Promise.resolve(n)),r?n.then(r):n)}catch(e){return Promise.reject(e)}var n,r,i}},{key:\"readChunk\",value:function(e,t){try{if(this.chunksRead++,0===(t=this.safeWrapAddress(e,t)))return;return this._readChunk(e,t)}catch(e){return Promise.reject(e)}}},{key:\"safeWrapAddress\",value:function(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}},{key:\"read\",value:function(){return this.options.chunked?this.readChunked():this.readWhole()}},{key:\"close\",value:function(){}},{key:\"nextChunkOffset\",get:function(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}},{key:\"canReadNextChunk\",get:function(){return this.chunksRead<this.options.chunkLimit}},{key:\"fullyRead\",get:function(){return void 0!==this.size&&this.nextChunkOffset===this.size}}]),n}(Fe));W.set(\"blob\",We);var Ke=function(){function e(n,r,s){var a,u=this;t(this,e),i(this,\"ensureSegmentChunk\",(a=function(e){var t,n,r,i=e.start,s=e.size||65536;return t=function(){if(u.file.chunked)return function(){if(!u.file.available(i,s))return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return t=u.file.readChunk(i,s),n=function(t){e.chunk=t},r?n?n(t):t:(t&&t.then||(t=Promise.resolve(t)),n?t.then(n):t);var t,n,r}),(function(t){throw I(\"Couldn't read segment: \".concat(JSON.stringify(e),\". \").concat(t.message))}));e.chunk=u.file.subarray(i,s)}();if(u.file.byteLength>i+s)e.chunk=u.file.subarray(i,s);else{if(void 0!==e.size)throw I(\"Segment unreachable: \"+JSON.stringify(e));e.chunk=u.file.subarray(i)}},n=function(t){return e.chunk},(r=t())&&r.then?r.then(n):n(r)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(a.apply(this,e))}catch(e){return Promise.reject(e)}})),this.extendOptions&&this.extendOptions(n),this.options=n,this.file=r,this.parsers=s}return r(e,[{key:\"createParser\",value:function(e,t){var n=new(M.get(e))(t,this.options,this.file);return this.parsers[e]=n}}]),e}(),He=function(){function e(n){var r=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;t(this,e),i(this,\"errors\",[]),i(this,\"raw\",O()),i(this,\"handleError\",(function(e){if(!r.options.silentErrors)throw e;r.errors.push(e.message)})),this.chunk=this.normalizeInput(n),this.file=a,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}return r(e,[{key:\"normalizeInput\",value:function(e){return e instanceof E?e:new E(e)}}],[{key:\"findPosition\",value:function(e,t){var n=e.getUint16(t+2)+2,r=\"function\"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,i=t+r,s=n-r;return{offset:t,length:n,headerLength:r,start:i,size:s,end:i+s}}},{key:\"parse\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new ye(i({},this.type,t)),r=new this(e,n);return r.parse()}}]),r(e,[{key:\"translate\",value:function(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}},{key:\"translateBlock\",value:function(e,t){var n=re.get(t),r=ne.get(t),i=te.get(t),s=this.options[t],a=s.reviveValues&&!!n,u=s.translateValues&&!!r,o=s.translateKeys&&!!i,f={},h=e;Array.isArray(h)||(\"function\"==typeof h.entries&&(h=h.entries()),h=k(h));for(var c=0;c<h.length;c++){var l=h[c],d=l[0],v=l[1];a&&n.has(d)?v=n.get(d)(v):u&&r.has(d)&&(v=this.translateValue(v,r.get(d))),o&&i.has(d)&&(d=i.get(d)||d),f[d]=v}return f}},{key:\"translateValue\",value:function(e,t){return t[e]||e}},{key:\"assignToOutput\",value:function(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}},{key:\"assignObjectToOutput\",value:function(e,t,n){if(this.globalOptions.mergeOutput)return y(e,n);e[t]?y(e[t],n):e[t]=n}},{key:\"output\",get:function(){return this.translated?this.translated:this.raw?g(this.raw):void 0}}]),e}();function Ge(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}i(He,\"headerLength\",4),i(He,\"type\",void 0),i(He,\"multiSegment\",!1),i(He,\"canHandle\",(function(){return!1}));function Je(){}function Xe(e,t){if(!t)return e&&e.then?e.then(Je):Promise.resolve()}function qe(e){var t=e();if(t&&t.then)return t.then(Je)}function Qe(e,t){var n=e();return n&&n.then?n.then(t):t(n)}function Ye(e,t,n){if(!e.s){if(n instanceof Ze){if(!n.s)return void(n.o=Ye.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Ye.bind(null,e,t),Ye.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Ze=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var s=1&i?t:n;if(s){try{Ye(r,1,s(this.v))}catch(e){Ye(r,2,e)}return r}return this}return this.o=function(e){try{var i=e.v;1&e.s?Ye(r,1,t?t(i):i):n?Ye(r,1,n(i)):Ye(r,2,i)}catch(e){Ye(r,2,e)}},r},e}();function $e(e){return e instanceof Ze&&1&e.s}function et(e,t,n){for(var r;;){var i=e();if($e(i)&&(i=i.v),!i)return s;if(i.then){r=0;break}var s=n();if(s&&s.then){if(!$e(s)){r=1;break}s=s.s}if(t){var a=t();if(a&&a.then&&!$e(a)){r=2;break}}}var u=new Ze,o=Ye.bind(null,u,2);return(0===r?i.then(h):1===r?s.then(f):a.then(c)).then(void 0,o),u;function f(r){s=r;do{if(t&&(a=t())&&a.then&&!$e(a))return void a.then(c).then(void 0,o);if(!(i=e())||$e(i)&&!i.v)return void Ye(u,1,s);if(i.then)return void i.then(h).then(void 0,o);$e(s=n())&&(s=s.v)}while(!s||!s.then);s.then(f).then(void 0,o)}function h(e){e?(s=n())&&s.then?s.then(f).then(void 0,o):f(s):Ye(u,1,s)}function c(){(i=e())?i.then?i.then(h).then(void 0,o):h(i):Ye(u,1,s)}}function tt(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function nt(e){return e>=224&&e<=239}function rt(e,t){var n=M;Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++){var i=n[r],s=i[0];if(i[1].canHandle(e,t))return s}}var it=function(e){function n(){var e,r;t(this,n);for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];return i(c(r=l(this,(e=a(n)).call.apply(e,[this].concat(u)))),\"appSegments\",[]),i(c(r),\"jpegSegments\",[]),i(c(r),\"unknownSegments\",[]),r}return s(n,e),r(n,[{key:\"parse\",value:function(){try{var e=this;return Ge(e.findAppSegments(),(function(){return Ge(e.readSegments(),(function(){e.mergeMultiSegments(),e.createParsers()}))}))}catch(e){return Promise.reject(e)}}},{key:\"readSegments\",value:function(){try{var e=this.appSegments.map(this.ensureSegmentChunk);return Xe(Promise.all(e))}catch(e){return Promise.reject(e)}}},{key:\"setupSegmentFinderArgs\",value:function(e){var t=this;!0===e?(this.findAll=!0,this.wanted=A(M.keyList())):(e=void 0===e?M.keyList().filter((function(e){return t.options[e].enabled})):e.filter((function(e){return t.options[e].enabled&&M.has(e)})),this.findAll=!1,this.remaining=A(e),this.wanted=A(e)),this.unfinishedMultiSegment=!1}},{key:\"findAppSegments\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;try{var n=this;n.setupSegmentFinderArgs(t);var r=n.file,i=n.findAll,s=n.wanted,a=n.remaining;return Qe((function(){if(!i&&n.file.chunked)return i=k(s).some((function(e){var t=M.get(e),r=n.options[e];return t.multiSegment&&r.multiSegment})),qe((function(){if(i)return Xe(n.file.readWhole())}))}),(function(){var t=!1;if(e=n._findAppSegments(e,r.byteLength,i,s,a),!n.options.onlyTiff)return function(){if(r.chunked){var i=!1;return et((function(){return!t&&a.size>0&&!i&&(!!r.canReadNextChunk||!!n.unfinishedMultiSegment)}),void 0,(function(){var s=r.nextChunkOffset,a=n.appSegments.some((function(e){return!n.file.available(e.offset||e.start,e.length||e.size)}));return Qe((function(){return e>s&&!a?Ge(r.readNextChunk(e),(function(e){i=!e})):Ge(r.readNextChunk(s),(function(e){i=!e}))}),(function(){void 0===(e=n._findAppSegments(e,r.byteLength))&&(t=!0)}))}))}}()}))}catch(e){return Promise.reject(e)}}},{key:\"_findAppSegments\",value:function(e,t){for(var n,r,i,s,a,u,o=this.file,f=this.findAll,h=this.wanted,c=this.remaining,l=this.options;e<t;e++)if(255===o.getUint8(e))if(nt(n=o.getUint8(e+1))){if(r=o.getUint16(e+2),(i=rt(o,e))&&h.has(i)&&(a=(s=M.get(i)).findPosition(o,e),u=l[i],a.type=i,this.appSegments.push(a),!f&&(s.multiSegment&&u.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||c.delete(i)):c.delete(i),0===c.size)))break;l.recordUnknownSegments&&((a=He.findPosition(o,e)).marker=n,this.unknownSegments.push(a)),e+=r+1}else if(tt(n)){if(r=o.getUint16(e+2),218===n&&!1!==l.stopAfterSos)return;l.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}},{key:\"mergeMultiSegments\",value:function(){var e=this;if(this.appSegments.some((function(e){return e.multiSegment}))){var t=function(e,t){for(var n,r,i,s=O(),a=0;a<e.length;a++)n=e[a],r=n[t],s.has(r)?i=s.get(r):s.set(r,i=[]),i.push(n);return k(s)}(this.appSegments,\"type\");this.mergedAppSegments=t.map((function(t){var n=t[0],r=t[1],i=M.get(n,e.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]}))}}},{key:\"createParsers\",value:function(){try{var e=this.mergedAppSegments||this.appSegments;Array.isArray(e)||(\"function\"==typeof e.entries&&(e=e.entries()),e=k(e));for(var t=0;t<e.length;t++){var n=e[t],r=n.type,i=n.chunk;if(this.options[r].enabled){var s=this.parsers[r];if(s&&s.append);else if(!s){var a=new(M.get(r,this.options))(i,this.options,this.file);this.parsers[r]=a}}}return Ge()}catch(e){return Promise.reject(e)}}},{key:\"getSegment\",value:function(e){return this.appSegments.find((function(t){return t.type===e}))}},{key:\"getOrFindSegment\",value:function(e){try{var t=this,n=t.getSegment(e);return Qe((function(){if(void 0===n)return Ge(t.findAppSegments(0,[e]),(function(){n=t.getSegment(e)}))}),(function(){return n}))}catch(e){return Promise.reject(e)}}}]),n}(Ke);function st(){}N.set(\"jpeg\",it);function at(e,t){if(!t)return e&&e.then?e.then(st):Promise.resolve()}function ut(e,t){var n=e();return n&&n.then?n.then(t):t(n)}var ot=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];var ft=function(e){function n(){return t(this,n),l(this,a(n).apply(this,arguments))}return s(n,e),r(n,[{key:\"parse\",value:function(){try{var e=this;return e.parseHeader(),ut((function(){if(e.options.ifd0.enabled)return at(e.parseIfd0Block())}),(function(){return ut((function(){if(e.options.exif.enabled)return at(e.saveParseBlock(\"parseExifBlock\"))}),(function(){return ut((function(){if(e.options.gps.enabled)return at(e.saveParseBlock(\"parseGpsBlock\"))}),(function(){return ut((function(){if(e.options.interop.enabled)return at(e.saveParseBlock(\"parseInteropBlock\"))}),(function(){return ut((function(){if(e.options.ifd1.enabled)return at(e.saveParseBlock(\"parseThumbnailBlock\"))}),(function(){return e.createOutput()}))}))}))}))}))}catch(e){return Promise.reject(e)}}},{key:\"saveParseBlock\",value:function(e){try{var t=this;return function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){return n=t[e](),i?r?r(n):n:(n&&n.then||(n=Promise.resolve(n)),r?n.then(r):n);var n,r,i}),(function(e){t.handleError(e)}))}catch(e){return Promise.reject(e)}}},{key:\"findIfd0Offset\",value:function(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}},{key:\"findIfd1Offset\",value:function(){if(void 0===this.ifd1Offset){this.findIfd0Offset();var e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}},{key:\"parseBlock\",value:function(e,t){var n=O();return this[t]=n,this.parseTags(e,t,n),n}},{key:\"parseIfd0Block\",value:function(){try{var e=this;if(e.ifd0)return;if(e.findIfd0Offset(),e.ifd0Offset<8)throw I(\"Invalid EXIF data: IFD0 offset should be less than 8\");if(!e.file.chunked&&e.ifd0Offset>e.file.byteLength)throw I(\"IFD0 offset points to outside of file.\\nthis.ifd0Offset: \".concat(e.ifd0Offset,\", file.byteLength: \").concat(e.file.byteLength));return ut((function(){if(e.file.isTiff)return at(e.file.ensureChunk(e.ifd0Offset,L(e.options)))}),(function(){var t=e.parseBlock(e.ifd0Offset,\"ifd0\");if(0!==t.size)return e.exifOffset=t.get(34665),e.interopOffset=t.get(40965),e.gpsOffset=t.get(34853),e.xmp=t.get(700),e.iptc=t.get(33723),e.icc=t.get(34675),e.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t}))}catch(e){return Promise.reject(e)}}},{key:\"ensureBlockChunk\",value:function(e,t){try{var n=this;return ut((function(){if(n.file.isTiff)return at(n.file.ensureChunk(e,t))}),(function(){e>n.chunk.byteLength&&(n.chunk=E.from(n.file,n.le))}))}catch(e){return Promise.reject(e)}}},{key:\"parseExifBlock\",value:function(){try{var e=this;if(e.exif)return;return ut((function(){if(!e.ifd0)return at(e.parseIfd0Block())}),(function(){if(void 0!==e.exifOffset)return ut((function(){if(e.file.isTiff)return at(e.file.ensureChunk(e.exifOffset,L(e.options)))}),(function(){var t=e.parseBlock(e.exifOffset,\"exif\");return e.interopOffset||(e.interopOffset=t.get(40965)),e.makerNote=t.get(37500),e.userComment=t.get(37510),e.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),e.unpack(t,41728),e.unpack(t,41729),t}))}))}catch(e){return Promise.reject(e)}}},{key:\"unpack\",value:function(e,t){var n=e.get(t);n&&1===n.length&&e.set(t,n[0])}},{key:\"parseGpsBlock\",value:function(){try{var e=this;if(e.gps)return;return ut((function(){if(!e.ifd0)return at(e.parseIfd0Block())}),(function(){if(void 0!==e.gpsOffset){var t=e.parseBlock(e.gpsOffset,\"gps\");return t&&t.has(2)&&t.has(4)&&(t.set(\"latitude\",ht.apply(void 0,t.get(2).concat([t.get(1)]))),t.set(\"longitude\",ht.apply(void 0,t.get(4).concat([t.get(3)])))),t}}))}catch(e){return Promise.reject(e)}}},{key:\"parseInteropBlock\",value:function(){try{var e=this;if(e.interop)return;return ut((function(){if(!e.ifd0)return at(e.parseIfd0Block())}),(function(){return ut((function(){if(void 0===e.interopOffset&&!e.exif)return at(e.parseExifBlock())}),(function(){if(void 0!==e.interopOffset)return e.parseBlock(e.interopOffset,\"interop\")}))}))}catch(e){return Promise.reject(e)}}},{key:\"parseThumbnailBlock\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{var t=this;if(t.ifd1||t.ifd1Parsed)return;if(t.options.mergeOutput&&!e)return;return t.findIfd1Offset(),t.ifd1Offset>0&&(t.parseBlock(t.ifd1Offset,\"ifd1\"),t.ifd1Parsed=!0),t.ifd1}catch(e){return Promise.reject(e)}}},{key:\"extractThumbnail\",value:function(){try{var e=this;return e.headerParsed||e.parseHeader(),ut((function(){if(!e.ifd1Parsed)return at(e.parseThumbnailBlock(!0))}),(function(){if(void 0!==e.ifd1){var t=e.ifd1.get(513),n=e.ifd1.get(514);return e.chunk.getUint8Array(t,n)}}))}catch(e){return Promise.reject(e)}}},{key:\"createOutput\",value:function(){var e,t,n,r={},i=ue;Array.isArray(i)||(\"function\"==typeof i.entries&&(i=i.entries()),i=k(i));for(var s=0;s<i.length;s++)if(!T(e=this[t=i[s]]))if(n=this.canTranslate?this.translateBlock(e,t):g(e),this.options.mergeOutput){if(\"ifd1\"===t)continue;y(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}},{key:\"assignToOutput\",value:function(e,t){if(this.globalOptions.mergeOutput)y(e,t);else{var n=p(t);Array.isArray(n)||(\"function\"==typeof n.entries&&(n=n.entries()),n=k(n));for(var r=0;r<n.length;r++){var i=n[r],s=i[0],a=i[1];this.assignObjectToOutput(e,s,a)}}}},{key:\"image\",get:function(){return this.ifd0}},{key:\"thumbnail\",get:function(){return this.ifd1}}],[{key:\"canHandle\",value:function(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}}]),n}(function(e){function n(){return t(this,n),l(this,a(n).apply(this,arguments))}return s(n,e),r(n,[{key:\"parseHeader\",value:function(){var e=this.chunk.getUint16();if(18761===e)this.le=!0;else{if(19789!==e)throw I(\"Invalid EXIF data: expected byte order marker (0x4949 or 0x4D4D).\");this.le=!1}if(this.chunk.le=this.le,42!==this.chunk.getUint16(2))throw I(\"Invalid EXIF data: expected 0x002A.\");this.headerParsed=!0}},{key:\"parseTags\",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O(),r=this.options[t],i=r.pick,s=r.skip,a=(i=A(i)).size>0,u=0===s.size,o=this.chunk.getUint16(e);e+=2;for(var f=0;f<o;f++){var h=this.chunk.getUint16(e);if(a){if(i.has(h)&&(n.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!u&&s.has(h)||n.set(h,this.parseTag(e,h,t));e+=12}return n}},{key:\"parseTag\",value:function(e,t,n){var r,i=this.chunk.getUint16(e+2),s=this.chunk.getUint32(e+4),a=ot[i];if(a*s<=4?e+=8:e=this.chunk.getUint32(e+8),i<1||i>13)throw I(\"Invalid TIFF value type. block: \".concat(n.toUpperCase(),\", tag: \").concat(t.toString(16),\", type: \").concat(i,\", offset \").concat(e));if(e>this.chunk.byteLength)throw I(\"Invalid TIFF value offset. block: \".concat(n.toUpperCase(),\", tag: \").concat(t.toString(16),\", type: \").concat(i,\", offset \").concat(e,\" is outside of chunk size \").concat(this.chunk.byteLength));if(1===i)return this.chunk.getUint8Array(e,s);if(2===i)return\"\"===(r=function(e){for(;e.endsWith(\"\\0\");)e=e.slice(0,-1);return e}(r=this.chunk.getString(e,s)).trim())?void 0:r;if(7===i)return this.chunk.getUint8Array(e,s);if(1===s)return this.parseTagValue(i,e);for(var u=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(i))(s),o=a,f=0;f<s;f++)u[f]=this.parseTagValue(i,e),e+=o;return u}},{key:\"parseTagValue\",value:function(e,t){switch(e){case 1:return this.chunk.getUint8(t);case 3:return this.chunk.getUint16(t);case 4:return this.chunk.getUint32(t);case 5:return this.chunk.getUint32(t)/this.chunk.getUint32(t+4);case 6:return this.chunk.getInt8(t);case 8:return this.chunk.getInt16(t);case 9:return this.chunk.getInt32(t);case 10:return this.chunk.getInt32(t)/this.chunk.getInt32(t+4);case 11:return this.chunk.getFloat(t);case 12:return this.chunk.getDouble(t);case 13:return this.chunk.getUint32(t);default:throw I(\"Invalid tiff type \".concat(e))}}}]),n}(He));function ht(e,t,n,r){var i=e+t/60+n/3600;return\"S\"!==r&&\"W\"!==r||(i*=-1),i}i(ft,\"type\",\"tiff\"),i(ft,\"headerLength\",10),M.set(\"tiff\",ft),e.Exifr=xe,e.Options=ye,e.allFormatters=ce,e.chunkedProps=ie,e.createDictionary=$,e.default=Le,e.disableAllOptions=be,e.extendDictionary=ee,e.fetchUrlAsArrayBuffer=J,e.fileParsers=N,e.fileReaders=W,e.gps=_e,e.gpsOnlyOptions=we,e.inheritables=he,e.orientation=je,e.orientationOnlyOptions=Ae,e.otherSegments=se,e.parse=Ie,e.readBlobAsArrayBuffer=G,e.segmentParsers=M,e.segments=ae,e.segmentsAndBlocks=oe,e.tagKeys=te,e.tagRevivers=re,e.tagValues=ne,e.thumbnail=Te,e.thumbnailOnlyOptions=Oe,e.thumbnailUrl=Ve,e.tiffBlocks=ue,e.tiffExtractables=fe,Object.defineProperty(e,\"__esModule\",{value:!0})}));\n","import { Injectable, Inject, forwardRef } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ImgMaxSizeService } from './img-max-size.service';\r\nimport { ImgMaxPXSizeService } from './img-maxpx-size.service';\r\nimport { ImgExifService } from './img-exif.service';\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from './img-max-size.service';\nimport * as ɵngcc2 from './img-maxpx-size.service';\nimport * as ɵngcc3 from './img-exif.service';\nvar Ng2ImgMaxService = /** @class */ (function () {\r\n    function Ng2ImgMaxService(imgMaxSizeService, imgMaxPXSizeService, imageExifService) {\r\n        this.imgMaxSizeService = imgMaxSizeService;\r\n        this.imgMaxPXSizeService = imgMaxPXSizeService;\r\n        this.imageExifService = imageExifService;\r\n    }\r\n    Ng2ImgMaxService.prototype.compress = function (files, maxSizeInMB, ignoreAlpha, logExecutionTime) {\r\n        var _this = this;\r\n        if (ignoreAlpha === void 0) { ignoreAlpha = false; }\r\n        if (logExecutionTime === void 0) { logExecutionTime = false; }\r\n        var compressedFileSubject = new Subject();\r\n        files.forEach(function (file) {\r\n            _this.compressImage(file, maxSizeInMB, ignoreAlpha, logExecutionTime).subscribe(function (value) {\r\n                compressedFileSubject.next(value);\r\n            }, function (error) {\r\n                compressedFileSubject.error(error);\r\n            });\r\n        });\r\n        return compressedFileSubject.asObservable();\r\n    };\r\n    Ng2ImgMaxService.prototype.resize = function (files, maxWidth, maxHeight, logExecutionTime) {\r\n        var _this = this;\r\n        if (logExecutionTime === void 0) { logExecutionTime = false; }\r\n        var resizedFileSubject = new Subject();\r\n        files.forEach(function (file) {\r\n            _this.resizeImage(file, maxWidth, maxHeight, logExecutionTime).subscribe(function (value) {\r\n                resizedFileSubject.next(value);\r\n            }, function (error) {\r\n                resizedFileSubject.error(error);\r\n            });\r\n        });\r\n        return resizedFileSubject.asObservable();\r\n    };\r\n    Ng2ImgMaxService.prototype.compressImage = function (file, maxSizeInMB, ignoreAlpha, logExecutionTime) {\r\n        if (ignoreAlpha === void 0) { ignoreAlpha = false; }\r\n        if (logExecutionTime === void 0) { logExecutionTime = false; }\r\n        return this.imgMaxSizeService.compressImage(file, maxSizeInMB, ignoreAlpha, logExecutionTime);\r\n    };\r\n    Ng2ImgMaxService.prototype.resizeImage = function (file, maxWidth, maxHeight, logExecutionTime) {\r\n        if (logExecutionTime === void 0) { logExecutionTime = false; }\r\n        return this.imgMaxPXSizeService.resizeImage(file, maxWidth, maxHeight, logExecutionTime);\r\n    };\r\n    Ng2ImgMaxService.prototype.getEXIFOrientedImage = function (image) {\r\n        return this.imageExifService.getOrientedImage(image);\r\n    };\r\n    /** @nocollapse */\r\n    Ng2ImgMaxService.ctorParameters = function () { return [\r\n        { type: ImgMaxSizeService, decorators: [{ type: Inject, args: [forwardRef(function () { return ImgMaxSizeService; }),] }] },\r\n        { type: ImgMaxPXSizeService, decorators: [{ type: Inject, args: [forwardRef(function () { return ImgMaxPXSizeService; }),] }] },\r\n        { type: ImgExifService, decorators: [{ type: Inject, args: [forwardRef(function () { return ImgExifService; }),] }] }\r\n    ]; };\nNg2ImgMaxService.ɵfac = function Ng2ImgMaxService_Factory(t) { return new (t || Ng2ImgMaxService)(ɵngcc0.ɵɵinject(forwardRef(function () { return ImgMaxSizeService; })), ɵngcc0.ɵɵinject(forwardRef(function () { return ImgMaxPXSizeService; })), ɵngcc0.ɵɵinject(forwardRef(function () { return ImgExifService; }))); };\nNg2ImgMaxService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: Ng2ImgMaxService, factory: function (t) { return Ng2ImgMaxService.ɵfac(t); } });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Ng2ImgMaxService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc1.ImgMaxSizeService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return ImgMaxSizeService; })]\n            }] }, { type: ɵngcc2.ImgMaxPXSizeService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return ImgMaxPXSizeService; })]\n            }] }, { type: ɵngcc3.ImgExifService, decorators: [{\n                type: Inject,\n                args: [forwardRef(function () { return ImgExifService; })]\n            }] }]; }, null); })();\r\n    return Ng2ImgMaxService;\r\n}());\r\nexport { Ng2ImgMaxService };\r\n\n//# sourceMappingURL=ng2-img-max.service.js.map","/*!\n\npica\nhttps://github.com/nodeca/pica\n\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.pica = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(_dereq_,module,exports){\n// Collection of math functions\n//\n// 1. Combine components together\n// 2. Has async init to load wasm modules\n//\n'use strict';\n\nvar Multimath = _dereq_('multimath');\n\nvar mm_unsharp_mask = _dereq_('./mm_unsharp_mask');\n\nvar mm_resize = _dereq_('./mm_resize');\n\nfunction MathLib(requested_features) {\n  var __requested_features = requested_features || [];\n\n  var features = {\n    js: __requested_features.indexOf('js') >= 0,\n    wasm: __requested_features.indexOf('wasm') >= 0\n  };\n  Multimath.call(this, features);\n  this.features = {\n    js: features.js,\n    wasm: features.wasm && this.has_wasm()\n  };\n  this.use(mm_unsharp_mask);\n  this.use(mm_resize);\n}\n\nMathLib.prototype = Object.create(Multimath.prototype);\nMathLib.prototype.constructor = MathLib;\n\nMathLib.prototype.resizeAndUnsharp = function resizeAndUnsharp(options, cache) {\n  var result = this.resize(options, cache);\n\n  if (options.unsharpAmount) {\n    this.unsharp_mask(result, options.toWidth, options.toHeight, options.unsharpAmount, options.unsharpRadius, options.unsharpThreshold);\n  }\n\n  return result;\n};\n\nmodule.exports = MathLib;\n\n},{\"./mm_resize\":4,\"./mm_unsharp_mask\":9,\"multimath\":19}],2:[function(_dereq_,module,exports){\n// Resize convolvers, pure JS implementation\n//\n'use strict'; // Precision of fixed FP values\n//var FIXED_FRAC_BITS = 14;\n\nfunction clampTo8(i) {\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampNegative(i) {\n  return i >= 0 ? i : 0;\n} // Convolve image data in horizontal direction. Can be used for:\n//\n// 1. bitmap with premultiplied alpha\n// 2. bitmap without alpha (all values 255)\n//\n// Notes:\n//\n// - output is transposed\n// - output resolution is ~15 bits per channel(for better precision).\n//\n\n\nfunction convolveHor(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHor()`\n//\n\n\nfunction convolveVert(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Sync with premultiplied version for exact result match\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Bring this value back in range + round result.\n      //\n\n      dest[destOffset + 3] = clampTo8(a + (1 << 13) >> 14);\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Premultiply & convolve image data in horizontal direction. Can be used for:\n//\n// - Any bitmap data, extracted with `.getImageData()` method (with\n//   non-premultiplied alpha)\n//\n// For images without alpha channel this method is slower than `convolveHor()`\n//\n\n\nfunction convolveHorWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a, alpha;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        alpha = src[srcPtr + 3];\n        a = a + filterVal * alpha | 0;\n        b = b + filterVal * src[srcPtr + 2] * alpha | 0;\n        g = g + filterVal * src[srcPtr + 1] * alpha | 0;\n        r = r + filterVal * src[srcPtr] * alpha | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Premultiply is (* alpha / 255).\n      // Postpone division for better performance\n\n\n      b = b / 255 | 0;\n      g = g / 255 | 0;\n      r = r / 255 | 0; // Store 15 bits between passes for better precision\n      // Instead of shift to 14 (FIXED_FRAC_BITS), shift to 7 only\n      //\n\n      dest[destOffset + 3] = clampNegative(a >> 7);\n      dest[destOffset + 2] = clampNegative(b >> 7);\n      dest[destOffset + 1] = clampNegative(g >> 7);\n      dest[destOffset] = clampNegative(r >> 7);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n} // Supplementary method for `convolveHorWithPre()`\n//\n\n\nfunction convolveVertWithPre(src, dest, srcW, srcH, destW, filters) {\n  var r, g, b, a;\n  var filterPtr, filterShift, filterSize;\n  var srcPtr, srcY, destX, filterVal;\n  var srcOffset = 0,\n      destOffset = 0; // For each row\n\n  for (srcY = 0; srcY < srcH; srcY++) {\n    filterPtr = 0; // Apply precomputed filters to each destination row point\n\n    for (destX = 0; destX < destW; destX++) {\n      // Get the filter that determines the current output pixel.\n      filterShift = filters[filterPtr++];\n      filterSize = filters[filterPtr++];\n      srcPtr = srcOffset + filterShift * 4 | 0;\n      r = g = b = a = 0; // Apply the filter to the row to get the destination pixel r, g, b, a\n\n      for (; filterSize > 0; filterSize--) {\n        filterVal = filters[filterPtr++]; // Use reverse order to workaround deopts in old v8 (node v.10)\n        // Big thanks to @mraleph (Vyacheslav Egorov) for the tip.\n\n        a = a + filterVal * src[srcPtr + 3] | 0;\n        b = b + filterVal * src[srcPtr + 2] | 0;\n        g = g + filterVal * src[srcPtr + 1] | 0;\n        r = r + filterVal * src[srcPtr] | 0;\n        srcPtr = srcPtr + 4 | 0;\n      } // Downscale to leave room for un-premultiply\n\n\n      r >>= 7;\n      g >>= 7;\n      b >>= 7;\n      a >>= 7; // Un-premultiply\n\n      a = clampTo8(a + (1 << 13) >> 14);\n\n      if (a > 0) {\n        r = r * 255 / a | 0;\n        g = g * 255 / a | 0;\n        b = b * 255 / a | 0;\n      } // Bring this value back in range + round result.\n      // Shift value = FIXED_FRAC_BITS + 7\n      //\n\n\n      dest[destOffset + 3] = a;\n      dest[destOffset + 2] = clampTo8(b + (1 << 13) >> 14);\n      dest[destOffset + 1] = clampTo8(g + (1 << 13) >> 14);\n      dest[destOffset] = clampTo8(r + (1 << 13) >> 14);\n      destOffset = destOffset + srcH * 4 | 0;\n    }\n\n    destOffset = (srcY + 1) * 4 | 0;\n    srcOffset = (srcY + 1) * srcW * 4 | 0;\n  }\n}\n\nmodule.exports = {\n  convolveHor: convolveHor,\n  convolveVert: convolveVert,\n  convolveHorWithPre: convolveHorWithPre,\n  convolveVertWithPre: convolveVertWithPre\n};\n\n},{}],3:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],4:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'resize',\n  fn: _dereq_('./resize'),\n  wasm_fn: _dereq_('./resize_wasm'),\n  wasm_src: _dereq_('./convolve_wasm_base64')\n};\n\n},{\"./convolve_wasm_base64\":3,\"./resize\":5,\"./resize_wasm\":8}],5:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nvar _require = _dereq_('./convolve'),\n    convolveHor = _require.convolveHor,\n    convolveVert = _require.convolveVert,\n    convolveHorWithPre = _require.convolveHorWithPre,\n    convolveVertWithPre = _require.convolveVertWithPre;\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nmodule.exports = function resize(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0;\n  var offsetY = options.offsetY || 0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY);\n  var tmp = new Uint16Array(destW * srcH * 4); // Autodetect if alpha channel exists, and use appropriate method\n\n  if (hasAlpha(src, srcW, srcH)) {\n    convolveHorWithPre(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVertWithPre(tmp, dest, srcH, destW, destH, filtersY);\n  } else {\n    convolveHor(src, tmp, srcW, srcH, destW, filtersX);\n    convolveVert(tmp, dest, srcH, destW, destH, filtersY);\n    resetAlpha(dest, destW, destH);\n  }\n\n  return dest;\n};\n\n},{\"./convolve\":2,\"./resize_filter_gen\":6}],6:[function(_dereq_,module,exports){\n// Calculate convolution filters for each destination point,\n// and pack data to Int16Array:\n//\n// [ shift, length, data..., shift2, length2, data..., ... ]\n//\n// - shift - offset in src image\n// - length - filter length (in src points)\n// - data - filter values sequence\n//\n'use strict';\n\nvar FILTER_INFO = _dereq_('./resize_filter_info'); // Precision of fixed FP values\n\n\nvar FIXED_FRAC_BITS = 14;\n\nfunction toFixedPoint(num) {\n  return Math.round(num * ((1 << FIXED_FRAC_BITS) - 1));\n}\n\nmodule.exports = function resizeFilterGen(filter, srcSize, destSize, scale, offset) {\n  var filterFunction = FILTER_INFO.filter[filter].fn;\n  var scaleInverted = 1.0 / scale;\n  var scaleClamped = Math.min(1.0, scale); // For upscale\n  // Filter window (averaging interval), scaled to src image\n\n  var srcWindow = FILTER_INFO.filter[filter].win / scaleClamped;\n  var destPixel, srcPixel, srcFirst, srcLast, filterElementSize, floatFilter, fxpFilter, total, pxl, idx, floatVal, filterTotal, filterVal;\n  var leftNotEmpty, rightNotEmpty, filterShift, filterSize;\n  var maxFilterElementSize = Math.floor((srcWindow + 1) * 2);\n  var packedFilter = new Int16Array((maxFilterElementSize + 2) * destSize);\n  var packedFilterPtr = 0;\n  var slowCopy = !packedFilter.subarray || !packedFilter.set; // For each destination pixel calculate source range and built filter values\n\n  for (destPixel = 0; destPixel < destSize; destPixel++) {\n    // Scaling should be done relative to central pixel point\n    srcPixel = (destPixel + 0.5) * scaleInverted + offset;\n    srcFirst = Math.max(0, Math.floor(srcPixel - srcWindow));\n    srcLast = Math.min(srcSize - 1, Math.ceil(srcPixel + srcWindow));\n    filterElementSize = srcLast - srcFirst + 1;\n    floatFilter = new Float32Array(filterElementSize);\n    fxpFilter = new Int16Array(filterElementSize);\n    total = 0.0; // Fill filter values for calculated range\n\n    for (pxl = srcFirst, idx = 0; pxl <= srcLast; pxl++, idx++) {\n      floatVal = filterFunction((pxl + 0.5 - srcPixel) * scaleClamped);\n      total += floatVal;\n      floatFilter[idx] = floatVal;\n    } // Normalize filter, convert to fixed point and accumulate conversion error\n\n\n    filterTotal = 0;\n\n    for (idx = 0; idx < floatFilter.length; idx++) {\n      filterVal = floatFilter[idx] / total;\n      filterTotal += filterVal;\n      fxpFilter[idx] = toFixedPoint(filterVal);\n    } // Compensate normalization error, to minimize brightness drift\n\n\n    fxpFilter[destSize >> 1] += toFixedPoint(1.0 - filterTotal); //\n    // Now pack filter to useable form\n    //\n    // 1. Trim heading and tailing zero values, and compensate shitf/length\n    // 2. Put all to single array in this format:\n    //\n    //    [ pos shift, data length, value1, value2, value3, ... ]\n    //\n\n    leftNotEmpty = 0;\n\n    while (leftNotEmpty < fxpFilter.length && fxpFilter[leftNotEmpty] === 0) {\n      leftNotEmpty++;\n    }\n\n    if (leftNotEmpty < fxpFilter.length) {\n      rightNotEmpty = fxpFilter.length - 1;\n\n      while (rightNotEmpty > 0 && fxpFilter[rightNotEmpty] === 0) {\n        rightNotEmpty--;\n      }\n\n      filterShift = srcFirst + leftNotEmpty;\n      filterSize = rightNotEmpty - leftNotEmpty + 1;\n      packedFilter[packedFilterPtr++] = filterShift; // shift\n\n      packedFilter[packedFilterPtr++] = filterSize; // size\n\n      if (!slowCopy) {\n        packedFilter.set(fxpFilter.subarray(leftNotEmpty, rightNotEmpty + 1), packedFilterPtr);\n        packedFilterPtr += filterSize;\n      } else {\n        // fallback for old IE < 11, without subarray/set methods\n        for (idx = leftNotEmpty; idx <= rightNotEmpty; idx++) {\n          packedFilter[packedFilterPtr++] = fxpFilter[idx];\n        }\n      }\n    } else {\n      // zero data, write header only\n      packedFilter[packedFilterPtr++] = 0; // shift\n\n      packedFilter[packedFilterPtr++] = 0; // size\n    }\n  }\n\n  return packedFilter;\n};\n\n},{\"./resize_filter_info\":7}],7:[function(_dereq_,module,exports){\n// Filter definitions to build tables for\n// resizing convolvers.\n//\n// Presets for quality 0..3. Filter functions + window size\n//\n'use strict';\n\nvar filter = {\n  // Nearest neibor\n  box: {\n    win: 0.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n      return x < 0.5 ? 1.0 : 0.0;\n    }\n  },\n  // // Hamming\n  hamming: {\n    win: 1.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 1.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * (0.54 + 0.46 * Math.cos(xpi / 1.0));\n    }\n  },\n  // Lanczos, win = 2\n  lanczos2: {\n    win: 2.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 2.0) / (xpi / 2.0);\n    }\n  },\n  // Lanczos, win = 3\n  lanczos3: {\n    win: 3.0,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 3.0) {\n        return 0.0;\n      }\n\n      if (x < 1.19209290E-07) {\n        return 1.0;\n      }\n\n      var xpi = x * Math.PI;\n      return Math.sin(xpi) / xpi * Math.sin(xpi / 3.0) / (xpi / 3.0);\n    }\n  },\n  // Magic Kernel Sharp 2013, win = 2.5\n  // http://johncostella.com/magic/\n  mks2013: {\n    win: 2.5,\n    fn: function fn(x) {\n      if (x < 0) x = -x;\n\n      if (x >= 2.5) {\n        return 0.0;\n      }\n\n      if (x >= 1.5) {\n        return -0.125 * (x - 2.5) * (x - 2.5);\n      }\n\n      if (x >= 0.5) {\n        return 0.25 * (4 * x * x - 11 * x + 7);\n      }\n\n      return 1.0625 - 1.75 * x * x;\n    }\n  }\n};\nmodule.exports = {\n  filter: filter,\n  // Legacy mapping\n  f2q: {\n    box: 0,\n    hamming: 1,\n    lanczos2: 2,\n    lanczos3: 3\n  },\n  q2f: ['box', 'hamming', 'lanczos2', 'lanczos3']\n};\n\n},{}],8:[function(_dereq_,module,exports){\n'use strict';\n\nvar createFilters = _dereq_('./resize_filter_gen');\n\nfunction hasAlpha(src, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    if (src[ptr] !== 255) return true;\n    ptr = ptr + 4 | 0;\n  }\n\n  return false;\n}\n\nfunction resetAlpha(dst, width, height) {\n  var ptr = 3,\n      len = width * height * 4 | 0;\n\n  while (ptr < len) {\n    dst[ptr] = 0xFF;\n    ptr = ptr + 4 | 0;\n  }\n}\n\nfunction asUint8Array(src) {\n  return new Uint8Array(src.buffer, 0, src.byteLength);\n}\n\nvar IS_LE = true; // should not crash everything on module load in old browsers\n\ntry {\n  IS_LE = new Uint32Array(new Uint8Array([1, 0, 0, 0]).buffer)[0] === 1;\n} catch (__) {}\n\nfunction copyInt16asLE(src, target, target_offset) {\n  if (IS_LE) {\n    target.set(asUint8Array(src), target_offset);\n    return;\n  }\n\n  for (var ptr = target_offset, i = 0; i < src.length; i++) {\n    var data = src[i];\n    target[ptr++] = data & 0xFF;\n    target[ptr++] = data >> 8 & 0xFF;\n  }\n}\n\nmodule.exports = function resize_wasm(options) {\n  var src = options.src;\n  var srcW = options.width;\n  var srcH = options.height;\n  var destW = options.toWidth;\n  var destH = options.toHeight;\n  var scaleX = options.scaleX || options.toWidth / options.width;\n  var scaleY = options.scaleY || options.toHeight / options.height;\n  var offsetX = options.offsetX || 0.0;\n  var offsetY = options.offsetY || 0.0;\n  var dest = options.dest || new Uint8Array(destW * destH * 4);\n  var filter = typeof options.filter === 'undefined' ? 'mks2013' : options.filter;\n  var filtersX = createFilters(filter, srcW, destW, scaleX, offsetX),\n      filtersY = createFilters(filter, srcH, destH, scaleY, offsetY); // destination is 0 too.\n\n  var src_offset = 0;\n  var src_size = Math.max(src.byteLength, dest.byteLength); // buffer between convolve passes\n\n  var tmp_offset = this.__align(src_offset + src_size);\n\n  var tmp_size = srcH * destW * 4 * 2; // 2 bytes per channel\n\n  var filtersX_offset = this.__align(tmp_offset + tmp_size);\n\n  var filtersY_offset = this.__align(filtersX_offset + filtersX.byteLength);\n\n  var alloc_bytes = filtersY_offset + filtersY.byteLength;\n\n  var instance = this.__instance('resize', alloc_bytes); //\n  // Fill memory block with data to process\n  //\n\n\n  var mem = new Uint8Array(this.__memory.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer); // 32-bit copy is much faster in chrome\n\n  var src32 = new Uint32Array(src.buffer);\n  mem32.set(src32); // We should guarantee LE bytes order. Filters are not big, so\n  // speed difference is not significant vs direct .set()\n\n  copyInt16asLE(filtersX, mem, filtersX_offset);\n  copyInt16asLE(filtersY, mem, filtersY_offset); // Now call webassembly method\n  // emsdk does method names with '_'\n\n  var fn = instance.exports.convolveHV || instance.exports._convolveHV;\n\n  if (hasAlpha(src, srcW, srcH)) {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 1);\n  } else {\n    fn(filtersX_offset, filtersY_offset, tmp_offset, srcW, srcH, destW, destH, 0);\n    resetAlpha(dest, destW, destH);\n  } //\n  // Copy data back to typed array\n  //\n  // 32-bit copy is much faster in chrome\n\n\n  var dest32 = new Uint32Array(dest.buffer);\n  dest32.set(new Uint32Array(this.__memory.buffer, 0, destH * destW));\n  return dest;\n};\n\n},{\"./resize_filter_gen\":6}],9:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = {\n  name: 'unsharp_mask',\n  fn: _dereq_('./unsharp_mask'),\n  wasm_fn: _dereq_('./unsharp_mask_wasm'),\n  wasm_src: _dereq_('./unsharp_mask_wasm_base64')\n};\n\n},{\"./unsharp_mask\":10,\"./unsharp_mask_wasm\":11,\"./unsharp_mask_wasm_base64\":12}],10:[function(_dereq_,module,exports){\n// Unsharp mask filter\n//\n// http://stackoverflow.com/a/23322820/1031804\n// USM(O) = O + (2 * (Amount / 100) * (O - GB))\n// GB - gaussian blur.\n//\n// Image is converted from RGB to HSV, unsharp mask is applied to the\n// brightness channel and then image is converted back to RGB.\n//\n'use strict';\n\nvar glur_mono16 = _dereq_('glur/mono16');\n\nfunction hsv_v16(img, width, height) {\n  var size = width * height;\n  var out = new Uint16Array(size);\n  var r, g, b, max;\n\n  for (var i = 0; i < size; i++) {\n    r = img[4 * i];\n    g = img[4 * i + 1];\n    b = img[4 * i + 2];\n    max = r >= g && r >= b ? r : g >= b && g >= r ? g : b;\n    out[i] = max << 8;\n  }\n\n  return out;\n}\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  var v1, v2, vmul;\n  var diff, iTimes4;\n\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var brightness = hsv_v16(img, width, height);\n  var blured = new Uint16Array(brightness); // copy, because blur modify src\n\n  glur_mono16(blured, width, height, radius);\n  var amountFp = amount / 100 * 0x1000 + 0.5 | 0;\n  var thresholdFp = threshold << 8;\n  var size = width * height;\n  /* eslint-disable indent */\n\n  for (var i = 0; i < size; i++) {\n    v1 = brightness[i];\n    diff = v1 - blured[i];\n\n    if (Math.abs(diff) >= thresholdFp) {\n      // add unsharp mask to the brightness channel\n      v2 = v1 + (amountFp * diff + 0x800 >> 12); // Both v1 and v2 are within [0.0 .. 255.0] (0000-FF00) range, never going into\n      // [255.003 .. 255.996] (FF01-FFFF). This allows to round this value as (x+.5)|0\n      // later without overflowing.\n\n      v2 = v2 > 0xff00 ? 0xff00 : v2;\n      v2 = v2 < 0x0000 ? 0x0000 : v2; // Avoid division by 0. V=0 means rgb(0,0,0), unsharp with unsharpAmount>0 cannot\n      // change this value (because diff between colors gets inflated), so no need to verify correctness.\n\n      v1 = v1 !== 0 ? v1 : 1; // Multiplying V in HSV model by a constant is equivalent to multiplying each component\n      // in RGB by the same constant (same for HSL), see also:\n      // https://beesbuzz.biz/code/16-hsv-color-transforms\n\n      vmul = (v2 << 12) / v1 | 0; // Result will be in [0..255] range because:\n      //  - all numbers are positive\n      //  - r,g,b <= (v1/256)\n      //  - r,g,b,(v1/256),(v2/256) <= 255\n      // So highest this number can get is X*255/X+0.5=255.5 which is < 256 and rounds down.\n\n      iTimes4 = i * 4;\n      img[iTimes4] = img[iTimes4] * vmul + 0x800 >> 12; // R\n\n      img[iTimes4 + 1] = img[iTimes4 + 1] * vmul + 0x800 >> 12; // G\n\n      img[iTimes4 + 2] = img[iTimes4 + 2] * vmul + 0x800 >> 12; // B\n    }\n  }\n};\n\n},{\"glur/mono16\":18}],11:[function(_dereq_,module,exports){\n'use strict';\n\nmodule.exports = function unsharp(img, width, height, amount, radius, threshold) {\n  if (amount === 0 || radius < 0.5) {\n    return;\n  }\n\n  if (radius > 2.0) {\n    radius = 2.0;\n  }\n\n  var pixels = width * height;\n  var img_bytes_cnt = pixels * 4;\n  var hsv_bytes_cnt = pixels * 2;\n  var blur_bytes_cnt = pixels * 2;\n  var blur_line_byte_cnt = Math.max(width, height) * 4; // float32 array\n\n  var blur_coeffs_byte_cnt = 8 * 4; // float32 array\n\n  var img_offset = 0;\n  var hsv_offset = img_bytes_cnt;\n  var blur_offset = hsv_offset + hsv_bytes_cnt;\n  var blur_tmp_offset = blur_offset + blur_bytes_cnt;\n  var blur_line_offset = blur_tmp_offset + blur_bytes_cnt;\n  var blur_coeffs_offset = blur_line_offset + blur_line_byte_cnt;\n\n  var instance = this.__instance('unsharp_mask', img_bytes_cnt + hsv_bytes_cnt + blur_bytes_cnt * 2 + blur_line_byte_cnt + blur_coeffs_byte_cnt, {\n    exp: Math.exp\n  }); // 32-bit copy is much faster in chrome\n\n\n  var img32 = new Uint32Array(img.buffer);\n  var mem32 = new Uint32Array(this.__memory.buffer);\n  mem32.set(img32); // HSL\n\n  var fn = instance.exports.hsv_v16 || instance.exports._hsv_v16;\n  fn(img_offset, hsv_offset, width, height); // BLUR\n\n  fn = instance.exports.blurMono16 || instance.exports._blurMono16;\n  fn(hsv_offset, blur_offset, blur_tmp_offset, blur_line_offset, blur_coeffs_offset, width, height, radius); // UNSHARP\n\n  fn = instance.exports.unsharp || instance.exports._unsharp;\n  fn(img_offset, img_offset, hsv_offset, blur_offset, width, height, amount, threshold); // 32-bit copy is much faster in chrome\n\n  img32.set(new Uint32Array(this.__memory.buffer, 0, pixels));\n};\n\n},{}],12:[function(_dereq_,module,exports){\n// This is autogenerated file from math.wasm, don't edit.\n//\n'use strict';\n/* eslint-disable max-len */\n\nmodule.exports = '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';\n\n},{}],13:[function(_dereq_,module,exports){\n'use strict';\n\nvar GC_INTERVAL = 100;\n\nfunction Pool(create, idle) {\n  this.create = create;\n  this.available = [];\n  this.acquired = {};\n  this.lastId = 1;\n  this.timeoutId = 0;\n  this.idle = idle || 2000;\n}\n\nPool.prototype.acquire = function () {\n  var _this = this;\n\n  var resource;\n\n  if (this.available.length !== 0) {\n    resource = this.available.pop();\n  } else {\n    resource = this.create();\n    resource.id = this.lastId++;\n\n    resource.release = function () {\n      return _this.release(resource);\n    };\n  }\n\n  this.acquired[resource.id] = resource;\n  return resource;\n};\n\nPool.prototype.release = function (resource) {\n  var _this2 = this;\n\n  delete this.acquired[resource.id];\n  resource.lastUsed = Date.now();\n  this.available.push(resource);\n\n  if (this.timeoutId === 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this2.gc();\n    }, GC_INTERVAL);\n  }\n};\n\nPool.prototype.gc = function () {\n  var _this3 = this;\n\n  var now = Date.now();\n  this.available = this.available.filter(function (resource) {\n    if (now - resource.lastUsed > _this3.idle) {\n      resource.destroy();\n      return false;\n    }\n\n    return true;\n  });\n\n  if (this.available.length !== 0) {\n    this.timeoutId = setTimeout(function () {\n      return _this3.gc();\n    }, GC_INTERVAL);\n  } else {\n    this.timeoutId = 0;\n  }\n};\n\nmodule.exports = Pool;\n\n},{}],14:[function(_dereq_,module,exports){\n// Add intermediate resizing steps when scaling down by a very large factor.\n//\n// For example, when resizing 10000x10000 down to 10x10, it'll resize it to\n// 300x300 first.\n//\n// It's needed because tiler has issues when the entire tile is scaled down\n// to a few pixels (1024px source tile with border size 3 should result in\n// at least 3+3+2 = 8px target tile, so max scale factor is 128 here).\n//\n// Also, adding intermediate steps can speed up processing if we use lower\n// quality algorithms for first stages.\n//\n'use strict'; // min size = 0 results in infinite loop,\n// min size = 1 can consume large amount of memory\n\nvar MIN_INNER_TILE_SIZE = 2;\n\nmodule.exports = function createStages(fromWidth, fromHeight, toWidth, toHeight, srcTileSize, destTileBorder) {\n  var scaleX = toWidth / fromWidth;\n  var scaleY = toHeight / fromHeight; // derived from createRegions equation:\n  // innerTileWidth = pixelFloor(srcTileSize * scaleX) - 2 * destTileBorder;\n\n  var minScale = (2 * destTileBorder + MIN_INNER_TILE_SIZE + 1) / srcTileSize; // refuse to scale image multiple times by less than twice each time,\n  // it could only happen because of invalid options\n\n  if (minScale > 0.5) return [[toWidth, toHeight]];\n  var stageCount = Math.ceil(Math.log(Math.min(scaleX, scaleY)) / Math.log(minScale)); // no additional resizes are necessary,\n  // stageCount can be zero or be negative when enlarging the image\n\n  if (stageCount <= 1) return [[toWidth, toHeight]];\n  var result = [];\n\n  for (var i = 0; i < stageCount; i++) {\n    var width = Math.round(Math.pow(Math.pow(fromWidth, stageCount - i - 1) * Math.pow(toWidth, i + 1), 1 / stageCount));\n    var height = Math.round(Math.pow(Math.pow(fromHeight, stageCount - i - 1) * Math.pow(toHeight, i + 1), 1 / stageCount));\n    result.push([width, height]);\n  }\n\n  return result;\n};\n\n},{}],15:[function(_dereq_,module,exports){\n// Split original image into multiple 1024x1024 chunks to reduce memory usage\n// (images have to be unpacked into typed arrays for resizing) and allow\n// parallel processing of multiple tiles at a time.\n//\n'use strict';\n/*\n * pixelFloor and pixelCeil are modified versions of Math.floor and Math.ceil\n * functions which take into account floating point arithmetic errors.\n * Those errors can cause undesired increments/decrements of sizes and offsets:\n * Math.ceil(36 / (36 / 500)) = 501\n * pixelCeil(36 / (36 / 500)) = 500\n */\n\nvar PIXEL_EPSILON = 1e-5;\n\nfunction pixelFloor(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.floor(x);\n}\n\nfunction pixelCeil(x) {\n  var nearest = Math.round(x);\n\n  if (Math.abs(x - nearest) < PIXEL_EPSILON) {\n    return nearest;\n  }\n\n  return Math.ceil(x);\n}\n\nmodule.exports = function createRegions(options) {\n  var scaleX = options.toWidth / options.width;\n  var scaleY = options.toHeight / options.height;\n  var innerTileWidth = pixelFloor(options.srcTileSize * scaleX) - 2 * options.destTileBorder;\n  var innerTileHeight = pixelFloor(options.srcTileSize * scaleY) - 2 * options.destTileBorder; // prevent infinite loop, this should never happen\n\n  if (innerTileWidth < 1 || innerTileHeight < 1) {\n    throw new Error('Internal error in pica: target tile width/height is too small.');\n  }\n\n  var x, y;\n  var innerX, innerY, toTileWidth, toTileHeight;\n  var tiles = [];\n  var tile; // we go top-to-down instead of left-to-right to make image displayed from top to\n  // doesn in the browser\n\n  for (innerY = 0; innerY < options.toHeight; innerY += innerTileHeight) {\n    for (innerX = 0; innerX < options.toWidth; innerX += innerTileWidth) {\n      x = innerX - options.destTileBorder;\n\n      if (x < 0) {\n        x = 0;\n      }\n\n      toTileWidth = innerX + innerTileWidth + options.destTileBorder - x;\n\n      if (x + toTileWidth >= options.toWidth) {\n        toTileWidth = options.toWidth - x;\n      }\n\n      y = innerY - options.destTileBorder;\n\n      if (y < 0) {\n        y = 0;\n      }\n\n      toTileHeight = innerY + innerTileHeight + options.destTileBorder - y;\n\n      if (y + toTileHeight >= options.toHeight) {\n        toTileHeight = options.toHeight - y;\n      }\n\n      tile = {\n        toX: x,\n        toY: y,\n        toWidth: toTileWidth,\n        toHeight: toTileHeight,\n        toInnerX: innerX,\n        toInnerY: innerY,\n        toInnerWidth: innerTileWidth,\n        toInnerHeight: innerTileHeight,\n        offsetX: x / scaleX - pixelFloor(x / scaleX),\n        offsetY: y / scaleY - pixelFloor(y / scaleY),\n        scaleX: scaleX,\n        scaleY: scaleY,\n        x: pixelFloor(x / scaleX),\n        y: pixelFloor(y / scaleY),\n        width: pixelCeil(toTileWidth / scaleX),\n        height: pixelCeil(toTileHeight / scaleY)\n      };\n      tiles.push(tile);\n    }\n  }\n\n  return tiles;\n};\n\n},{}],16:[function(_dereq_,module,exports){\n'use strict';\n\nfunction objClass(obj) {\n  return Object.prototype.toString.call(obj);\n}\n\nmodule.exports.isCanvas = function isCanvas(element) {\n  var cname = objClass(element);\n  return cname === '[object HTMLCanvasElement]'\n  /* browser */\n  || cname === '[object OffscreenCanvas]' || cname === '[object Canvas]'\n  /* node-canvas */\n  ;\n};\n\nmodule.exports.isImage = function isImage(element) {\n  return objClass(element) === '[object HTMLImageElement]';\n};\n\nmodule.exports.isImageBitmap = function isImageBitmap(element) {\n  return objClass(element) === '[object ImageBitmap]';\n};\n\nmodule.exports.limiter = function limiter(concurrency) {\n  var active = 0,\n      queue = [];\n\n  function roll() {\n    if (active < concurrency && queue.length) {\n      active++;\n      queue.shift()();\n    }\n  }\n\n  return function limit(fn) {\n    return new Promise(function (resolve, reject) {\n      queue.push(function () {\n        fn().then(function (result) {\n          resolve(result);\n          active--;\n          roll();\n        }, function (err) {\n          reject(err);\n          active--;\n          roll();\n        });\n      });\n      roll();\n    });\n  };\n};\n\nmodule.exports.cib_quality_name = function cib_quality_name(num) {\n  switch (num) {\n    case 0:\n      return 'pixelated';\n\n    case 1:\n      return 'low';\n\n    case 2:\n      return 'medium';\n  }\n\n  return 'high';\n};\n\nmodule.exports.cib_support = function cib_support(createCanvas) {\n  return Promise.resolve().then(function () {\n    if (typeof createImageBitmap === 'undefined') {\n      return false;\n    }\n\n    var c = createCanvas(100, 100);\n    return createImageBitmap(c, 0, 0, 100, 100, {\n      resizeWidth: 10,\n      resizeHeight: 10,\n      resizeQuality: 'high'\n    }).then(function (bitmap) {\n      var status = bitmap.width === 10; // Branch below is filtered on upper level. We do not call resize\n      // detection for basic ImageBitmap.\n      //\n      // https://developer.mozilla.org/en-US/docs/Web/API/ImageBitmap\n      // old Crome 51 has ImageBitmap without .close(). Then this code\n      // will throw and return 'false' as expected.\n      //\n\n      bitmap.close();\n      c = null;\n      return status;\n    });\n  })[\"catch\"](function () {\n    return false;\n  });\n};\n\nmodule.exports.worker_offscreen_canvas_support = function worker_offscreen_canvas_support() {\n  return new Promise(function (resolve, reject) {\n    if (typeof OffscreenCanvas === 'undefined') {\n      // if OffscreenCanvas is present, we assume browser supports Worker and built-in Promise as well\n      resolve(false);\n      return;\n    }\n\n    function workerPayload(self) {\n      if (typeof createImageBitmap === 'undefined') {\n        self.postMessage(false);\n        return;\n      }\n\n      Promise.resolve().then(function () {\n        var canvas = new OffscreenCanvas(10, 10); // test that 2d context can be used in worker\n\n        var ctx = canvas.getContext('2d');\n        ctx.rect(0, 0, 1, 1); // test that cib can be used to return image bitmap from worker\n\n        return createImageBitmap(canvas, 0, 0, 1, 1);\n      }).then(function () {\n        return self.postMessage(true);\n      }, function () {\n        return self.postMessage(false);\n      });\n    }\n\n    var code = btoa(\"(\".concat(workerPayload.toString(), \")(self);\"));\n    var w = new Worker(\"data:text/javascript;base64,\".concat(code));\n\n    w.onmessage = function (ev) {\n      return resolve(ev.data);\n    };\n\n    w.onerror = reject;\n  }).then(function (result) {\n    return result;\n  }, function () {\n    return false;\n  });\n}; // Check if canvas.getContext('2d').getImageData can be used,\n// FireFox randomizes the output of that function in `privacy.resistFingerprinting` mode\n\n\nmodule.exports.can_use_canvas = function can_use_canvas(createCanvas) {\n  var usable = false;\n\n  try {\n    var canvas = createCanvas(2, 1);\n    var ctx = canvas.getContext('2d');\n    var d = ctx.createImageData(2, 1);\n    d.data[0] = 12;\n    d.data[1] = 23;\n    d.data[2] = 34;\n    d.data[3] = 255;\n    d.data[4] = 45;\n    d.data[5] = 56;\n    d.data[6] = 67;\n    d.data[7] = 255;\n    ctx.putImageData(d, 0, 0);\n    d = null;\n    d = ctx.getImageData(0, 0, 2, 1);\n\n    if (d.data[0] === 12 && d.data[1] === 23 && d.data[2] === 34 && d.data[3] === 255 && d.data[4] === 45 && d.data[5] === 56 && d.data[6] === 67 && d.data[7] === 255) {\n      usable = true;\n    }\n  } catch (err) {}\n\n  return usable;\n}; // Check if createImageBitmap(img, sx, sy, sw, sh) signature works correctly\n// with JPEG images oriented with Exif;\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n// TODO: remove after it's fixed in chrome for at least 2 releases\n\n\nmodule.exports.cib_can_use_region = function cib_can_use_region() {\n  return new Promise(function (resolve) {\n    // `Image` check required for use in `ServiceWorker`\n    if (typeof Image === 'undefined' || typeof createImageBitmap === 'undefined') {\n      resolve(false);\n      return;\n    }\n\n    var image = new Image();\n    image.src = 'data:image/jpeg;base64,' + '/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAA' + 'AABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9' + 'sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRc' + 'ZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoa' + 'GhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRA' + 'f/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAA' + 'IQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAA' + 'AAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIB' + 'AT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAA' + 'AAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAA' + 'AAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQ' + 'QAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z';\n\n    image.onload = function () {\n      createImageBitmap(image, 0, 0, image.width, image.height).then(function (bitmap) {\n        if (bitmap.width === image.width && bitmap.height === image.height) {\n          resolve(true);\n        } else {\n          resolve(false);\n        }\n      }, function () {\n        return resolve(false);\n      });\n    };\n\n    image.onerror = function () {\n      return resolve(false);\n    };\n  });\n};\n\n},{}],17:[function(_dereq_,module,exports){\n// Web Worker wrapper for image resize function\n'use strict';\n\nmodule.exports = function () {\n  var MathLib = _dereq_('./mathlib');\n\n  var mathLib;\n  /* eslint-disable no-undef */\n\n  onmessage = function onmessage(ev) {\n    var tileOpts = ev.data.opts;\n    var returnBitmap = false;\n\n    if (!tileOpts.src && tileOpts.srcBitmap) {\n      var canvas = new OffscreenCanvas(tileOpts.width, tileOpts.height);\n      var ctx = canvas.getContext('2d');\n      ctx.drawImage(tileOpts.srcBitmap, 0, 0);\n      tileOpts.src = ctx.getImageData(0, 0, tileOpts.width, tileOpts.height).data;\n      canvas.width = canvas.height = 0;\n      canvas = null;\n      tileOpts.srcBitmap.close();\n      tileOpts.srcBitmap = null; // Temporary force out data to typed array, because Chrome have artefacts\n      // https://github.com/nodeca/pica/issues/223\n      // returnBitmap = true;\n    }\n\n    if (!mathLib) mathLib = new MathLib(ev.data.features); // Use multimath's sync auto-init. Avoid Promise use in old browsers,\n    // because polyfills are not propagated to webworker.\n\n    var data = mathLib.resizeAndUnsharp(tileOpts);\n\n    if (returnBitmap) {\n      var toImageData = new ImageData(new Uint8ClampedArray(data), tileOpts.toWidth, tileOpts.toHeight);\n\n      var _canvas = new OffscreenCanvas(tileOpts.toWidth, tileOpts.toHeight);\n\n      var _ctx = _canvas.getContext('2d');\n\n      _ctx.putImageData(toImageData, 0, 0);\n\n      createImageBitmap(_canvas).then(function (bitmap) {\n        postMessage({\n          bitmap: bitmap\n        }, [bitmap]);\n      });\n    } else {\n      postMessage({\n        data: data\n      }, [data.buffer]);\n    }\n  };\n};\n\n},{\"./mathlib\":1}],18:[function(_dereq_,module,exports){\n// Calculate Gaussian blur of an image using IIR filter\n// The method is taken from Intel's white paper and code example attached to it:\n// https://software.intel.com/en-us/articles/iir-gaussian-blur-filter\n// -implementation-using-intel-advanced-vector-extensions\n\nvar a0, a1, a2, a3, b1, b2, left_corner, right_corner;\n\nfunction gaussCoef(sigma) {\n  if (sigma < 0.5) {\n    sigma = 0.5;\n  }\n\n  var a = Math.exp(0.726 * 0.726) / sigma,\n      g1 = Math.exp(-a),\n      g2 = Math.exp(-2 * a),\n      k = (1 - g1) * (1 - g1) / (1 + 2 * a * g1 - g2);\n\n  a0 = k;\n  a1 = k * (a - 1) * g1;\n  a2 = k * (a + 1) * g1;\n  a3 = -k * g2;\n  b1 = 2 * g1;\n  b2 = -g2;\n  left_corner = (a0 + a1) / (1 - b1 - b2);\n  right_corner = (a2 + a3) / (1 - b1 - b2);\n\n  // Attempt to force type to FP32.\n  return new Float32Array([ a0, a1, a2, a3, b1, b2, left_corner, right_corner ]);\n}\n\nfunction convolveMono16(src, out, line, coeff, width, height) {\n  // takes src image and writes the blurred and transposed result into out\n\n  var prev_src, curr_src, curr_out, prev_out, prev_prev_out;\n  var src_index, out_index, line_index;\n  var i, j;\n  var coeff_a0, coeff_a1, coeff_b1, coeff_b2;\n\n  for (i = 0; i < height; i++) {\n    src_index = i * width;\n    out_index = i;\n    line_index = 0;\n\n    // left to right\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[6];\n    prev_out = prev_prev_out;\n\n    coeff_a0 = coeff[0];\n    coeff_a1 = coeff[1];\n    coeff_b1 = coeff[4];\n    coeff_b2 = coeff[5];\n\n    for (j = 0; j < width; j++) {\n      curr_src = src[src_index];\n\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n      prev_src = curr_src;\n\n      line[line_index] = prev_out;\n      line_index++;\n      src_index++;\n    }\n\n    src_index--;\n    line_index--;\n    out_index += height * (width - 1);\n\n    // right to left\n    prev_src = src[src_index];\n    prev_prev_out = prev_src * coeff[7];\n    prev_out = prev_prev_out;\n    curr_src = prev_src;\n\n    coeff_a0 = coeff[2];\n    coeff_a1 = coeff[3];\n\n    for (j = width - 1; j >= 0; j--) {\n      curr_out = curr_src * coeff_a0 +\n                 prev_src * coeff_a1 +\n                 prev_out * coeff_b1 +\n                 prev_prev_out * coeff_b2;\n\n      prev_prev_out = prev_out;\n      prev_out = curr_out;\n\n      prev_src = curr_src;\n      curr_src = src[src_index];\n\n      out[out_index] = line[line_index] + prev_out;\n\n      src_index--;\n      line_index--;\n      out_index -= height;\n    }\n  }\n}\n\n\nfunction blurMono16(src, width, height, radius) {\n  // Quick exit on zero radius\n  if (!radius) { return; }\n\n  var out      = new Uint16Array(src.length),\n      tmp_line = new Float32Array(Math.max(width, height));\n\n  var coeff = gaussCoef(radius);\n\n  convolveMono16(src, out, tmp_line, coeff, width, height, radius);\n  convolveMono16(out, src, tmp_line, coeff, height, width, radius);\n}\n\nmodule.exports = blurMono16;\n\n},{}],19:[function(_dereq_,module,exports){\n'use strict';\n\n\nvar assign         = _dereq_('object-assign');\nvar base64decode   = _dereq_('./lib/base64decode');\nvar hasWebAssembly = _dereq_('./lib/wa_detect');\n\n\nvar DEFAULT_OPTIONS = {\n  js: true,\n  wasm: true\n};\n\n\nfunction MultiMath(options) {\n  if (!(this instanceof MultiMath)) return new MultiMath(options);\n\n  var opts = assign({}, DEFAULT_OPTIONS, options || {});\n\n  this.options         = opts;\n\n  this.__cache         = {};\n\n  this.__init_promise  = null;\n  this.__modules       = opts.modules || {};\n  this.__memory        = null;\n  this.__wasm          = {};\n\n  this.__isLE = ((new Uint32Array((new Uint8Array([ 1, 0, 0, 0 ])).buffer))[0] === 1);\n\n  if (!this.options.js && !this.options.wasm) {\n    throw new Error('mathlib: at least \"js\" or \"wasm\" should be enabled');\n  }\n}\n\n\nMultiMath.prototype.has_wasm = hasWebAssembly;\n\n\nMultiMath.prototype.use = function (module) {\n  this.__modules[module.name] = module;\n\n  // Pin the best possible implementation\n  if (this.options.wasm && this.has_wasm() && module.wasm_fn) {\n    this[module.name] = module.wasm_fn;\n  } else {\n    this[module.name] = module.fn;\n  }\n\n  return this;\n};\n\n\nMultiMath.prototype.init = function () {\n  if (this.__init_promise) return this.__init_promise;\n\n  if (!this.options.js && this.options.wasm && !this.has_wasm()) {\n    return Promise.reject(new Error('mathlib: only \"wasm\" was enabled, but it\\'s not supported'));\n  }\n\n  var self = this;\n\n  this.__init_promise = Promise.all(Object.keys(self.__modules).map(function (name) {\n    var module = self.__modules[name];\n\n    if (!self.options.wasm || !self.has_wasm() || !module.wasm_fn) return null;\n\n    // If already compiled - exit\n    if (self.__wasm[name]) return null;\n\n    // Compile wasm source\n    return WebAssembly.compile(self.__base64decode(module.wasm_src))\n      .then(function (m) { self.__wasm[name] = m; });\n  }))\n    .then(function () { return self; });\n\n  return this.__init_promise;\n};\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Methods below are for internal use from plugins\n\n\n// Simple decode base64 to typed array. Useful to load embedded webassembly\n// code. You probably don't need to call this method directly.\n//\nMultiMath.prototype.__base64decode = base64decode;\n\n\n// Increase current memory to include specified number of bytes. Do nothing if\n// size is already ok. You probably don't need to call this method directly,\n// because it will be invoked from `.__instance()`.\n//\nMultiMath.prototype.__reallocate = function mem_grow_to(bytes) {\n  if (!this.__memory) {\n    this.__memory = new WebAssembly.Memory({\n      initial: Math.ceil(bytes / (64 * 1024))\n    });\n    return this.__memory;\n  }\n\n  var mem_size = this.__memory.buffer.byteLength;\n\n  if (mem_size < bytes) {\n    this.__memory.grow(Math.ceil((bytes - mem_size) / (64 * 1024)));\n  }\n\n  return this.__memory;\n};\n\n\n// Returns instantinated webassembly item by name, with specified memory size\n// and environment.\n// - use cache if available\n// - do sync module init, if async init was not called earlier\n// - allocate memory if not enougth\n// - can export functions to webassembly via \"env_extra\",\n//   for example, { exp: Math.exp }\n//\nMultiMath.prototype.__instance = function instance(name, memsize, env_extra) {\n  if (memsize) this.__reallocate(memsize);\n\n  // If .init() was not called, do sync compile\n  if (!this.__wasm[name]) {\n    var module = this.__modules[name];\n    this.__wasm[name] = new WebAssembly.Module(this.__base64decode(module.wasm_src));\n  }\n\n  if (!this.__cache[name]) {\n    var env_base = {\n      memoryBase: 0,\n      memory: this.__memory,\n      tableBase: 0,\n      table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' })\n    };\n\n    this.__cache[name] = new WebAssembly.Instance(this.__wasm[name], {\n      env: assign(env_base, env_extra || {})\n    });\n  }\n\n  return this.__cache[name];\n};\n\n\n// Helper to calculate memory aligh for pointers. Webassembly does not require\n// this, but you may wish to experiment. Default base = 8;\n//\nMultiMath.prototype.__align = function align(number, base) {\n  base = base || 8;\n  var reminder = number % base;\n  return number + (reminder ? base - reminder : 0);\n};\n\n\nmodule.exports = MultiMath;\n\n},{\"./lib/base64decode\":20,\"./lib/wa_detect\":21,\"object-assign\":22}],20:[function(_dereq_,module,exports){\n// base64 decode str -> Uint8Array, to load WA modules\n//\n'use strict';\n\n\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n\nmodule.exports = function base64decode(str) {\n  var input = str.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max   = input.length;\n\n  var out = new Uint8Array((max * 3) >> 2);\n\n  // Collect by 6*4 bits (3 bytes)\n\n  var bits = 0;\n  var ptr  = 0;\n\n  for (var idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      out[ptr++] = (bits >> 16) & 0xFF;\n      out[ptr++] = (bits >> 8) & 0xFF;\n      out[ptr++] = bits & 0xFF;\n    }\n\n    bits = (bits << 6) | BASE64_MAP.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  var tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    out[ptr++] = (bits >> 16) & 0xFF;\n    out[ptr++] = (bits >> 8) & 0xFF;\n    out[ptr++] = bits & 0xFF;\n  } else if (tailbits === 18) {\n    out[ptr++] = (bits >> 10) & 0xFF;\n    out[ptr++] = (bits >> 2) & 0xFF;\n  } else if (tailbits === 12) {\n    out[ptr++] = (bits >> 4) & 0xFF;\n  }\n\n  return out;\n};\n\n},{}],21:[function(_dereq_,module,exports){\n// Detect WebAssembly support.\n// - Check global WebAssembly object\n// - Try to load simple module (can be disabled via CSP)\n//\n'use strict';\n\n\nvar wa;\n\n\nmodule.exports = function hasWebAssembly() {\n  // use cache if called before;\n  if (typeof wa !== 'undefined') return wa;\n\n  wa = false;\n\n  if (typeof WebAssembly === 'undefined') return wa;\n\n  // If WebAssenbly is disabled, code can throw on compile\n  try {\n    // https://github.com/brion/min-wasm-fail/blob/master/min-wasm-fail.in.js\n    // Additional check that WA internals are correct\n\n    /* eslint-disable comma-spacing, max-len */\n    var bin      = new Uint8Array([ 0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11 ]);\n    var module   = new WebAssembly.Module(bin);\n    var instance = new WebAssembly.Instance(module, {});\n\n    // test storing to and loading from a non-zero location via a parameter.\n    // Safari on iOS 11.2.5 returns 0 unexpectedly at non-zero locations\n    if (instance.exports.test(4) !== 0) wa = true;\n\n    return wa;\n  } catch (__) {}\n\n  return wa;\n};\n\n},{}],22:[function(_dereq_,module,exports){\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n},{}],23:[function(_dereq_,module,exports){\nvar bundleFn = arguments[3];\nvar sources = arguments[4];\nvar cache = arguments[5];\n\nvar stringify = JSON.stringify;\n\nmodule.exports = function (fn, options) {\n    var wkey;\n    var cacheKeys = Object.keys(cache);\n\n    for (var i = 0, l = cacheKeys.length; i < l; i++) {\n        var key = cacheKeys[i];\n        var exp = cache[key].exports;\n        // Using babel as a transpiler to use esmodule, the export will always\n        // be an object with the default export as a property of it. To ensure\n        // the existing api and babel esmodule exports are both supported we\n        // check for both\n        if (exp === fn || exp && exp.default === fn) {\n            wkey = key;\n            break;\n        }\n    }\n\n    if (!wkey) {\n        wkey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n        var wcache = {};\n        for (var i = 0, l = cacheKeys.length; i < l; i++) {\n            var key = cacheKeys[i];\n            wcache[key] = key;\n        }\n        sources[wkey] = [\n            'function(require,module,exports){' + fn + '(self); }',\n            wcache\n        ];\n    }\n    var skey = Math.floor(Math.pow(16, 8) * Math.random()).toString(16);\n\n    var scache = {}; scache[wkey] = wkey;\n    sources[skey] = [\n        'function(require,module,exports){' +\n            // try to call default if defined to also support babel esmodule exports\n            'var f = require(' + stringify(wkey) + ');' +\n            '(f.default ? f.default : f)(self);' +\n        '}',\n        scache\n    ];\n\n    var workerSources = {};\n    resolveSources(skey);\n\n    function resolveSources(key) {\n        workerSources[key] = true;\n\n        for (var depPath in sources[key][1]) {\n            var depKey = sources[key][1][depPath];\n            if (!workerSources[depKey]) {\n                resolveSources(depKey);\n            }\n        }\n    }\n\n    var src = '(' + bundleFn + ')({'\n        + Object.keys(workerSources).map(function (key) {\n            return stringify(key) + ':['\n                + sources[key][0]\n                + ',' + stringify(sources[key][1]) + ']'\n            ;\n        }).join(',')\n        + '},{},[' + stringify(skey) + '])'\n    ;\n\n    var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n    var blob = new Blob([src], { type: 'text/javascript' });\n    if (options && options.bare) { return blob; }\n    var workerUrl = URL.createObjectURL(blob);\n    var worker = new Worker(workerUrl);\n    worker.objectURL = workerUrl;\n    return worker;\n};\n\n},{}],\"/index.js\":[function(_dereq_,module,exports){\n'use strict';\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar assign = _dereq_('object-assign');\n\nvar webworkify = _dereq_('webworkify');\n\nvar MathLib = _dereq_('./lib/mathlib');\n\nvar Pool = _dereq_('./lib/pool');\n\nvar utils = _dereq_('./lib/utils');\n\nvar worker = _dereq_('./lib/worker');\n\nvar createStages = _dereq_('./lib/stepper');\n\nvar createRegions = _dereq_('./lib/tiler');\n\nvar filter_info = _dereq_('./lib/mm_resize/resize_filter_info'); // Deduplicate pools & limiters with the same configs\n// when user creates multiple pica instances.\n\n\nvar singletones = {};\nvar NEED_SAFARI_FIX = false;\n\ntry {\n  if (typeof navigator !== 'undefined' && navigator.userAgent) {\n    NEED_SAFARI_FIX = navigator.userAgent.indexOf('Safari') >= 0;\n  }\n} catch (e) {}\n\nvar concurrency = 1;\n\nif (typeof navigator !== 'undefined') {\n  concurrency = Math.min(navigator.hardwareConcurrency || 1, 4);\n}\n\nvar DEFAULT_PICA_OPTS = {\n  tile: 1024,\n  concurrency: concurrency,\n  features: ['js', 'wasm', 'ww'],\n  idle: 2000,\n  createCanvas: function createCanvas(width, height) {\n    var tmpCanvas = document.createElement('canvas');\n    tmpCanvas.width = width;\n    tmpCanvas.height = height;\n    return tmpCanvas;\n  }\n};\nvar DEFAULT_RESIZE_OPTS = {\n  filter: 'mks2013',\n  unsharpAmount: 0,\n  unsharpRadius: 0.0,\n  unsharpThreshold: 0\n};\nvar CAN_NEW_IMAGE_DATA = false;\nvar CAN_CREATE_IMAGE_BITMAP = false;\nvar CAN_USE_CANVAS_GET_IMAGE_DATA = false;\nvar CAN_USE_OFFSCREEN_CANVAS = false;\nvar CAN_USE_CIB_REGION_FOR_IMAGE = false;\n\nfunction workerFabric() {\n  return {\n    value: webworkify(worker),\n    destroy: function destroy() {\n      this.value.terminate();\n\n      if (typeof window !== 'undefined') {\n        var url = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n        if (url && url.revokeObjectURL && this.value.objectURL) {\n          url.revokeObjectURL(this.value.objectURL);\n        }\n      }\n    }\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n// API methods\n\n\nfunction Pica(options) {\n  if (!(this instanceof Pica)) return new Pica(options);\n  this.options = assign({}, DEFAULT_PICA_OPTS, options || {});\n  var limiter_key = \"lk_\".concat(this.options.concurrency); // Share limiters to avoid multiple parallel workers when user creates\n  // multiple pica instances.\n\n  this.__limit = singletones[limiter_key] || utils.limiter(this.options.concurrency);\n  if (!singletones[limiter_key]) singletones[limiter_key] = this.__limit; // List of supported features, according to options & browser/node.js\n\n  this.features = {\n    js: false,\n    // pure JS implementation, can be disabled for testing\n    wasm: false,\n    // webassembly implementation for heavy functions\n    cib: false,\n    // resize via createImageBitmap (only FF at this moment)\n    ww: false // webworkers\n\n  };\n  this.__workersPool = null; // Store requested features for webworkers\n\n  this.__requested_features = [];\n  this.__mathlib = null;\n}\n\nPica.prototype.init = function () {\n  var _this = this;\n\n  if (this.__initPromise) return this.__initPromise; // Test if we can create ImageData without canvas and memory copy\n\n  if (typeof ImageData !== 'undefined' && typeof Uint8ClampedArray !== 'undefined') {\n    try {\n      /* eslint-disable no-new */\n      new ImageData(new Uint8ClampedArray(400), 10, 10);\n      CAN_NEW_IMAGE_DATA = true;\n    } catch (__) {}\n  } // ImageBitmap can be effective in 2 places:\n  //\n  // 1. Threaded jpeg unpack (basic)\n  // 2. Built-in resize (blocked due problem in chrome, see issue #89)\n  //\n  // For basic use we also need ImageBitmap wo support .close() method,\n  // see https://developer.mozilla.org/ru/docs/Web/API/ImageBitmap\n\n\n  if (typeof ImageBitmap !== 'undefined') {\n    if (ImageBitmap.prototype && ImageBitmap.prototype.close) {\n      CAN_CREATE_IMAGE_BITMAP = true;\n    } else {\n      this.debug('ImageBitmap does not support .close(), disabled');\n    }\n  }\n\n  var features = this.options.features.slice();\n\n  if (features.indexOf('all') >= 0) {\n    features = ['cib', 'wasm', 'js', 'ww'];\n  }\n\n  this.__requested_features = features;\n  this.__mathlib = new MathLib(features); // Check WebWorker support if requested\n\n  if (features.indexOf('ww') >= 0) {\n    if (typeof window !== 'undefined' && 'Worker' in window) {\n      // IE <= 11 don't allow to create webworkers from string. We should check it.\n      // https://connect.microsoft.com/IE/feedback/details/801810/web-workers-from-blob-urls-in-ie-10-and-11\n      try {\n        var wkr = _dereq_('webworkify')(function () {});\n\n        wkr.terminate();\n        this.features.ww = true; // pool uniqueness depends on pool config + webworker config\n\n        var wpool_key = \"wp_\".concat(JSON.stringify(this.options));\n\n        if (singletones[wpool_key]) {\n          this.__workersPool = singletones[wpool_key];\n        } else {\n          this.__workersPool = new Pool(workerFabric, this.options.idle);\n          singletones[wpool_key] = this.__workersPool;\n        }\n      } catch (__) {}\n    }\n  }\n\n  var initMath = this.__mathlib.init().then(function (mathlib) {\n    // Copy detected features\n    assign(_this.features, mathlib.features);\n  });\n\n  var checkCibResize;\n\n  if (!CAN_CREATE_IMAGE_BITMAP) {\n    checkCibResize = Promise.resolve(false);\n  } else {\n    checkCibResize = utils.cib_support(this.options.createCanvas).then(function (status) {\n      if (_this.features.cib && features.indexOf('cib') < 0) {\n        _this.debug('createImageBitmap() resize supported, but disabled by config');\n\n        return;\n      }\n\n      if (features.indexOf('cib') >= 0) _this.features.cib = status;\n    });\n  }\n\n  CAN_USE_CANVAS_GET_IMAGE_DATA = utils.can_use_canvas(this.options.createCanvas);\n  var checkOffscreenCanvas;\n\n  if (CAN_CREATE_IMAGE_BITMAP && CAN_NEW_IMAGE_DATA && features.indexOf('ww') !== -1) {\n    checkOffscreenCanvas = utils.worker_offscreen_canvas_support();\n  } else {\n    checkOffscreenCanvas = Promise.resolve(false);\n  }\n\n  checkOffscreenCanvas = checkOffscreenCanvas.then(function (result) {\n    CAN_USE_OFFSCREEN_CANVAS = result;\n  }); // we use createImageBitmap to crop image data and pass it to workers,\n  // so need to check whether function works correctly;\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n\n  var checkCibRegion = utils.cib_can_use_region().then(function (result) {\n    CAN_USE_CIB_REGION_FOR_IMAGE = result;\n  }); // Init math lib. That's async because can load some\n\n  this.__initPromise = Promise.all([initMath, checkCibResize, checkOffscreenCanvas, checkCibRegion]).then(function () {\n    return _this;\n  });\n  return this.__initPromise;\n}; // Call resizer in webworker or locally, depending on config\n\n\nPica.prototype.__invokeResize = function (tileOpts, opts) {\n  var _this2 = this;\n\n  // Share cache between calls:\n  //\n  // - wasm instance\n  // - wasm memory object\n  //\n  opts.__mathCache = opts.__mathCache || {};\n  return Promise.resolve().then(function () {\n    if (!_this2.features.ww) {\n      // not possible to have ImageBitmap here if user disabled WW\n      return {\n        data: _this2.__mathlib.resizeAndUnsharp(tileOpts, opts.__mathCache)\n      };\n    }\n\n    return new Promise(function (resolve, reject) {\n      var w = _this2.__workersPool.acquire();\n\n      if (opts.cancelToken) opts.cancelToken[\"catch\"](function (err) {\n        return reject(err);\n      });\n\n      w.value.onmessage = function (ev) {\n        w.release();\n        if (ev.data.err) reject(ev.data.err);else resolve(ev.data);\n      };\n\n      var transfer = [];\n      if (tileOpts.src) transfer.push(tileOpts.src.buffer);\n      if (tileOpts.srcBitmap) transfer.push(tileOpts.srcBitmap);\n      w.value.postMessage({\n        opts: tileOpts,\n        features: _this2.__requested_features,\n        preload: {\n          wasm_nodule: _this2.__mathlib.__\n        }\n      }, transfer);\n    });\n  });\n}; // this function can return promise if createImageBitmap is used\n\n\nPica.prototype.__extractTileData = function (tile, from, opts, stageEnv, extractTo) {\n  if (this.features.ww && CAN_USE_OFFSCREEN_CANVAS && ( // createImageBitmap doesn't work for images (Image, ImageBitmap) with Exif orientation in Chrome,\n  // can use canvas because canvas doesn't have orientation;\n  // see https://bugs.chromium.org/p/chromium/issues/detail?id=1220671\n  utils.isCanvas(from) || CAN_USE_CIB_REGION_FOR_IMAGE)) {\n    this.debug('Create tile for OffscreenCanvas');\n    return createImageBitmap(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height).then(function (bitmap) {\n      extractTo.srcBitmap = bitmap;\n      return extractTo;\n    });\n  } // Extract tile RGBA buffer, depending on input type\n\n\n  if (utils.isCanvas(from)) {\n    if (!stageEnv.srcCtx) stageEnv.srcCtx = from.getContext('2d'); // If input is Canvas - extract region data directly\n\n    this.debug('Get tile pixel data');\n    extractTo.src = stageEnv.srcCtx.getImageData(tile.x, tile.y, tile.width, tile.height).data;\n    return extractTo;\n  } // If input is Image or decoded to ImageBitmap,\n  // draw region to temporary canvas and extract data from it\n  //\n  // Note! Attempt to reuse this canvas causes significant slowdown in chrome\n  //\n\n\n  this.debug('Draw tile imageBitmap/image to temporary canvas');\n  var tmpCanvas = this.options.createCanvas(tile.width, tile.height);\n  var tmpCtx = tmpCanvas.getContext('2d');\n  tmpCtx.globalCompositeOperation = 'copy';\n  tmpCtx.drawImage(stageEnv.srcImageBitmap || from, tile.x, tile.y, tile.width, tile.height, 0, 0, tile.width, tile.height);\n  this.debug('Get tile pixel data');\n  extractTo.src = tmpCtx.getImageData(0, 0, tile.width, tile.height).data; // Safari 12 workaround\n  // https://github.com/nodeca/pica/issues/199\n\n  tmpCanvas.width = tmpCanvas.height = 0;\n  return extractTo;\n};\n\nPica.prototype.__landTileData = function (tile, result, stageEnv) {\n  var toImageData;\n  this.debug('Convert raw rgba tile result to ImageData');\n\n  if (result.bitmap) {\n    stageEnv.toCtx.drawImage(result.bitmap, tile.toX, tile.toY);\n    return null;\n  }\n\n  if (CAN_NEW_IMAGE_DATA) {\n    // this branch is for modern browsers\n    // If `new ImageData()` & Uint8ClampedArray suported\n    toImageData = new ImageData(new Uint8ClampedArray(result.data), tile.toWidth, tile.toHeight);\n  } else {\n    // fallback for `node-canvas` and old browsers\n    // (IE11 has ImageData but does not support `new ImageData()`)\n    toImageData = stageEnv.toCtx.createImageData(tile.toWidth, tile.toHeight);\n\n    if (toImageData.data.set) {\n      toImageData.data.set(result.data);\n    } else {\n      // IE9 don't have `.set()`\n      for (var i = toImageData.data.length - 1; i >= 0; i--) {\n        toImageData.data[i] = result.data[i];\n      }\n    }\n  }\n\n  this.debug('Draw tile');\n\n  if (NEED_SAFARI_FIX) {\n    // Safari draws thin white stripes between tiles without this fix\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth + 1e-5, tile.toInnerHeight + 1e-5);\n  } else {\n    stageEnv.toCtx.putImageData(toImageData, tile.toX, tile.toY, tile.toInnerX - tile.toX, tile.toInnerY - tile.toY, tile.toInnerWidth, tile.toInnerHeight);\n  }\n\n  return null;\n};\n\nPica.prototype.__tileAndResize = function (from, to, opts) {\n  var _this3 = this;\n\n  var stageEnv = {\n    srcCtx: null,\n    srcImageBitmap: null,\n    isImageBitmapReused: false,\n    toCtx: null\n  };\n\n  var processTile = function processTile(tile) {\n    return _this3.__limit(function () {\n      if (opts.canceled) return opts.cancelToken;\n      var tileOpts = {\n        width: tile.width,\n        height: tile.height,\n        toWidth: tile.toWidth,\n        toHeight: tile.toHeight,\n        scaleX: tile.scaleX,\n        scaleY: tile.scaleY,\n        offsetX: tile.offsetX,\n        offsetY: tile.offsetY,\n        filter: opts.filter,\n        unsharpAmount: opts.unsharpAmount,\n        unsharpRadius: opts.unsharpRadius,\n        unsharpThreshold: opts.unsharpThreshold\n      };\n\n      _this3.debug('Invoke resize math');\n\n      return Promise.resolve(tileOpts).then(function (tileOpts) {\n        return _this3.__extractTileData(tile, from, opts, stageEnv, tileOpts);\n      }).then(function (tileOpts) {\n        _this3.debug('Invoke resize math');\n\n        return _this3.__invokeResize(tileOpts, opts);\n      }).then(function (result) {\n        if (opts.canceled) return opts.cancelToken;\n        stageEnv.srcImageData = null;\n        return _this3.__landTileData(tile, result, stageEnv);\n      });\n    });\n  }; // Need to normalize data source first. It can be canvas or image.\n  // If image - try to decode in background if possible\n\n\n  return Promise.resolve().then(function () {\n    stageEnv.toCtx = to.getContext('2d');\n    if (utils.isCanvas(from)) return null;\n\n    if (utils.isImageBitmap(from)) {\n      stageEnv.srcImageBitmap = from;\n      stageEnv.isImageBitmapReused = true;\n      return null;\n    }\n\n    if (utils.isImage(from)) {\n      // try do decode image in background for faster next operations;\n      // if we're using offscreen canvas, cib is called per tile, so not needed here\n      if (!CAN_CREATE_IMAGE_BITMAP) return null;\n\n      _this3.debug('Decode image via createImageBitmap');\n\n      return createImageBitmap(from).then(function (imageBitmap) {\n        stageEnv.srcImageBitmap = imageBitmap;\n      }) // Suppress error to use fallback, if method fails\n      // https://github.com/nodeca/pica/issues/190\n\n      /* eslint-disable no-unused-vars */\n      [\"catch\"](function (e) {\n        return null;\n      });\n    }\n\n    throw new Error('Pica: \".from\" should be Image, Canvas or ImageBitmap');\n  }).then(function () {\n    if (opts.canceled) return opts.cancelToken;\n\n    _this3.debug('Calculate tiles'); //\n    // Here we are with \"normalized\" source,\n    // follow to tiling\n    //\n\n\n    var regions = createRegions({\n      width: opts.width,\n      height: opts.height,\n      srcTileSize: _this3.options.tile,\n      toWidth: opts.toWidth,\n      toHeight: opts.toHeight,\n      destTileBorder: opts.__destTileBorder\n    });\n    var jobs = regions.map(function (tile) {\n      return processTile(tile);\n    });\n\n    function cleanup(stageEnv) {\n      if (stageEnv.srcImageBitmap) {\n        if (!stageEnv.isImageBitmapReused) stageEnv.srcImageBitmap.close();\n        stageEnv.srcImageBitmap = null;\n      }\n    }\n\n    _this3.debug('Process tiles');\n\n    return Promise.all(jobs).then(function () {\n      _this3.debug('Finished!');\n\n      cleanup(stageEnv);\n      return to;\n    }, function (err) {\n      cleanup(stageEnv);\n      throw err;\n    });\n  });\n};\n\nPica.prototype.__processStages = function (stages, from, to, opts) {\n  var _this4 = this;\n\n  if (opts.canceled) return opts.cancelToken;\n\n  var _stages$shift = stages.shift(),\n      _stages$shift2 = _slicedToArray(_stages$shift, 2),\n      toWidth = _stages$shift2[0],\n      toHeight = _stages$shift2[1];\n\n  var isLastStage = stages.length === 0; // Optimization for legacy filters -\n  // only use user-defined quality for the last stage,\n  // use simpler (Hamming) filter for the first stages where\n  // scale factor is large enough (more than 2-3)\n  //\n  // For advanced filters (mks2013 and custom) - skip optimization,\n  // because need to apply sharpening every time\n\n  var filter;\n  if (isLastStage || filter_info.q2f.indexOf(opts.filter) < 0) filter = opts.filter;else if (opts.filter === 'box') filter = 'box';else filter = 'hamming';\n  opts = assign({}, opts, {\n    toWidth: toWidth,\n    toHeight: toHeight,\n    filter: filter\n  });\n  var tmpCanvas;\n\n  if (!isLastStage) {\n    // create temporary canvas\n    tmpCanvas = this.options.createCanvas(toWidth, toHeight);\n  }\n\n  return this.__tileAndResize(from, isLastStage ? to : tmpCanvas, opts).then(function () {\n    if (isLastStage) return to;\n    opts.width = toWidth;\n    opts.height = toHeight;\n    return _this4.__processStages(stages, tmpCanvas, to, opts);\n  }).then(function (res) {\n    if (tmpCanvas) {\n      // Safari 12 workaround\n      // https://github.com/nodeca/pica/issues/199\n      tmpCanvas.width = tmpCanvas.height = 0;\n    }\n\n    return res;\n  });\n};\n\nPica.prototype.__resizeViaCreateImageBitmap = function (from, to, opts) {\n  var _this5 = this;\n\n  var toCtx = to.getContext('2d');\n  this.debug('Resize via createImageBitmap()');\n  return createImageBitmap(from, {\n    resizeWidth: opts.toWidth,\n    resizeHeight: opts.toHeight,\n    resizeQuality: utils.cib_quality_name(filter_info.f2q[opts.filter])\n  }).then(function (imageBitmap) {\n    if (opts.canceled) return opts.cancelToken; // if no unsharp - draw directly to output canvas\n\n    if (!opts.unsharpAmount) {\n      toCtx.drawImage(imageBitmap, 0, 0);\n      imageBitmap.close();\n      toCtx = null;\n\n      _this5.debug('Finished!');\n\n      return to;\n    }\n\n    _this5.debug('Unsharp result');\n\n    var tmpCanvas = _this5.options.createCanvas(opts.toWidth, opts.toHeight);\n\n    var tmpCtx = tmpCanvas.getContext('2d');\n    tmpCtx.drawImage(imageBitmap, 0, 0);\n    imageBitmap.close();\n    var iData = tmpCtx.getImageData(0, 0, opts.toWidth, opts.toHeight);\n\n    _this5.__mathlib.unsharp_mask(iData.data, opts.toWidth, opts.toHeight, opts.unsharpAmount, opts.unsharpRadius, opts.unsharpThreshold);\n\n    toCtx.putImageData(iData, 0, 0); // Safari 12 workaround\n    // https://github.com/nodeca/pica/issues/199\n\n    tmpCanvas.width = tmpCanvas.height = 0;\n    iData = tmpCtx = tmpCanvas = toCtx = null;\n\n    _this5.debug('Finished!');\n\n    return to;\n  });\n};\n\nPica.prototype.resize = function (from, to, options) {\n  var _this6 = this;\n\n  this.debug('Start resize...');\n  var opts = assign({}, DEFAULT_RESIZE_OPTS);\n\n  if (!isNaN(options)) {\n    opts = assign(opts, {\n      quality: options\n    });\n  } else if (options) {\n    opts = assign(opts, options);\n  }\n\n  opts.toWidth = to.width;\n  opts.toHeight = to.height;\n  opts.width = from.naturalWidth || from.width;\n  opts.height = from.naturalHeight || from.height; // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  } // Prevent stepper from infinite loop\n\n\n  if (to.width === 0 || to.height === 0) {\n    return Promise.reject(new Error(\"Invalid output size: \".concat(to.width, \"x\").concat(to.height)));\n  }\n\n  if (opts.unsharpRadius > 2) opts.unsharpRadius = 2;\n  opts.canceled = false;\n\n  if (opts.cancelToken) {\n    // Wrap cancelToken to avoid successive resolve & set flag\n    opts.cancelToken = opts.cancelToken.then(function (data) {\n      opts.canceled = true;\n      throw data;\n    }, function (err) {\n      opts.canceled = true;\n      throw err;\n    });\n  }\n\n  var DEST_TILE_BORDER = 3; // Max possible filter window size\n\n  opts.__destTileBorder = Math.ceil(Math.max(DEST_TILE_BORDER, 2.5 * opts.unsharpRadius | 0));\n  return this.init().then(function () {\n    if (opts.canceled) return opts.cancelToken; // if createImageBitmap supports resize, just do it and return\n\n    if (_this6.features.cib) {\n      if (filter_info.q2f.indexOf(opts.filter) >= 0) {\n        return _this6.__resizeViaCreateImageBitmap(from, to, opts);\n      }\n\n      _this6.debug('cib is enabled, but not supports provided filter, fallback to manual math');\n    }\n\n    if (!CAN_USE_CANVAS_GET_IMAGE_DATA) {\n      var err = new Error('Pica: cannot use getImageData on canvas, ' + \"make sure fingerprinting protection isn't enabled\");\n      err.code = 'ERR_GET_IMAGE_DATA';\n      throw err;\n    } //\n    // No easy way, let's resize manually via arrays\n    //\n\n\n    var stages = createStages(opts.width, opts.height, opts.toWidth, opts.toHeight, _this6.options.tile, opts.__destTileBorder);\n    return _this6.__processStages(stages, from, to, opts);\n  });\n}; // RGBA buffer resize\n//\n\n\nPica.prototype.resizeBuffer = function (options) {\n  var _this7 = this;\n\n  var opts = assign({}, DEFAULT_RESIZE_OPTS, options); // Legacy `.quality` option\n\n  if (Object.prototype.hasOwnProperty.call(opts, 'quality')) {\n    if (opts.quality < 0 || opts.quality > 3) {\n      throw new Error(\"Pica: .quality should be [0..3], got \".concat(opts.quality));\n    }\n\n    opts.filter = filter_info.q2f[opts.quality];\n  }\n\n  return this.init().then(function () {\n    return _this7.__mathlib.resizeAndUnsharp(opts);\n  });\n};\n\nPica.prototype.toBlob = function (canvas, mimeType, quality) {\n  mimeType = mimeType || 'image/png';\n  return new Promise(function (resolve) {\n    if (canvas.toBlob) {\n      canvas.toBlob(function (blob) {\n        return resolve(blob);\n      }, mimeType, quality);\n      return;\n    }\n\n    if (canvas.convertToBlob) {\n      resolve(canvas.convertToBlob({\n        type: mimeType,\n        quality: quality\n      }));\n      return;\n    } // Fallback for old browsers\n\n\n    var asString = atob(canvas.toDataURL(mimeType, quality).split(',')[1]);\n    var len = asString.length;\n    var asBuffer = new Uint8Array(len);\n\n    for (var i = 0; i < len; i++) {\n      asBuffer[i] = asString.charCodeAt(i);\n    }\n\n    resolve(new Blob([asBuffer], {\n      type: mimeType\n    }));\n  });\n};\n\nPica.prototype.debug = function () {};\n\nmodule.exports = Pica;\n\n},{\"./lib/mathlib\":1,\"./lib/mm_resize/resize_filter_info\":7,\"./lib/pool\":13,\"./lib/stepper\":14,\"./lib/tiler\":15,\"./lib/utils\":16,\"./lib/worker\":17,\"object-assign\":22,\"webworkify\":23}]},{},[])(\"/index.js\")\n});\n","import { NgModule } from \"@angular/core\";\r\nimport { Ng2ImgMaxService } from \"./ng2-img-max.service\";\r\nimport { ImgMaxSizeService } from \"./img-max-size.service\";\r\nimport { ImgMaxPXSizeService } from \"./img-maxpx-size.service\";\r\nimport { ImgExifService } from \"./img-exif.service\";\r\nimport { Ng2PicaModule } from \"ng2-pica\";\r\nimport * as ɵngcc0 from '@angular/core';\nvar Ng2ImgMaxModule = /** @class */ (function () {\r\n    function Ng2ImgMaxModule() {\r\n    }\nNg2ImgMaxModule.ɵfac = function Ng2ImgMaxModule_Factory(t) { return new (t || Ng2ImgMaxModule)(); };\nNg2ImgMaxModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: Ng2ImgMaxModule });\nNg2ImgMaxModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ providers: [\n        { provide: ImgMaxPXSizeService, useClass: ImgMaxPXSizeService },\n        { provide: ImgMaxSizeService, useClass: ImgMaxSizeService },\n        { provide: ImgExifService, useClass: ImgExifService },\n        { provide: Ng2ImgMaxService, useClass: Ng2ImgMaxService }\n    ], imports: [[\n            Ng2PicaModule\n        ]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(Ng2ImgMaxModule, { imports: function () { return [Ng2PicaModule]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Ng2ImgMaxModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    Ng2PicaModule\n                ],\n                providers: [\n                    { provide: ImgMaxPXSizeService, useClass: ImgMaxPXSizeService },\n                    { provide: ImgMaxSizeService, useClass: ImgMaxSizeService },\n                    { provide: ImgExifService, useClass: ImgExifService },\n                    { provide: Ng2ImgMaxService, useClass: Ng2ImgMaxService }\n                ]\n            }]\n    }], function () { return []; }, null); })();\r\n    return Ng2ImgMaxModule;\r\n}());\r\nexport { Ng2ImgMaxModule };\r\n\n//# sourceMappingURL=ng2-img-max.module.js.map","import { Injectable } from '@angular/core';\r\nimport * as exifr from 'exifr/dist/mini.legacy.umd';\r\nimport * as ɵngcc0 from '@angular/core';\nvar ImgExifService = /** @class */ (function () {\r\n    function ImgExifService() {\r\n    }\r\n    ImgExifService.prototype.getOrientedImage = function (image) {\r\n        return new Promise(function (resolve) {\r\n            var img;\r\n            exifr.orientation(image).catch(function (err) { return undefined; }).then(function (orientation) {\r\n                if (orientation != 1) {\r\n                    var canvas = document.createElement(\"canvas\"), ctx = canvas.getContext(\"2d\"), cw = image.width, ch = image.height, cx = 0, cy = 0, deg = 0;\r\n                    switch (orientation) {\r\n                        case 3:\r\n                        case 4:\r\n                            cx = -image.width;\r\n                            cy = -image.height;\r\n                            deg = 180;\r\n                            break;\r\n                        case 5:\r\n                        case 6:\r\n                            cw = image.height;\r\n                            ch = image.width;\r\n                            cy = -image.height;\r\n                            deg = 90;\r\n                            break;\r\n                        case 7:\r\n                        case 8:\r\n                            cw = image.height;\r\n                            ch = image.width;\r\n                            cx = -image.width;\r\n                            deg = 270;\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    canvas.width = cw;\r\n                    canvas.height = ch;\r\n                    if ([2, 4, 5, 7].indexOf(orientation) > -1) {\r\n                        //flip image\r\n                        ctx.translate(cw, 0);\r\n                        ctx.scale(-1, 1);\r\n                    }\r\n                    ctx.rotate(deg * Math.PI / 180);\r\n                    ctx.drawImage(image, cx, cy);\r\n                    img = document.createElement(\"img\");\r\n                    img.width = cw;\r\n                    img.height = ch;\r\n                    img.addEventListener('load', function () {\r\n                        resolve(img);\r\n                    });\r\n                    img.src = canvas.toDataURL(\"image/png\");\r\n                }\r\n                else {\r\n                    resolve(image);\r\n                }\r\n            });\r\n        });\r\n    };\nImgExifService.ɵfac = function ImgExifService_Factory(t) { return new (t || ImgExifService)(); };\nImgExifService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ImgExifService, factory: function (t) { return ImgExifService.ɵfac(t); } });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImgExifService, [{\n        type: Injectable\n    }], function () { return []; }, null); })();\r\n    return ImgExifService;\r\n}());\r\nexport { ImgExifService };\r\n\n//# sourceMappingURL=img-exif.service.js.map","import { NgModule } from \"@angular/core\";\r\nimport { Ng2PicaService } from \"./ng2-pica.service\";\r\nimport { ImgExifService } from \"./img-exif.service\";\r\nimport * as ɵngcc0 from '@angular/core';\nvar Ng2PicaModule = /** @class */ (function () {\r\n    function Ng2PicaModule() {\r\n    }\nNg2PicaModule.ɵfac = function Ng2PicaModule_Factory(t) { return new (t || Ng2PicaModule)(); };\nNg2PicaModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: Ng2PicaModule });\nNg2PicaModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ providers: [\n        { provide: Ng2PicaService, useClass: Ng2PicaService },\n        { provide: ImgExifService, useClass: ImgExifService }\n    ] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Ng2PicaModule, [{\n        type: NgModule,\n        args: [{\n                providers: [\n                    { provide: Ng2PicaService, useClass: Ng2PicaService },\n                    { provide: ImgExifService, useClass: ImgExifService }\n                ]\n            }]\n    }], function () { return []; }, null); })();\r\n    return Ng2PicaModule;\r\n}());\r\nexport { Ng2PicaModule };\r\n\n//# sourceMappingURL=ng2-pica.module.js.map"]}