{"version":3,"sources":["./src/app/core/services/inventario.service.ts","./src/app/core/services/prestamo.service.ts"],"names":[],"mappings":"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","file":"common-es2015.js","sourcesContent":["import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Inventario, InventarioResponse } from 'src/app/interfaces/inventario';\r\nimport { shareReplay } from 'rxjs/operators';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class InventarioService {\r\n\r\n  @Output() inventario:EventEmitter<Inventario> = new EventEmitter();\r\n  @Output() response:EventEmitter<InventarioResponse> = new EventEmitter();\r\n  cacheResponse$: Observable<any>;\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getInventario({\r\n    clientCi = '',\r\n    page = 1,\r\n    force = false,\r\n    estadoInv = ''\r\n  }):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    if (force || !this.cacheResponse$) {\r\n      return this.cacheResponse$ = this.http\r\n        .get(`${this.baseUrl}/inventario?ci=${clientCi}&estadoInv=${estadoInv}&page=${page}`,{headers})\r\n        .pipe( shareReplay(1));\r\n    }\r\n    return this.cacheResponse$;\r\n  }\r\n\r\n  getInventarioById(id: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.cacheResponse$ = this.http.get(`${this.baseUrl}/inventario/${id}`,{headers});\r\n\r\n  }\r\n\r\n  getInventarioByClientId(clientId: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.cacheResponse$ = this.http.get(`${this.baseUrl}/inventario/client/${clientId}`,{headers});\r\n\r\n  }\r\n\r\n\r\n  postInventario(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/inventario`,body,{headers});\r\n  }\r\n\r\n  patchInventario(body,id):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.patch(`${this.baseUrl}/inventario/${id}`,body,{headers});\r\n  }\r\n}\r\n","import { Injectable, Output ,EventEmitter} from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\n\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../../environments/environment';\r\nimport { Prestamo, PrestamoResponse } from 'src/app/interfaces/prestamo';\r\nimport { shareReplay } from 'rxjs/operators';\r\nimport { Client } from 'src/app/interfaces/client';\r\nimport { Inventario } from 'src/app/interfaces/inventario';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PrestamoService {\r\n\r\n  @Output() prestamo:EventEmitter<Prestamo> = new EventEmitter();\r\n  @Output() client:EventEmitter<Client> = new EventEmitter();\r\n  @Output() inventario:EventEmitter<Inventario[]> = new EventEmitter();\r\n  @Output() response:EventEmitter<PrestamoResponse> = new EventEmitter();\r\n  cacheResponse$: Observable<any>;\r\n  private baseUrl: string = environment.baseUrl;\r\n\r\n  constructor( private http: HttpClient ) { }\r\n\r\n  getPrestamos({\r\n    clientCi = '',\r\n    estadoPrestamo = '',\r\n    page = 1,\r\n    force = false\r\n  }):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    if (force || !this.cacheResponse$) {\r\n      return this.cacheResponse$ = this.http\r\n        .get(`${this.baseUrl}/prestamo?clientCi=${clientCi}&estadoPrestamo=${estadoPrestamo}&page=${page}`,{headers})\r\n        .pipe( shareReplay(1));\r\n    }\r\n    return this.cacheResponse$;\r\n  }\r\n\r\n  getPrestamoByClientId(clientId: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/prestamo/client/${clientId}`,{headers});\r\n  }\r\n\r\n  getPrestamoById(id: number):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.get(`${this.baseUrl}/prestamo/${id}`,{headers});\r\n  }\r\n\r\n  postPrestamo(body):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.post(`${this.baseUrl}/prestamo`,body,{headers});\r\n  }\r\n\r\n  patchPrestamo(body,id):Observable<any>{\r\n    const headers = new HttpHeaders()\r\n      .set('x-access-token',sessionStorage.getItem('token')||'');\r\n    return this.http.patch(`${this.baseUrl}/prestamo/${id}`,body,{headers});\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}