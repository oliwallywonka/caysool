
<div *ngIf="modal.visible&&modal.modalName==='inventarioModal'" class="justify-center items-center overflow-x-hidden overflow-y-auto fixed right-0 left-0 top-4 inset-0 z-50 grid">
  <div class="relative px-4 w-full max-w-6xl h-full md:h-auto">

    <div class="border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none">

      <div class="flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t">
        <h4 class="text-2xl font-semibold">
           Inventario
        </h4>
        <button
          class="p-1 ml-auto border-0 opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none"
          (click)="closeModal()"
          type="button"
        >
          <span class="opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none">
            x
          </span>
        </button>
      </div>
      <form
        autocomplete="off"
        [formGroup]="inventarioForm"
        (ngSubmit)="save()"
      >
        <div class="my-4 flex flex-wrap w-full">

          <div class="w-full px-4 mb-2">
            <app-input
              [inputForm]="inventarioForm"
              inputLabel="OBSERVACIONES"
              inputType="text"
              inputFormName="observacion"
              formControlName="observacion"
              inputPlaceholder="Estado actual, marcas de deterioro, defectos"
              [value]="inventarioForm.value.observacion">
            </app-input>
          </div>

          <div class="w-full px-4 mb-2">
            <app-input
              [inputForm]="inventarioForm"
              inputLabel="DESCRIPCIÓN"
              inputType="text"
              inputFormName="descripcion"
              formControlName="descripcion"
              inputPlaceholder="Descripción del inventario"
              [value]="inventarioForm.value.descripcion">
            </app-input>
          </div>

          <div class="w-full lg:w-6/12 px-4 mb-2">
            <app-input
              [inputForm]="inventarioForm"
              inputLabel="AVALÚO"
              inputType="number"
              inputFormName="precioAvaluo"
              formControlName="precioAvaluo"
              inputPlaceholder="Valor de apreciacion de la prenda"
              [value]="inventarioForm.value.precioAvaluo">
            </app-input>
          </div>

          <div class="w-full lg:w-6/12 px-4 mb-2">
            <app-input
              [inputForm]="inventarioForm"
              inputLabel="PRECIO COMPRA"
              inputType="number"
              inputFormName="costoCompra"
              formControlName="costoCompra"
              inputPlaceholder="Cantidad de costo del inventario"
              [value]="inventarioForm.value.costoCompra">
            </app-input>
          </div>
          <div class="w-full px-4 mb-2">
            <app-select
              [options]="inventarioOption"
              inputLabel="PRENDAS EN GARANTIA"
              inputFormName="tipo"
              formControlName="tipo"
              [inputForm]="inventarioForm"
              [value]="inventarioForm.value.tipo">
            </app-select>
          </div>
          <div
            *ngIf="inventarioForm.value.tipo==='VEHICULO'"
            class="w-full flex flex-wrap mb-2">
            <div class="w-full lg:w-6/12  px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="MARCA"
                inputType="text"
                inputFormName="marca"
                formControlName="marca"
                inputPlaceholder="Toyota, Nissan, Susuki"
                [value]="inventarioForm.value.marca">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12  px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="MODELO"
                inputType="text"
                inputFormName="modelo"
                formControlName="modelo"
                inputPlaceholder="Ingrese el año"
                [value]="inventarioForm.value.modelo">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12  px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="LINEA"
                inputType="text"
                inputFormName="linea"
                formControlName="linea"
                inputPlaceholder="Corolla, Ipsun, Caldina"
                [value]="inventarioForm.value.linea">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12  px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="PLACA"
                inputType="text"
                inputFormName="placa"
                formControlName="placa"
                inputPlaceholder="Placa del vehiculo"
                [value]="inventarioForm.value.placa">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12  px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="NÚMERO DE CHASIS"
                inputType="text"
                inputFormName="chasis"
                formControlName="chasis"
                inputPlaceholder="Número de serie"
                [value]="inventarioForm.value.chasis">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="DEUDAS RUAT"
                inputType="text"
                inputFormName="ruat"
                formControlName="ruat"
                inputPlaceholder="Deudas de vehiculo"
                [value]="inventarioForm.value.ruat">
              </app-input>
            </div>

          </div>

          <div
            *ngIf="inventarioForm.value.tipo==='JOYA'"
            class="w-full flex flex-wrap mb-2">
            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="METAL"
                inputType="text"
                inputFormName="metal"
                formControlName="metal"
                inputPlaceholder="Oro, Plata, Fantasia"
                [value]="inventarioForm.value.metal">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="PESO EN GRAMOS"
                inputType="text"
                inputFormName="peso"
                formControlName="peso"
                inputPlaceholder="100 gr"
                [value]="inventarioForm.value.peso">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="PUREZA"
                inputType="text"
                inputFormName="pureza"
                formControlName="pureza"
                inputPlaceholder="Grado de pureza"
                [value]="inventarioForm.value.pureza">
              </app-input>
            </div>
          </div>

          <div
            *ngIf="inventarioForm.value.tipo==='ARTICULO'"
            class="w-full flex flex-wrap mb-2">
            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="MARCA"
                inputType="text"
                inputFormName="marca"
                formControlName="marca"
                inputPlaceholder="Nombre del fabricante"
                [value]="inventarioForm.value.marca">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="MODELO"
                inputType="text"
                inputFormName="modelo"
                formControlName="modelo"
                inputPlaceholder="Nombre del producto"
                [value]="inventarioForm.value.modelo">
              </app-input>
            </div>

            <div class="w-full lg:w-6/12 px-4 mb-2">
              <app-input
                [inputForm]="inventarioForm"
                inputLabel="SERIE"
                inputType="text"
                inputFormName="serie"
                formControlName="serie"
                inputPlaceholder="Número de serie"
                [value]="inventarioForm.value.serie">
              </app-input>
            </div>
          </div>

        <div class="flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b">
          <button
            class="text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
            (click)="closeModal()"
            type="button"
          >
            Cancelar
          </button>
          <button
            class="mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
            type="button"
            (click)="refreshForm()"
          >
            Limpiar
          </button>
          <button
            [disabled]="!inventarioForm.valid || loading "
            class="mx-4 bg-sky-700 text-white active:bg-sky-700 font-bold uppercase text-xs px-4 py-2 rounded-full shadow hover:shadow-md outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150"
            type="submit"
          >
          <i class="fas fa-spinner" [ngClass]="loading? 'animate-spin': 'hidden'"></i> Guardar cambios
          </button>
        </div>

        </div>
      </form>

    </div>
  </div>
</div>
<div *ngIf="modal.visible&&modal.modalName==='inventarioModal'" class="opacity-25 fixed inset-0 z-40 bg-black"></div>
